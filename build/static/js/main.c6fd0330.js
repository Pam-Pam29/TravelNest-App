/*! For license information please see main.c6fd0330.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,k=Object.prototype.hasOwnProperty,N={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,i)&&!E.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:N.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var j=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+C(l,0):s,x(a)?(i="",null!=e&&(i=e.replace(j,"$&/")+"/"),T(a,t,i,"",(function(e){return e}))):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(j,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var u=s+C(o=e[c],c);l+=T(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=T(o=o.value,t,i,u=s+C(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:N};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=N.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,R(k);else{var t=r(u);null!==t&&D(x,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,y(S),S=-1),p=!0;var s=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(x,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,E=!1,_=null,S=-1,j=5,C=-1;function T(){return!(t.unstable_now()-C<j)}function I(){if(null!==_){var e=t.unstable_now();C=e;var n=!0;try{n=_(!0,e)}finally{n?N():(E=!1,_=null)}}else E=!1}if("function"===typeof b)N=function(){b(I)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=I,N=function(){P.postMessage(null)}}else N=function(){v(I,0)};function R(e){_=e,E||(E=!0,N())}function D(e,n){S=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(S),S=-1):g=!0,D(x,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,R(k))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),k=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),j=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,F=Object.assign;function M(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(qs){var r=qs}Reflect.construct(e,[],t)}else{try{t.call()}catch(qs){r=qs}e.call(t.prototype)}else{try{throw Error()}catch(qs){r=qs}e()}}catch(qs){if(qs&&r&&"string"===typeof qs.stack){for(var i=qs.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function B(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case k:return"Portal";case _:return"Profiler";case E:return"StrictMode";case T:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case j:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function $(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(au){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function se(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Ne=null,Ee=null;function _e(e){if(e=bi(e)){if("function"!==typeof ke)throw Error(s(280));var t=e.stateNode;t&&(t=xi(t),ke(e.stateNode,e.type,t))}}function Se(e){Ne?Ee?Ee.push(e):Ee=[e]:Ne=e}function je(){if(Ne){var e=Ne,t=Ee;if(Ee=Ne=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ce(e,t){return e(t)}function Te(){}var Ie=!1;function Ae(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Ce(e,t,n)}finally{Ie=!1,(null!==Ne||null!==Ee)&&(Te(),je())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Re=!1}function Oe(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Fe=null,Me=!1,Ue=null,Ve={onError:function(e){Le=!0,Fe=e}};function Be(e,t,n,r,i,s,a,o,l){Le=!1,Fe=null,Oe.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(ze(e)!==e)throw Error(s(188))}function He(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return $e(i),e;if(a===r)return $e(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=dt(o):0!==(s&=a)&&(r=dt(s))}else 0!==(a=n&~i)?r=dt(a):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,kt,Nt,Et,_t,St=!1,jt=[],Ct=null,Tt=null,It=null,At=new Map,Pt=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void _t(e.priority,(function(){Nt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Mt(e)&&n.delete(t)}function Vt(){St=!1,null!==Ct&&Mt(Ct)&&(Ct=null),null!==Tt&&Mt(Tt)&&(Tt=null),null!==It&&Mt(It)&&(It=null),At.forEach(Ut),Pt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<jt.length){Bt(jt[0],e);for(var n=1;n<jt.length;n++){var r=jt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==Tt&&Bt(Tt,e),null!==It&&Bt(It,e),At.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var qt=w.ReactCurrentBatchConfig,$t=!0;function Ht(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Wt(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Kt(e,t,n,r){if($t){var i=Qt(e,t,n,r);if(null===i)$r(e,t,r,Gt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,i),!0;case"dragenter":return Tt=Lt(Tt,e,t,n,r,i),!0;case"mouseover":return It=Lt(It,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return At.set(s,Lt(At.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pt.set(s,Lt(Pt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&xt(s),null===(s=Qt(e,t,n,r))&&$r(e,t,r,Gt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else $r(e,t,r,null,n)}}var Gt=null;function Qt(e,t,n,r){if(Gt=null,null!==(e=yi(e=xe(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=F({},cn,{view:0,detail:0}),hn=sn(dn),fn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(F({},fn,{dataTransfer:0})),gn=sn(F({},dn,{relatedTarget:0})),vn=sn(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(F({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nn[e])&&!!t[e]}function _n(){return En}var Sn=F({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),jn=sn(Sn),Cn=sn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=sn(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),In=sn(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=sn(An),Rn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Ln=u&&"TextEvent"in window&&!On,Fn=u&&(!Dn||On&&8<On&&11>=On),Mn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Se(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Gn(e){Mr(e,0)}function Qn(e){if(K(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Kn=Wn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Hn(t,Kn,e,xe(e)),Ae(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function sr(e,t){if("click"===e)return Qn(t)}function ar(e,t){if("input"===e||"change"===e)return Qn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Nr={},Er={};function _r(e){if(Nr[e])return Nr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Nr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Sr=_r("animationend"),jr=_r("animationiteration"),Cr=_r("animationstart"),Tr=_r("transitionend"),Ir=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ir.set(e,t),l(t,[e])}for(var Rr=0;Rr<Ar.length;Rr++){var Dr=Ar[Rr];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Sr,"onAnimationEnd"),Pr(jr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=Fe;Le=!1,Fe=null,Me||(Me=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,o,c),s=l}}}if(Me)throw e=Ue,Me=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $r(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=yi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Ae((function(){var r=s,i=xe(n),a=[];e:{var o=Ir.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=jn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Sr:case jr:case Cr:l=vn;break;case Tr:l=In;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Pe(p,h))&&u.push(Hr(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:wi(l),f=null==c?o:wi(c),(o=new u(m,p+"leave",l,n,i)).target=d,o.relatedTarget=f,m=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=h;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Gr(a,o,l,u,!1),null!==c&&null!==d&&Gr(a,d,c,u,!0)}if("select"===(l=(o=r?wi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Yn;else if($n(o))if(Xn)g=ar;else{g=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Hn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?wi(r):window,e){case"focusin":($n(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(v=Wr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Mn);case"textInput":return(e=t.data)===Mn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Mr(a,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pe(e,n))&&r.unshift(Hr(e,s,i)),null!=(s=Pe(e,t))&&r.push(Hr(e,s,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Pe(n,s))&&a.unshift(Hr(n,l,o)):i||null!=(l=Pe(n,s))&&a.push(Hr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function xi(e){return e[fi]||null}var ki=[],Ni=-1;function Ei(e){return{current:e}}function _i(e){0>Ni||(e.current=ki[Ni],ki[Ni]=null,Ni--)}function Si(e,t){Ni++,ki[Ni]=e.current,e.current=t}var ji={},Ci=Ei(ji),Ti=Ei(!1),Ii=ji;function Ai(e,t){var n=e.type.contextTypes;if(!n)return ji;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){_i(Ti),_i(Ci)}function Di(e,t,n){if(Ci.current!==ji)throw Error(s(168));Si(Ci,t),Si(Ti,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ji,Ii=Ci.current,Si(Ci,e),Si(Ti,Ti.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Oi(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,_i(Ti),_i(Ci),Si(Ci,e)):_i(Ti),Si(Ti,n)}var Mi=null,Ui=!1,Vi=!1;function Bi(e){null===Mi?Mi=[e]:Mi.push(e)}function zi(){if(!Vi&&null!==Mi){Vi=!0;var e=0,t=bt;try{var n=Mi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Mi=null,Ui=!1}catch(i){throw null!==Mi&&(Mi=Mi.slice(e+1)),Ke(Ze,zi),i}finally{bt=t,Vi=!1}}return null}var qi=[],$i=0,Hi=null,Wi=0,Ki=[],Gi=0,Qi=null,Yi=1,Xi="";function Ji(e,t){qi[$i++]=Wi,qi[$i++]=Hi,Hi=e,Wi=t}function Zi(e,t,n){Ki[Gi++]=Yi,Ki[Gi++]=Xi,Ki[Gi++]=Qi,Qi=e;var r=Yi;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Xi=s+e}else Yi=1<<s|n<<i|r,Xi=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===Hi;)Hi=qi[--$i],qi[$i]=null,Wi=qi[--$i],qi[$i]=null;for(;e===Qi;)Qi=Ki[--Gi],Ki[Gi]=null,Xi=Ki[--Gi],Ki[Gi]=null,Yi=Ki[--Gi],Ki[Gi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Lc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Lc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)as(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=zc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===N?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&ys(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Uc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Vc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Uc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case k:return(t=qc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Vc(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case k:return n.key===i?u(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:d(e,t,n,r,null);vs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return d(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,o[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=a(v,s,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===o.length)return n(i,d),is&&Ji(i,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(s=a(d,s,m),null===u?c=d:u.sibling=d,u=d);return is&&Ji(i,m),c}for(d=r(i,d);m<o.length;m++)null!==(g=p(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),is&&Ji(i,m),c}function g(i,o,l,c){var u=O(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),is&&Ji(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return is&&Ji(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),is&&Ji(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===N&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===N){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&ys(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=gs(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===N?((s=Vc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Uc(a.type,a.key,a.props,null,r.mode,l)).ref=gs(r,s,a),l.return=r,r=l)}return o(r);case k:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=qc(a,r.mode,l)).return=r,r=s}return o(r);case P:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(O(a))return g(r,s,a,l);vs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=zc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var ws=bs(!0),xs=bs(!1),ks=Ei(null),Ns=null,Es=null,_s=null;function Ss(){_s=Es=Ns=null}function js(e){var t=ks.current;_i(ks),e._currentValue=t}function Cs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ts(e,t){Ns=e,_s=Es=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(No=!0),e.firstContext=null)}function Is(e){var t=e._currentValue;if(_s!==e)if(e={context:e,memoizedValue:t,next:null},null===Es){if(null===Ns)throw Error(s(308));Es=e,Ns.dependencies={lanes:0,firstContext:e}}else Es=Es.next=e;return t}var As=null;function Ps(e){null===As?As=[e]:As.push(e)}function Rs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ps(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ds(e,r)}function Ds(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Os=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ms(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Rl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ds(e,n)}return null===(i=r.interleaved)?(t.next=t,Ps(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ds(e,n)}function Bs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function zs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $s(e,t,n,r){var i=e.updateQueue;Os=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=F({},d,h);break e;case 2:Os=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Bl|=a,e.lanes=a,e.memoizedState=d}}function Hs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Ws={},Ks=Ei(Ws),Gs=Ei(Ws),Qs=Ei(Ws);function Ys(e){if(e===Ws)throw Error(s(174));return e}function Xs(e,t){switch(Si(Qs,t),Si(Gs,e),Si(Ks,Ws),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(Ks),Si(Ks,t)}function Zs(){_i(Ks),_i(Gs),_i(Qs)}function ea(e){Ys(Qs.current);var t=Ys(Ks.current),n=le(t,e.type);t!==n&&(Si(Gs,e),Si(Ks,n))}function ta(e){Gs.current===e&&(_i(Ks),_i(Gs))}var ra=Ei(0);function ia(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sa=[];function aa(){for(var e=0;e<sa.length;e++)sa[e]._workInProgressVersionPrimary=null;sa.length=0}var oa=w.ReactCurrentDispatcher,la=w.ReactCurrentBatchConfig,ca=0,ua=null,da=null,ha=null,fa=!1,pa=!1,ma=0,ga=0;function va(){throw Error(s(321))}function ya(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ba(e,t,n,r,i,a){if(ca=a,ua=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=null===e||null===e.memoizedState?no:ro,e=n(r,i),pa){a=0;do{if(pa=!1,ma=0,25<=a)throw Error(s(301));a+=1,ha=da=null,t.updateQueue=null,oa.current=io,e=n(r,i)}while(pa)}if(oa.current=to,t=null!==da&&null!==da.next,ca=0,ha=da=ua=null,fa=!1,t)throw Error(s(300));return e}function wa(){var e=0!==ma;return ma=0,e}function xa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ha?ua.memoizedState=ha=e:ha=ha.next=e,ha}function ka(){if(null===da){var e=ua.alternate;e=null!==e?e.memoizedState:null}else e=da.next;var t=null===ha?ua.memoizedState:ha.next;if(null!==t)ha=t,da=e;else{if(null===e)throw Error(s(310));e={memoizedState:(da=e).memoizedState,baseState:da.baseState,baseQueue:da.baseQueue,queue:da.queue,next:null},null===ha?ua.memoizedState=ha=e:ha=ha.next=e}return ha}function Na(e,t){return"function"===typeof t?t(e):t}function Ea(e){var t=ka(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=da,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((ca&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,ua.lanes|=d,Bl|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(No=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ua.lanes|=a,Bl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _a(e){var t=ka(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(No=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Sa(){}function ja(e,t){var n=ua,r=ka(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,No=!0),r=r.queue,Ua(Ia.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ha&&1&ha.memoizedState.tag){if(n.flags|=2048,Da(9,Ta.bind(null,n,r,i,t),void 0,null),null===Dl)throw Error(s(349));0!==(30&ca)||Ca(n,t,i)}return i}function Ca(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ua.updateQueue)?(t={lastEffect:null,stores:null},ua.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ta(e,t,n,r){t.value=n,t.getSnapshot=r,Aa(t)&&Pa(e)}function Ia(e,t,n){return n((function(){Aa(t)&&Pa(e)}))}function Aa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Pa(e){var t=Ds(e,1);null!==t&&oc(t,e,1,-1)}function Ra(e){var t=xa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:e},t.queue=e,e=e.dispatch=Xa.bind(null,ua,e),[t.memoizedState,e]}function Da(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ua.updateQueue)?(t={lastEffect:null,stores:null},ua.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Oa(){return ka().memoizedState}function La(e,t,n,r){var i=xa();ua.flags|=e,i.memoizedState=Da(1|t,n,void 0,void 0===r?null:r)}function Fa(e,t,n,r){var i=ka();r=void 0===r?null:r;var s=void 0;if(null!==da){var a=da.memoizedState;if(s=a.destroy,null!==r&&ya(r,a.deps))return void(i.memoizedState=Da(t,n,s,r))}ua.flags|=e,i.memoizedState=Da(1|t,n,s,r)}function Ma(e,t){return La(8390656,8,e,t)}function Ua(e,t){return Fa(2048,8,e,t)}function Va(e,t){return Fa(4,2,e,t)}function Ba(e,t){return Fa(4,4,e,t)}function za(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fa(4,4,za.bind(null,t,e),n)}function $a(){}function Ha(e,t){var n=ka();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ya(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wa(e,t){var n=ka();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ya(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ka(e,t,n){return 0===(21&ca)?(e.baseState&&(e.baseState=!1,No=!0),e.memoizedState=n):(or(n,t)||(n=mt(),ua.lanes|=n,Bl|=n,e.baseState=!0),t)}function Ga(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=la.transition;la.transition={};try{e(!1),t()}finally{bt=n,la.transition=r}}function Qa(){return ka().memoizedState}function Ya(e,t,n){var r=ac(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ja(e))Za(t,n);else if(null!==(n=Rs(e,t,n,r))){oc(n,e,r,sc()),eo(n,t,r)}}function Xa(e,t,n){var r=ac(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ja(e))Za(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Ps(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(qs){}null!==(n=Rs(e,t,i,r))&&(oc(n,e,r,i=sc()),eo(n,t,r))}}function Ja(e){var t=e.alternate;return e===ua||null!==t&&t===ua}function Za(e,t){pa=fa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var to={readContext:Is,useCallback:va,useContext:va,useEffect:va,useImperativeHandle:va,useInsertionEffect:va,useLayoutEffect:va,useMemo:va,useReducer:va,useRef:va,useState:va,useDebugValue:va,useDeferredValue:va,useTransition:va,useMutableSource:va,useSyncExternalStore:va,useId:va,unstable_isNewReconciler:!1},no={readContext:Is,useCallback:function(e,t){return xa().memoizedState=[e,void 0===t?null:t],e},useContext:Is,useEffect:Ma,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,La(4194308,4,za.bind(null,t,e),n)},useLayoutEffect:function(e,t){return La(4194308,4,e,t)},useInsertionEffect:function(e,t){return La(4,2,e,t)},useMemo:function(e,t){var n=xa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ya.bind(null,ua,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xa().memoizedState=e},useState:Ra,useDebugValue:$a,useDeferredValue:function(e){return xa().memoizedState=e},useTransition:function(){var e=Ra(!1),t=e[0];return e=Ga.bind(null,e[1]),xa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ua,i=xa();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Dl)throw Error(s(349));0!==(30&ca)||Ca(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ma(Ia.bind(null,r,a,e),[e]),r.flags|=2048,Da(9,Ta.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=xa(),t=Dl.identifierPrefix;if(is){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=ma++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ga++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ro={readContext:Is,useCallback:Ha,useContext:Is,useEffect:Ua,useImperativeHandle:qa,useInsertionEffect:Va,useLayoutEffect:Ba,useMemo:Wa,useReducer:Ea,useRef:Oa,useState:function(){return Ea(Na)},useDebugValue:$a,useDeferredValue:function(e){return Ka(ka(),da.memoizedState,e)},useTransition:function(){return[Ea(Na)[0],ka().memoizedState]},useMutableSource:Sa,useSyncExternalStore:ja,useId:Qa,unstable_isNewReconciler:!1},io={readContext:Is,useCallback:Ha,useContext:Is,useEffect:Ua,useImperativeHandle:qa,useInsertionEffect:Va,useLayoutEffect:Ba,useMemo:Wa,useReducer:_a,useRef:Oa,useState:function(){return _a(Na)},useDebugValue:$a,useDeferredValue:function(e){var t=ka();return null===da?t.memoizedState=e:Ka(t,da.memoizedState,e)},useTransition:function(){return[_a(Na)[0],ka().memoizedState]},useMutableSource:Sa,useSyncExternalStore:ja,useId:Qa,unstable_isNewReconciler:!1};function so(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ao(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var oo={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=sc(),i=ac(e),s=Ms(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Vs(e,s,i))&&(oc(t,e,i,r),Bs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=sc(),i=ac(e),s=Ms(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Vs(e,s,i))&&(oc(t,e,i,r),Bs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=sc(),r=ac(e),i=Ms(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Vs(e,i,r))&&(oc(t,e,r,n),Bs(t,e,r))}};function lo(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function co(e,t,n){var r=!1,i=ji,s=t.contextType;return"object"===typeof s&&null!==s?s=Is(s):(i=Pi(t)?Ii:Ci.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):ji),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function uo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oo.enqueueReplaceState(t,t.state,null)}function ho(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Is(s):(s=Pi(t)?Ii:Ci.current,i.context=Ai(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ao(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&oo.enqueueReplaceState(i,i.state,null),$s(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function fo(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function po(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function mo(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var go="function"===typeof WeakMap?WeakMap:Map;function vo(e,t,n){(n=Ms(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ql||(Ql=!0,Yl=r),mo(0,t)},n}function yo(e,t,n){(n=Ms(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){mo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){mo(0,t),"function"!==typeof r&&(null===Xl?Xl=new Set([this]):Xl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function bo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new go;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function wo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ms(-1,1)).tag=2,Vs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ko=w.ReactCurrentOwner,No=!1;function Eo(e,t,n,r){t.child=null===e?xs(t,null,n,r):ws(t,e.child,n,r)}function _o(e,t,n,r,i){n=n.render;var s=t.ref;return Ts(t,i),r=ba(e,t,n,r,s,i),n=wa(),null===e||No?(is&&n&&es(t),t.flags|=1,Eo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qo(e,t,i))}function jo(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Fc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Uc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Co(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Qo(e,t,i)}return t.flags|=1,(e=Mc(s,r)).ref=t.ref,e.return=t,t.child=e}function Co(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(No=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Qo(e,t,i);0!==(131072&e.flags)&&(No=!0)}}return Ao(e,t,n,r,i)}function To(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Ml,Fl),Fl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Ml,Fl),Fl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Si(Ml,Fl),Fl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Si(Ml,Fl),Fl|=r;return Eo(e,t,i,n),t.child}function Io(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ao(e,t,n,r,i){var s=Pi(n)?Ii:Ci.current;return s=Ai(t,s),Ts(t,i),n=ba(e,t,n,r,s,i),r=wa(),null===e||No?(is&&r&&es(t),t.flags|=1,Eo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qo(e,t,i))}function Po(e,t,n,r,i){if(Pi(n)){var s=!0;Li(t)}else s=!1;if(Ts(t,i),null===t.stateNode)Go(e,t),co(t,n,r),ho(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Is(c):c=Ai(t,c=Pi(n)?Ii:Ci.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&uo(t,a,r,c),Os=!1;var h=t.memoizedState;a.state=h,$s(t,r,a,i),l=t.memoizedState,o!==r||h!==l||Ti.current||Os?("function"===typeof u&&(ao(t,n,u,r),l=t.memoizedState),(o=Os||lo(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fs(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:so(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Is(l):l=Ai(t,l=Pi(n)?Ii:Ci.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&uo(t,a,r,l),Os=!1,h=t.memoizedState,a.state=h,$s(t,r,a,i);var p=t.memoizedState;o!==d||h!==p||Ti.current||Os?("function"===typeof f&&(ao(t,n,f,r),p=t.memoizedState),(c=Os||lo(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ro(e,t,n,r,s,i)}function Ro(e,t,n,r,i,s){Io(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Fi(t,n,!1),Qo(e,t,s);r=t.stateNode,ko.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,o,s)):Eo(e,t,o,s),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Do(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Xs(e,t.containerInfo)}function Oo(e,t,n,r,i){return fs(),ps(i),t.flags|=256,Eo(e,t,n,r),t.child}var Lo,Fo,Mo,Uo,Vo={dehydrated:null,treeContext:null,retryLane:0};function Bo(e){return{baseLanes:e,cachePool:null,transitions:null}}function zo(e,t,n){var r,i=t.pendingProps,a=ra.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Si(ra,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Bc(l,i,0,null),e=Vc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Bo(n),t.memoizedState=Vo,e):qo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,$o(e,t,o,r=po(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Bc({mode:"visible",children:r.children},i,0,null),(a=Vc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,o),t.child.memoizedState=Bo(o),t.memoizedState=Vo,a);if(0===(1&t.mode))return $o(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,$o(e,t,o,r=po(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),No||l){if(null!==(r=Dl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ds(e,i),oc(r,e,i,-1))}return wc(),$o(e,t,o,r=po(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Pc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Ki[Gi++]=Yi,Ki[Gi++]=Xi,Ki[Gi++]=Qi,Yi=e.id,Xi=e.overflow,Qi=t),t=qo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Mc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Mc(r,o):(o=Vc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Bo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Vo,i}return e=(o=e.child).sibling,i=Mc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function qo(e,t){return(t=Bc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $o(e,t,n,r){return null!==r&&ps(r),ws(t,e.child,null,n),(e=qo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ho(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Cs(e.return,t,n)}function Wo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ko(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Eo(e,t,r.children,n),0!==(2&(r=ra.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ho(e,n,t);else if(19===e.tag)Ho(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(ra,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ia(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Wo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ia(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Wo(t,!0,n,null,s);break;case"together":Wo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Go(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Mc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yo(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Jo(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xo(t),null;case 1:case 17:return Pi(t.type)&&Ri(),Xo(t),null;case 3:return r=t.stateNode,Zs(),_i(Ti),_i(Ci),aa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(dc(ss),ss=null))),Fo(e,t),Xo(t),null;case 5:ta(t);var i=Ys(Qs.current);if(n=t.type,null!==e&&null!=t.stateNode)Mo(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Xo(t),null}if(e=Ys(Ks.current),ds(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":W(r),Z(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Lo(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Ur("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Xo(t),null;case 6:if(e&&null!=t.stateNode)Uo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ys(Qs.current),Ys(Ks.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Xo(t),null;case 13:if(_i(ra),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,a=!1;else if(a=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[hi]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Xo(t),a=!1}else null!==ss&&(dc(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ra.current)?0===Ul&&(Ul=3):wc())),null!==t.updateQueue&&(t.flags|=4),Xo(t),null);case 4:return Zs(),Fo(e,t),null===e&&zr(t.stateNode.containerInfo),Xo(t),null;case 10:return js(t.type._context),Xo(t),null;case 19:if(_i(ra),null===(a=t.memoizedState))return Xo(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Yo(a,!1);else{if(0!==Ul||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ia(e))){for(t.flags|=128,Yo(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(ra,1&ra.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Kl&&(t.flags|=128,r=!0,Yo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ia(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Yo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Xo(t),null}else 2*Xe()-a.renderingStartTime>Kl&&1073741824!==n&&(t.flags|=128,r=!0,Yo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=ra.current,Si(ra,r?1&n|2:1&n),t):(Xo(t),null);case 22:case 23:return gc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Fl)&&(Xo(t),6&t.subtreeFlags&&(t.flags|=8192)):Xo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Zo(e,t){switch(ts(t),t.tag){case 1:return Pi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Zs(),_i(Ti),_i(Ci),aa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ta(t),null;case 13:if(_i(ra),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(ra),null;case 4:return Zs(),null;case 10:return js(t.type._context),null;case 22:case 23:return gc(),null;default:return null}}Lo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Fo=function(){},Mo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ys(Ks.current);var s,a=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Uo=function(e,t,n,r){n!==r&&(t.flags|=4)};var el=!1,tl=!1,nl="function"===typeof WeakSet?WeakSet:Set,rl=null;function il(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tc(e,t,r)}else n.current=null}function sl(e,t,n){try{n()}catch(r){Tc(e,t,r)}}var al=!1;function ol(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&sl(t,n,s)}i=i.next}while(i!==r)}}function ll(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function cl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ul(e){var t=e.alternate;null!==t&&(e.alternate=null,ul(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dl(e){return 5===e.tag||3===e.tag||4===e.tag}function hl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||dl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function fl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(fl(e,t,n),e=e.sibling;null!==e;)fl(e,t,n),e=e.sibling}function pl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(pl(e,t,n),e=e.sibling;null!==e;)pl(e,t,n),e=e.sibling}var ml=null,gl=!1;function vl(e,t,n){for(n=n.child;null!==n;)yl(e,t,n),n=n.sibling}function yl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:tl||il(n,t);case 6:var r=ml,i=gl;ml=null,vl(e,t,n),gl=i,null!==(ml=r)&&(gl?(e=ml,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ml.removeChild(n.stateNode));break;case 18:null!==ml&&(gl?(e=ml,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(ml,n.stateNode));break;case 4:r=ml,i=gl,ml=n.stateNode.containerInfo,gl=!0,vl(e,t,n),ml=r,gl=i;break;case 0:case 11:case 14:case 15:if(!tl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&sl(n,t,a),i=i.next}while(i!==r)}vl(e,t,n);break;case 1:if(!tl&&(il(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Tc(n,t,o)}vl(e,t,n);break;case 21:vl(e,t,n);break;case 22:1&n.mode?(tl=(r=tl)||null!==n.memoizedState,vl(e,t,n),tl=r):vl(e,t,n);break;default:vl(e,t,n)}}function bl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new nl),t.forEach((function(t){var r=Rc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function wl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ml=l.stateNode,gl=!1;break e;case 3:case 4:ml=l.stateNode.containerInfo,gl=!0;break e}l=l.return}if(null===ml)throw Error(s(160));yl(a,o,i),ml=null,gl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(qs){Tc(i,t,qs)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)xl(t,e),t=t.sibling}function xl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wl(t,e),kl(e),4&r){try{ol(3,e,e.return),ll(3,e)}catch(g){Tc(e,e.return,g)}try{ol(5,e,e.return)}catch(g){Tc(e,e.return,g)}}break;case 1:wl(t,e),kl(e),512&r&&null!==n&&il(n,n.return);break;case 5:if(wl(t,e),kl(e),512&r&&null!==n&&il(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Tc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),be(l,o);var u=be(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":J(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Tc(e,e.return,g)}}break;case 6:if(wl(t,e),kl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Tc(e,e.return,g)}}break;case 3:if(wl(t,e),kl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Tc(e,e.return,g)}break;case 4:default:wl(t,e),kl(e);break;case 13:wl(t,e),kl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Wl=Xe())),4&r&&bl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(tl=(u=tl)||d,wl(t,e),tl=u):wl(t,e),kl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(rl=e,d=e.child;null!==d;){for(h=rl=d;null!==rl;){switch(p=(f=rl).child,f.tag){case 0:case 11:case 14:case 15:ol(4,f,f.return);break;case 1:il(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Tc(r,n,g)}}break;case 5:il(f,f.return);break;case 22:if(null!==f.memoizedState){Sl(h);continue}}null!==p?(p.return=f,rl=p):Sl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){Tc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Tc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:wl(t,e),kl(e),4&r&&bl(e);case 21:}}function kl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(dl(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),pl(e,hl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;fl(e,hl(e),a);break;default:throw Error(s(161))}}catch(Us){Tc(e,e.return,Us)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Nl(e,t,n){rl=e,El(e,t,n)}function El(e,t,n){for(var r=0!==(1&e.mode);null!==rl;){var i=rl,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||el;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||tl;o=el;var c=tl;if(el=a,(tl=l)&&!c)for(rl=i;null!==rl;)l=(a=rl).child,22===a.tag&&null!==a.memoizedState?jl(i):null!==l?(l.return=a,rl=l):jl(i);for(;null!==s;)rl=s,El(s,t,n),s=s.sibling;rl=i,el=o,tl=c}_l(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,rl=s):_l(e)}}function _l(e){for(;null!==rl;){var t=rl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:tl||ll(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!tl)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:so(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Hs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(s(163))}tl||512&t.flags&&cl(t)}catch(Js){Tc(t,t.return,Js)}}if(t===e){rl=null;break}if(null!==(n=t.sibling)){n.return=t.return,rl=n;break}rl=t.return}}function Sl(e){for(;null!==rl;){var t=rl;if(t===e){rl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,rl=n;break}rl=t.return}}function jl(e){for(;null!==rl;){var t=rl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ll(4,t)}catch(Us){Tc(t,n,Us)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(Us){Tc(t,i,Us)}}var s=t.return;try{cl(t)}catch(Us){Tc(t,s,Us)}break;case 5:var a=t.return;try{cl(t)}catch(Us){Tc(t,a,Us)}}}catch(Us){Tc(t,t.return,Us)}if(t===e){rl=null;break}var o=t.sibling;if(null!==o){o.return=t.return,rl=o;break}rl=t.return}}var Cl,Tl=Math.ceil,Il=w.ReactCurrentDispatcher,Al=w.ReactCurrentOwner,Pl=w.ReactCurrentBatchConfig,Rl=0,Dl=null,Ol=null,Ll=0,Fl=0,Ml=Ei(0),Ul=0,Vl=null,Bl=0,zl=0,ql=0,$l=null,Hl=null,Wl=0,Kl=1/0,Gl=null,Ql=!1,Yl=null,Xl=null,Jl=!1,Zl=null,ec=0,tc=0,nc=null,rc=-1,ic=0;function sc(){return 0!==(6&Rl)?Xe():-1!==rc?rc:rc=Xe()}function ac(e){return 0===(1&e.mode)?1:0!==(2&Rl)&&0!==Ll?Ll&-Ll:null!==ms.transition?(0===ic&&(ic=mt()),ic):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function oc(e,t,n,r){if(50<tc)throw tc=0,nc=null,Error(s(185));vt(e,n,r),0!==(2&Rl)&&e===Dl||(e===Dl&&(0===(2&Rl)&&(zl|=n),4===Ul&&hc(e,Ll)),lc(e,r),1===n&&0===Rl&&0===(1&t.mode)&&(Kl=Xe()+500,Ui&&zi()))}function lc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===Dl?Ll:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(fc.bind(null,e)):Bi(fc.bind(null,e)),ai((function(){0===(6&Rl)&&zi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Dc(n,cc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function cc(e,t){if(rc=-1,ic=0,0!==(6&Rl))throw Error(s(327));var n=e.callbackNode;if(jc()&&e.callbackNode!==n)return null;var r=ht(e,e===Dl?Ll:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=xc(e,r);else{t=r;var i=Rl;Rl|=2;var a=bc();for(Dl===e&&Ll===t||(Gl=null,Kl=Xe()+500,vc(e,t));;)try{Nc();break}catch(l){yc(e,l)}Ss(),Il.current=a,Rl=i,null!==Ol?t=0:(Dl=null,Ll=0,t=Ul)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=uc(e,i))),1===t)throw n=Vl,vc(e,0),hc(e,r),lc(e,Xe()),n;if(6===t)hc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=xc(e,r))&&(0!==(a=pt(e))&&(r=a,t=uc(e,a))),1===t))throw n=Vl,vc(e,0),hc(e,r),lc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Sc(e,Hl,Gl);break;case 3:if(hc(e,r),(130023424&r)===r&&10<(t=Wl+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){sc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Sc.bind(null,e,Hl,Gl),t);break}Sc(e,Hl,Gl);break;case 4:if(hc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tl(r/1960))-r)){e.timeoutHandle=ri(Sc.bind(null,e,Hl,Gl),r);break}Sc(e,Hl,Gl);break;default:throw Error(s(329))}}}return lc(e,Xe()),e.callbackNode===n?cc.bind(null,e):null}function uc(e,t){var n=$l;return e.current.memoizedState.isDehydrated&&(vc(e,t).flags|=256),2!==(e=xc(e,t))&&(t=Hl,Hl=n,null!==t&&dc(t)),e}function dc(e){null===Hl?Hl=e:Hl.push.apply(Hl,e)}function hc(e,t){for(t&=~ql,t&=~zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function fc(e){if(0!==(6&Rl))throw Error(s(327));jc();var t=ht(e,0);if(0===(1&t))return lc(e,Xe()),null;var n=xc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=uc(e,r))}if(1===n)throw n=Vl,vc(e,0),hc(e,t),lc(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,Hl,Gl),lc(e,Xe()),null}function pc(e,t){var n=Rl;Rl|=1;try{return e(t)}finally{0===(Rl=n)&&(Kl=Xe()+500,Ui&&zi())}}function mc(e){null!==Zl&&0===Zl.tag&&0===(6&Rl)&&jc();var t=Rl;Rl|=1;var n=Pl.transition,r=bt;try{if(Pl.transition=null,bt=1,e)return e()}finally{bt=r,Pl.transition=n,0===(6&(Rl=t))&&zi()}}function gc(){Fl=Ml.current,_i(Ml)}function vc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ol)for(n=Ol.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:Zs(),_i(Ti),_i(Ci),aa();break;case 5:ta(r);break;case 4:Zs();break;case 13:case 19:_i(ra);break;case 10:js(r.type._context);break;case 22:case 23:gc()}n=n.return}if(Dl=e,Ol=e=Mc(e.current,null),Ll=Fl=t,Ul=0,Vl=null,ql=zl=Bl=0,Hl=$l=null,null!==As){for(t=0;t<As.length;t++)if(null!==(r=(n=As[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}As=null}return e}function yc(e,t){for(;;){var n=Ol;try{if(Ss(),oa.current=to,fa){for(var r=ua.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}fa=!1}if(ca=0,ha=da=ua=null,pa=!1,ma=0,Al.current=null,null===n||null===n.return){Ul=1,Vl=t,Ol=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Ll,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=wo(o);if(null!==p){p.flags&=-257,xo(p,o,l,0,t),1&p.mode&&bo(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){bo(a,u,t),wc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=wo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),xo(v,o,l,0,t),ps(fo(c,l));break e}}a=c=fo(c,l),4!==Ul&&(Ul=2),null===$l?$l=[a]:$l.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zs(a,vo(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Xl||!Xl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,zs(a,yo(a,l,t));break e}}a=a.return}while(null!==a)}_c(n)}catch(na){t=na,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function bc(){var e=Il.current;return Il.current=to,null===e?to:e}function wc(){0!==Ul&&3!==Ul&&2!==Ul||(Ul=4),null===Dl||0===(268435455&Bl)&&0===(268435455&zl)||hc(Dl,Ll)}function xc(e,t){var n=Rl;Rl|=2;var r=bc();for(Dl===e&&Ll===t||(Gl=null,vc(e,t));;)try{kc();break}catch(i){yc(e,i)}if(Ss(),Rl=n,Il.current=r,null!==Ol)throw Error(s(261));return Dl=null,Ll=0,Ul}function kc(){for(;null!==Ol;)Ec(Ol)}function Nc(){for(;null!==Ol&&!Qe();)Ec(Ol)}function Ec(e){var t=Cl(e.alternate,e,Fl);e.memoizedProps=e.pendingProps,null===t?_c(e):Ol=t,Al.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Jo(n,t,Fl)))return void(Ol=n)}else{if(null!==(n=Zo(n,t)))return n.flags&=32767,void(Ol=n);if(null===e)return Ul=6,void(Ol=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ol=t);Ol=t=e}while(null!==t);0===Ul&&(Ul=5)}function Sc(e,t,n){var r=bt,i=Pl.transition;try{Pl.transition=null,bt=1,function(e,t,n,r){do{jc()}while(null!==Zl);if(0!==(6&Rl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Dl&&(Ol=Dl=null,Ll=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Jl||(Jl=!0,Dc(tt,(function(){return jc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Pl.transition,Pl.transition=null;var o=bt;bt=1;var l=Rl;Rl|=4,Al.current=null,function(e,t){if(ei=$t,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(So){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},$t=!1,rl=t;null!==rl;)if(e=(t=rl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,rl=e;else for(;null!==rl;){t=rl;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:so(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(So){Tc(t,t.return,So)}if(null!==(e=t.sibling)){e.return=t.return,rl=e;break}rl=t.return}m=al,al=!1}(e,n),xl(n,e),pr(ti),$t=!!ei,ti=ei=null,e.current=n,Nl(n,e,i),Ye(),Rl=l,bt=o,Pl.transition=a}else e.current=n;if(Jl&&(Jl=!1,Zl=e,ec=i),a=e.pendingLanes,0===a&&(Xl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),lc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ql)throw Ql=!1,e=Yl,Yl=null,e;0!==(1&ec)&&0!==e.tag&&jc(),a=e.pendingLanes,0!==(1&a)?e===nc?tc++:(tc=0,nc=e):tc=0,zi()}(e,t,n,r)}finally{Pl.transition=i,bt=r}return null}function jc(){if(null!==Zl){var e=wt(ec),t=Pl.transition,n=bt;try{if(Pl.transition=null,bt=16>e?16:e,null===Zl)var r=!1;else{if(e=Zl,Zl=null,ec=0,0!==(6&Rl))throw Error(s(331));var i=Rl;for(Rl|=4,rl=e.current;null!==rl;){var a=rl,o=a.child;if(0!==(16&rl.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(rl=u;null!==rl;){var d=rl;switch(d.tag){case 0:case 11:case 15:ol(8,d,a)}var h=d.child;if(null!==h)h.return=d,rl=h;else for(;null!==rl;){var f=(d=rl).sibling,p=d.return;if(ul(d),d===u){rl=null;break}if(null!==f){f.return=p,rl=f;break}rl=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}rl=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,rl=o;else e:for(;null!==rl;){if(0!==(2048&(a=rl).flags))switch(a.tag){case 0:case 11:case 15:ol(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,rl=y;break e}rl=a.return}}var b=e.current;for(rl=b;null!==rl;){var w=(o=rl).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,rl=w;else e:for(o=b;null!==rl;){if(0!==(2048&(l=rl).flags))try{switch(l.tag){case 0:case 11:case 15:ll(9,l)}}catch(na){Tc(l,l.return,na)}if(l===o){rl=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,rl=x;break e}rl=l.return}}if(Rl=i,zi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(na){}r=!0}return r}finally{bt=n,Pl.transition=t}}return!1}function Cc(e,t,n){e=Vs(e,t=vo(0,t=fo(n,t),1),1),t=sc(),null!==e&&(vt(e,1,t),lc(e,t))}function Tc(e,t,n){if(3===e.tag)Cc(e,e,n);else for(;null!==t;){if(3===t.tag){Cc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xl||!Xl.has(r))){t=Vs(t,e=yo(t,e=fo(n,e),1),1),e=sc(),null!==t&&(vt(t,1,e),lc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=sc(),e.pingedLanes|=e.suspendedLanes&n,Dl===e&&(Ll&n)===n&&(4===Ul||3===Ul&&(130023424&Ll)===Ll&&500>Xe()-Wl?vc(e,0):ql|=n),lc(e,t)}function Ac(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=sc();null!==(e=Ds(e,t))&&(vt(e,t,n),lc(e,n))}function Pc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ac(e,n)}function Rc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Ac(e,n)}function Dc(e,t){return Ke(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lc(e,t,n,r){return new Oc(e,t,n,r)}function Fc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var n=e.alternate;return null===n?((n=Lc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Uc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Fc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case N:return Vc(n.children,i,a,t);case E:o=8,i|=8;break;case _:return(e=Lc(12,n,t,2|i)).elementType=_,e.lanes=a,e;case T:return(e=Lc(13,n,t,i)).elementType=T,e.lanes=a,e;case I:return(e=Lc(19,n,t,i)).elementType=I,e.lanes=a,e;case R:return Bc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case j:o=9;break e;case C:o=11;break e;case A:o=14;break e;case P:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Lc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Vc(e,t,n,r){return(e=Lc(7,e,r,t)).lanes=n,e}function Bc(e,t,n,r){return(e=Lc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function zc(e,t,n){return(e=Lc(6,e,null,t)).lanes=n,e}function qc(e,t,n){return(t=Lc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $c(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hc(e,t,n,r,i,s,a,o,l){return e=new $c(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Lc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function Wc(e){if(!e)return ji;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Oi(e,n,t)}return t}function Kc(e,t,n,r,i,s,a,o,l){return(e=Hc(n,r,!0,e,0,s,0,o,l)).context=Wc(null),n=e.current,(s=Ms(r=sc(),i=ac(n))).callback=void 0!==t&&null!==t?t:null,Vs(n,s,i),e.current.lanes=i,vt(e,i,r),lc(e,r),e}function Gc(e,t,n,r){var i=t.current,s=sc(),a=ac(i);return n=Wc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ms(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Vs(i,t,a))&&(oc(e,i,a,s),Bs(e,i,a)),a}function Qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xc(e,t){Yc(e,t),(e=e.alternate)&&Yc(e,t)}Cl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)No=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return No=!1,function(e,t,n){switch(t.tag){case 3:Do(t),fs();break;case 5:ea(t);break;case 1:Pi(t.type)&&Li(t);break;case 4:Xs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ks,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(ra,1&ra.current),t.flags|=128,null):0!==(n&t.child.childLanes)?zo(e,t,n):(Si(ra,1&ra.current),null!==(e=Qo(e,t,n))?e.sibling:null);Si(ra,1&ra.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ko(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(ra,ra.current),r)break;return null;case 22:case 23:return t.lanes=0,To(e,t,n)}return Qo(e,t,n)}(e,t,n);No=0!==(131072&e.flags)}else No=!1,is&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Go(e,t),e=t.pendingProps;var i=Ai(t,Ci.current);Ts(t,n),i=ba(null,t,r,e,i,n);var a=wa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ls(t),i.updater=oo,t.stateNode=i,i._reactInternals=t,ho(t,r,e,n),t=Ro(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),Eo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Go(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Fc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(r),e=so(r,e),i){case 0:t=Ao(null,t,r,e,n);break e;case 1:t=Po(null,t,r,e,n);break e;case 11:t=_o(null,t,r,e,n);break e;case 14:t=jo(null,t,r,so(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ao(e,t,r,i=t.elementType===r?i:so(r,i),n);case 1:return r=t.type,i=t.pendingProps,Po(e,t,r,i=t.elementType===r?i:so(r,i),n);case 3:e:{if(Do(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Fs(e,t),$s(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Oo(e,t,r,n,i=fo(Error(s(423)),t));break e}if(r!==i){t=Oo(e,t,r,n,i=fo(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Qo(e,t,n);break e}Eo(e,t,r,n)}t=t.child}return t;case 5:return ea(t),null===e&&cs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),Io(e,t),Eo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return zo(e,t,n);case 4:return Xs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):Eo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_o(e,t,r,i=t.elementType===r?i:so(r,i),n);case 7:return Eo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Eo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Si(ks,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ti.current){t=Qo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Ms(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Cs(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Cs(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}Eo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ts(t,n),r=r(i=Is(i)),t.flags|=1,Eo(e,t,r,n),t.child;case 14:return i=so(r=t.type,t.pendingProps),jo(e,t,r,i=so(r.type,i),n);case 15:return Co(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:so(r,i),Go(e,t),t.tag=1,Pi(r)?(e=!0,Li(t)):e=!1,Ts(t,n),co(t,r,i),ho(t,r,i,n),Ro(null,t,r,!0,e,n);case 19:return Ko(e,t,n);case 22:return To(e,t,n)}throw Error(s(156,t.tag))};var Jc="function"===typeof reportError?reportError:function(e){console.error(e)};function Zc(e){this._internalRoot=e}function eu(e){this._internalRoot=e}function tu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function nu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ru(){}function iu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Qc(a);o.call(e)}}Gc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Qc(a);s.call(e)}}var a=Kc(t,r,e,0,null,!1,0,"",ru);return e._reactRootContainer=a,e[pi]=a.current,zr(8===e.nodeType?e.parentNode:e),mc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Qc(l);o.call(e)}}var l=Hc(e,0,!1,null,0,!1,0,"",ru);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),mc((function(){Gc(t,l,n,r)})),l}(n,t,e,i,r);return Qc(a)}eu.prototype.render=Zc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Gc(e,t,null,null)},eu.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mc((function(){Gc(null,e,null,null)})),t[pi]=null}},eu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),lc(t,Xe()),0===(6&Rl)&&(Kl=Xe()+500,zi()))}break;case 13:mc((function(){var t=Ds(e,1);if(null!==t){var n=sc();oc(t,e,1,n)}})),Xc(e,1)}},kt=function(e){if(13===e.tag){var t=Ds(e,134217728);if(null!==t)oc(t,e,134217728,sc());Xc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=ac(e),n=Ds(e,t);if(null!==n)oc(n,e,t,sc());Xc(e,t)}},Et=function(){return bt},_t=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(s(90));K(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=pc,Te=mc;var su={usingClientEntryPoint:!1,Events:[bi,wi,xi,Se,je,pc]},ou={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lu={bundleType:ou.bundleType,version:ou.version,rendererPackageName:ou.rendererPackageName,rendererConfig:ou.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:ou.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cu.isDisabled&&cu.supportsFiber)try{it=cu.inject(lu),st=cu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=su,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!tu(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!tu(e))throw Error(s(299));var n=!1,r="",i=Jc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Hc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Zc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return mc(e)},t.hydrate=function(e,t,n){if(!nu(t))throw Error(s(200));return iu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!tu(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Jc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Kc(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new eu(t)},t.render=function(e,t,n){if(!nu(t))throw Error(s(200));return iu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nu(e))throw Error(s(40));return!!e._reactRootContainer&&(mc((function(){iu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=pc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nu(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return iu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r,i=n(43),s=n.t(i,2),a=n(391),o=n(950),l=n.t(o,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,o=s.history,l=r.Pop,h=null,g=v();function v(){return(o.state||{idx:null}).idx}function y(){l=r.Pop;let e=v(),t=null==e?null:e-g;g=e,h&&h({action:l,location:w.location,delta:t})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,o.replaceState(c({},o.state,{idx:g}),""));let w={get action(){return l},get location(){return e(s,o)},listen(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(u,y),h=e,()=>{s.removeEventListener(u,y),h=null}},createHref:e=>t(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let i=p(w.location,e,t);n&&n(i,e),g=v()+1;let c=f(i,g),u=w.createHref(i);try{o.pushState(c,"",u)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;s.location.assign(u)}a&&h&&h({action:l,location:w.location,delta:1})},replace:function(e,t){l=r.Replace;let i=p(w.location,e,t);n&&n(i,e),g=v();let s=f(i,g),c=w.createHref(i);o.replaceState(s,"",c),a&&h&&h({action:l,location:w.location,delta:0})},go:e=>o.go(e)};return w}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){return void 0===n&&(n="/"),w(e,t,n,!1)}function w(e,t,n,r){let i=D(("string"===typeof t?g(t):t).pathname||"/",n);if(null==i)return null;let s=x(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=R(i);a=A(s[o],e,r)}return a}function x(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(d(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=U([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),x(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:I(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of k(e.path))i(e,t,r);else i(e,t)})),t}function k(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=k(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const N=/^:[\w-]+$/,E=3,_=2,S=1,j=10,C=-2,T=e=>"*"===e;function I(e,t){let n=e.split("/"),r=n.length;return n.some(T)&&(r+=C),t&&(r+=_),n.filter((e=>!T(e))).reduce(((e,t)=>e+(N.test(t)?E:""===t?S:j)),r)}function A(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:U([s,u.pathname]),pathnameBase:V(U([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=U([s,u.pathnameBase]))}return a}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:a,pattern:e}}function R(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function O(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function F(e,t){let n=L(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function M(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=g(e):(i=c({},e),d(!i.pathname||!i.pathname.includes("?"),O("?","pathname","search",i)),d(!i.pathname||!i.pathname.includes("#"),O("#","pathname","hash",i)),d(!i.search||!i.search.includes("#"),O("#","search","hash",i)));let s,a=""===e||""===i.pathname,o=a?"/":i.pathname;if(null==o)s=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?g(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:B(r),hash:z(i)}}(i,s),u=o&&"/"!==o&&o.endsWith("/"),h=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}const U=e=>e.join("/").replace(/\/\/+/g,"/"),V=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const $=["post","put","patch","delete"],H=(new Set($),["get",...$]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}const K=i.createContext(null);const G=i.createContext(null);const Q=i.createContext(null);const Y=i.createContext(null);const X=i.createContext({outlet:null,matches:[],isDataRoute:!1});const J=i.createContext(null);function Z(){return null!=i.useContext(Y)}function ee(){return Z()||d(!1),i.useContext(Y).location}function te(e){i.useContext(Q).static||i.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=i.useContext(X);return e?function(){let{router:e}=fe(de.UseNavigateStable),t=me(he.UseNavigateStable),n=i.useRef(!1);te((()=>{n.current=!0}));let r=i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,W({fromRouteId:t},i)))}),[e,t]);return r}():function(){Z()||d(!1);let e=i.useContext(K),{basename:t,future:n,navigator:r}=i.useContext(Q),{matches:s}=i.useContext(X),{pathname:a}=ee(),o=JSON.stringify(F(s,n.v7_relativeSplatPath)),l=i.useRef(!1);te((()=>{l.current=!0}));let c=i.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=M(n,JSON.parse(o),a,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:U([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)}),[t,r,o,a,e]);return c}()}function re(){let{matches:e}=i.useContext(X),t=e[e.length-1];return t?t.params:{}}function ie(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(Q),{matches:s}=i.useContext(X),{pathname:a}=ee(),o=JSON.stringify(F(s,r.v7_relativeSplatPath));return i.useMemo((()=>M(e,JSON.parse(o),a,"path"===n)),[e,o,a,n])}function se(e,t,n,s){Z()||d(!1);let{navigator:a,static:o}=i.useContext(Q),{matches:l}=i.useContext(X),c=l[l.length-1],u=c?c.params:{},h=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let f,p=ee();if(t){var m;let e="string"===typeof t?g(t):t;"/"===h||(null==(m=e.pathname)?void 0:m.startsWith(h))||d(!1),f=e}else f=p;let v=f.pathname||"/",y=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=!o&&n&&n.matches&&n.matches.length>0?n.matches:b(e,{pathname:y});let x=ue(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:U([h,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:U([h,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,n,s);return t&&x?i.createElement(Y.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:r.Pop}},x):x}function ae(){let e=function(){var e;let t=i.useContext(J),n=pe(he.UseRouteError),r=me(he.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const oe=i.createElement(ae,null);class le extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(X.Provider,{value:this.props.routeContext},i.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(K);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(X.Provider,{value:t},r)}function ue(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=o.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||d(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<o.length;i++){let e=o[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight(((e,r,s)=>{let a,d=!1,h=null,f=null;var p;n&&(a=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||oe,c&&(u<0&&0===s?(p="route-fallback",!1||ge[p]||(ge[p]=!0),d=!0,f=null):u===s&&(d=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,s+1)),g=()=>{let t;return t=a?h:d?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(ce,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(le,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var de=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(de||{}),he=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(he||{});function fe(e){let t=i.useContext(K);return t||d(!1),t}function pe(e){let t=i.useContext(G);return t||d(!1),t}function me(e){let t=function(){let e=i.useContext(X);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const ge={};function ve(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function ye(e){let{to:t,replace:n,state:r,relative:s}=e;Z()||d(!1);let{future:a,static:o}=i.useContext(Q),{matches:l}=i.useContext(X),{pathname:c}=ee(),u=ne(),h=M(t,F(l,a.v7_relativeSplatPath),c,"path"===s),f=JSON.stringify(h);return i.useEffect((()=>u(JSON.parse(f),{replace:n,state:r,relative:s})),[u,f,s,n,r]),null}function be(e){d(!1)}function we(e){let{basename:t="/",children:n=null,location:s,navigationType:a=r.Pop,navigator:o,static:l=!1,future:c}=e;Z()&&d(!1);let u=t.replace(/^\/*/,"/"),h=i.useMemo((()=>({basename:u,navigator:o,static:l,future:W({v7_relativeSplatPath:!1},c)})),[u,c,o,l]);"string"===typeof s&&(s=g(s));let{pathname:f="/",search:p="",hash:m="",state:v=null,key:y="default"}=s,b=i.useMemo((()=>{let e=D(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:v,key:y},navigationType:a}}),[u,f,p,m,v,y,a]);return null==b?null:i.createElement(Q.Provider,{value:h},i.createElement(Y.Provider,{children:n,value:b}))}function xe(e){let{children:t,location:n}=e;return function(e,t){return se(e,t)}(ke(t),n)}new Promise((()=>{}));i.Component;function ke(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,ke(e.props.children,s));e.type!==be&&d(!1),e.props.index&&e.props.children&&d(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ke(e.props.children,s)),n.push(a)})),n}function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ne.apply(this,arguments)}function Ee(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const _e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(ex){}new Map;const Se=s.startTransition;l.flushSync,s.useId;function je(e){let{basename:t,children:n,future:r,window:s}=e,a=i.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),v((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return p("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:m(t)}),null,o)));let l=a.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=i.useCallback((e=>{d&&Se?Se((()=>u(e))):u(e)}),[u,d]);return i.useLayoutEffect((()=>l.listen(h)),[l,h]),i.useEffect((()=>ve(r)),[r]),i.createElement(we,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Ce="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Te=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ie=i.forwardRef((function(e,t){let n,{onClick:r,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f}=e,p=Ee(e,_e),{basename:g}=i.useContext(Q),v=!1;if("string"===typeof u&&Te.test(u)&&(n=u,Ce))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=D(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:v=!0}catch(ex){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;Z()||d(!1);let{basename:r,navigator:s}=i.useContext(Q),{hash:a,pathname:o,search:l}=ie(e,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:U([r,o])),s.createHref({pathname:c,search:l,hash:a})}(u,{relative:s}),b=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:o,viewTransition:l}=void 0===t?{}:t,c=ne(),u=ee(),d=ie(e,{relative:o});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:m(u)===m(d);c(e,{replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l})}}),[u,c,d,r,s,n,e,a,o,l])}(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:f});return i.createElement("a",Ne({},p,{href:n||y,onClick:v||a?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));var Ae,Pe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ae||(Ae={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Pe||(Pe={}));const Re=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Re(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new Oe;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Oe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Le=function(e){return function(e){const t=Re(e);return De.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Fe=function(e){try{return De.decodeString(e,!0)}catch(ex){console.error("base64Decode failed: ",ex)}return null};const Me=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Ue=()=>{try{return Me()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(ex){return}const t=e&&Fe(e[1]);return t&&JSON.parse(t)})()}catch(ex){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ex}`)}},Ve=e=>{var t,n;return null===(n=null===(t=Ue())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Be=e=>{const t=Ve(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},ze=()=>{var e;return null===(e=Ue())||void 0===e?void 0:e.config},qe=e=>{var t;return null===(t=Ue())||void 0===t?void 0:t[`_${e}`]};class $e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function He(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Le(JSON.stringify({alg:"none",type:"JWT"})),Le(JSON.stringify(s)),""].join(".")}function We(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ke(){var e;const t=null===(e=Ue())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(ex){return!1}}function Ge(){try{return"object"===typeof indexedDB}catch(ex){return!1}}class Qe extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Qe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ye.prototype.create)}}class Ye{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(Xe,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new Qe(n,s,t)}}const Xe=/\{\$([^}]+)}/g;function Je(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Ze(n)&&Ze(s)){if(!Je(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ze(e){return null!==e&&"object"===typeof e}function et(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function tt(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function nt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class rt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=it),void 0===r.error&&(r.error=it),void 0===r.complete&&(r.complete=it);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(ex){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(ex){"undefined"!==typeof console&&console.error&&console.error(ex)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function it(){}function st(e){return e&&e._delegate?e._delegate:e}class at{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ot="[DEFAULT]";class lt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new $e;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(ex){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(ex){if(r)return null;throw ex}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ot})}catch(ex){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(ex){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===ot?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot;return this.component?this.component.multipleInstances?e:ot:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ct{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new lt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ut=[];var dt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(dt||(dt={}));const ht={debug:dt.DEBUG,verbose:dt.VERBOSE,info:dt.INFO,warn:dt.WARN,error:dt.ERROR,silent:dt.SILENT},ft=dt.INFO,pt={[dt.DEBUG]:"log",[dt.VERBOSE]:"log",[dt.INFO]:"info",[dt.WARN]:"warn",[dt.ERROR]:"error"},mt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=pt[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...s)};class gt{constructor(e){this.name=e,this._logLevel=ft,this._logHandler=mt,this._userLogHandler=null,ut.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in dt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?ht[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,dt.DEBUG,...t),this._logHandler(this,dt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,dt.VERBOSE,...t),this._logHandler(this,dt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,dt.INFO,...t),this._logHandler(this,dt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,dt.WARN,...t),this._logHandler(this,dt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,dt.ERROR,...t),this._logHandler(this,dt.ERROR,...t)}}let vt,yt;const bt=new WeakMap,wt=new WeakMap,xt=new WeakMap,kt=new WeakMap,Nt=new WeakMap;let Et={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return wt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||xt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function _t(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(yt||(yt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ct(this),n),jt(bt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return jt(e.apply(Ct(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Ct(this),t,...r);return xt.set(s,t.sort?t.sort():[t]),jt(s)}}function St(e){return"function"===typeof e?_t(e):(e instanceof IDBTransaction&&function(e){if(wt.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));wt.set(e,t)}(e),t=e,(vt||(vt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Et):e);var t}function jt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(jt(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&bt.set(t,e)})).catch((()=>{})),Nt.set(t,e),t}(e);if(kt.has(e))return kt.get(e);const t=St(e);return t!==e&&(kt.set(e,t),Nt.set(t,e)),t}const Ct=e=>Nt.get(e);const Tt=["get","getKey","getAll","getAllKeys","count"],It=["put","add","delete","clear"],At=new Map;function Pt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(At.get(t))return At.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=It.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Tt.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return At.set(t,s),s}Et=(e=>({...e,get:(t,n,r)=>Pt(t,n)||e.get(t,n,r),has:(t,n)=>!!Pt(t,n)||e.has(t,n)}))(Et);class Rt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Dt="@firebase/app",Ot="0.9.13",Lt=new gt("@firebase/app"),Ft="@firebase/app-compat",Mt="@firebase/analytics-compat",Ut="@firebase/analytics",Vt="@firebase/app-check-compat",Bt="@firebase/app-check",zt="@firebase/auth",qt="@firebase/auth-compat",$t="@firebase/database",Ht="@firebase/database-compat",Wt="@firebase/functions",Kt="@firebase/functions-compat",Gt="@firebase/installations",Qt="@firebase/installations-compat",Yt="@firebase/messaging",Xt="@firebase/messaging-compat",Jt="@firebase/performance",Zt="@firebase/performance-compat",en="@firebase/remote-config",tn="@firebase/remote-config-compat",nn="@firebase/storage",rn="@firebase/storage-compat",sn="@firebase/firestore",an="@firebase/firestore-compat",on="firebase",ln="[DEFAULT]",cn={[Dt]:"fire-core",[Ft]:"fire-core-compat",[Ut]:"fire-analytics",[Mt]:"fire-analytics-compat",[Bt]:"fire-app-check",[Vt]:"fire-app-check-compat",[zt]:"fire-auth",[qt]:"fire-auth-compat",[$t]:"fire-rtdb",[Ht]:"fire-rtdb-compat",[Wt]:"fire-fn",[Kt]:"fire-fn-compat",[Gt]:"fire-iid",[Qt]:"fire-iid-compat",[Yt]:"fire-fcm",[Xt]:"fire-fcm-compat",[Jt]:"fire-perf",[Zt]:"fire-perf-compat",[en]:"fire-rc",[tn]:"fire-rc-compat",[nn]:"fire-gcs",[rn]:"fire-gcs-compat",[sn]:"fire-fst",[an]:"fire-fst-compat","fire-js":"fire-js",[on]:"fire-js-all"},un=new Map,dn=new Map;function hn(e,t){try{e.container.addComponent(t)}catch(ex){Lt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,ex)}}function fn(e){const t=e.name;if(dn.has(t))return Lt.debug(`There were multiple attempts to register component ${t}.`),!1;dn.set(t,e);for(const n of un.values())hn(n,e);return!0}function pn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const mn=new Ye("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class gn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new at("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mn.create("app-deleted",{appName:this._name})}}const vn="9.23.0";function yn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:ln,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw mn.create("bad-app-name",{appName:String(i)});if(n||(n=ze()),!n)throw mn.create("no-options");const s=un.get(i);if(s){if(Je(n,s.options)&&Je(r,s.config))return s;throw mn.create("duplicate-app",{appName:i})}const a=new ct(i);for(const l of dn.values())a.addComponent(l);const o=new gn(n,r,a);return un.set(i,o),o}function bn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln;const t=un.get(e);if(!t&&e===ln&&ze())return yn();if(!t)throw mn.create("no-app",{appName:e});return t}function wn(e,t,n){var r;let i=null!==(r=cn[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Lt.warn(e.join(" "))}fn(new at(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const xn="firebase-heartbeat-store";let kn=null;function Nn(){return kn||(kn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=jt(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(jt(a.result),e.oldVersion,e.newVersion,jt(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(xn)}}).catch((e=>{throw mn.create("idb-open",{originalErrorMessage:e.message})}))),kn}async function En(e,t){try{const n=(await Nn()).transaction(xn,"readwrite"),r=n.objectStore(xn);await r.put(t,_n(e)),await n.done}catch(ex){if(ex instanceof Qe)Lt.warn(ex.message);else{const t=mn.create("idb-set",{originalErrorMessage:null===ex||void 0===ex?void 0:ex.message});Lt.warn(t.message)}}}function _n(e){return`${e.name}!${e.options.appId}`}class Sn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Cn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=jn();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=jn(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Tn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Tn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Le(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function jn(){return(new Date).toISOString().substring(0,10)}class Cn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ge()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Nn();return await t.transaction(xn).objectStore(xn).get(_n(e))}catch(ex){if(ex instanceof Qe)Lt.warn(ex.message);else{const t=mn.create("idb-get",{originalErrorMessage:null===ex||void 0===ex?void 0:ex.message});Lt.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return En(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return En(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Tn(e){return Le(JSON.stringify({version:2,heartbeats:e})).length}var In;In="",fn(new at("platform-logger",(e=>new Rt(e)),"PRIVATE")),fn(new at("heartbeat",(e=>new Sn(e)),"PRIVATE")),wn(Dt,Ot,In),wn(Dt,Ot,"esm2017"),wn("fire-js","");function An(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Pn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Rn=Pn,Dn=new Ye("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),On=new gt("@firebase/auth");function Ln(e){if(On.logLevel<=dt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];On.error(`Auth (${vn}): ${e}`,...n)}}function Fn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Vn(e,...n)}function Mn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Vn(e,...n)}function Un(e,t,n){const r=Object.assign(Object.assign({},Rn()),{[t]:n});return new Ye("auth","Firebase",r).create(t,{appName:e.name})}function Vn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Dn.create(e,...n)}function Bn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Vn(t,...r)}}function zn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ln(t),new Error(t)}function qn(e,t){e||zn(t)}function $n(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Hn(){return"http:"===Wn()||"https:"===Wn()}function Wn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Kn(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Hn()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Gn{constructor(e,t){this.shortDelay=e,this.longDelay=t,qn(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Kn()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qn(e,t){qn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Yn{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Xn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Jn=new Gn(3e4,6e4);function Zn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function er(e,t,n,r){return tr(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=et(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),Yn.fetch()(rr(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))}))}async function tr(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Xn),t);try{const t=new ir(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw sr(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw sr(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw sr(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw sr(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Un(e,o,a);Fn(e,o)}}catch(ex){if(ex instanceof Qe)throw ex;Fn(e,"network-request-failed",{message:String(ex)})}}async function nr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await er(e,t,n,r,i);return"mfaPendingCredential"in s&&Fn(e,"multi-factor-auth-required",{_serverResponse:s}),s}function rr(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Qn(e.config,i):`${e.config.apiScheme}://${i}`}class ir{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Mn(this.auth,"network-request-failed"))),Jn.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function sr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Mn(e,t,r);return i.customData._tokenResponse=n,i}function ar(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(ex){}}function or(e){return 1e3*Number(e)}function lr(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Ln("JWT malformed, contained fewer than 3 sections"),null;try{const e=Fe(n);return e?JSON.parse(e):(Ln("Failed to decode base64 JWT payload"),null)}catch(ex){return Ln("Caught error parsing JWT payload as JSON",null===ex||void 0===ex?void 0:ex.toString()),null}}async function cr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(ex){throw ex instanceof Qe&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(ex)&&e.auth.currentUser===e&&await e.auth.signOut(),ex}}class ur{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(ex){return void("auth/network-request-failed"===(null===ex||void 0===ex?void 0:ex.code)&&this.schedule(!0))}this.schedule()}}class dr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ar(this.lastLoginAt),this.creationTime=ar(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await cr(e,async function(e,t){return er(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Bn(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=An(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const o=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),h=!!u&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new dr(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}class fr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Bn(e.idToken,"internal-error"),Bn("undefined"!==typeof e.idToken,"internal-error"),Bn("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=lr(e);return Bn(t,"internal-error"),Bn("undefined"!==typeof t.exp,"internal-error"),Bn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Bn(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await tr(e,{},(async()=>{const n=et({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=rr(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Yn.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new fr;return n&&(Bn("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Bn("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Bn("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fr,this.toJSON())}_performRefresh(){return zn("not implemented")}}function pr(e,t){Bn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class mr{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=An(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ur(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new dr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await cr(this,this.stsTokenManager.getToken(this.auth,e));return Bn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=st(e),r=await n.getIdToken(t),i=lr(r);Bn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ar(or(i.auth_time)),issuedAtTime:ar(or(i.iat)),expirationTime:ar(or(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=st(e);await hr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Bn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new mr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Bn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await hr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await cr(this,async function(e,t){return er(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:k}=t;Bn(y&&k,e,"internal-error");const N=fr.fromJSON(this.name,k);Bn("string"===typeof y,e,"internal-error"),pr(u,e.name),pr(d,e.name),Bn("boolean"===typeof b,e,"internal-error"),Bn("boolean"===typeof w,e,"internal-error"),pr(h,e.name),pr(f,e.name),pr(p,e.name),pr(m,e.name),pr(g,e.name),pr(v,e.name);const E=new mr({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:N,createdAt:g,lastLoginAt:v});return x&&Array.isArray(x)&&(E.providerData=x.map((e=>Object.assign({},e)))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new fr;r.updateFromServerResponse(t);const i=new mr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await hr(i),i}}const gr=new Map;function vr(e){qn(e instanceof Function,"Expected a class definition");let t=gr.get(e);return t?(qn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,gr.set(e,t),t)}class yr{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}yr.type="NONE";const br=yr;function wr(e,t,n){return`firebase:${e}:${t}:${n}`}class xr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=wr(this.userKey,r.apiKey,i),this.fullPersistenceKey=wr("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?mr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new xr(vr(br),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||vr(br);const s=wr(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=mr._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new xr(i,e,n)):new xr(i,e,n)}}function kr(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Sr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Nr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Cr(t))return"Blackberry";if(Tr(t))return"Webos";if(Er(t))return"Safari";if((t.includes("chrome/")||_r(t))&&!t.includes("edge/"))return"Chrome";if(jr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Nr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/firefox\//i.test(e)}function Er(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:We()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/crios\//i.test(e)}function Sr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/iemobile/i.test(e)}function jr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/android/i.test(e)}function Cr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/blackberry/i.test(e)}function Tr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/webos/i.test(e)}function Ir(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ar(){return function(){const e=We();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Pr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return Ir(e)||jr(e)||Tr(e)||Cr(e)||/windows phone/i.test(e)||Sr(e)}function Rr(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=kr(We());break;case"Worker":t=`${kr(We())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${vn}/${r}`}async function Dr(e,t){return er(e,"GET","/v2/recaptchaConfig",Zn(e,t))}function Or(e){return void 0!==e&&void 0!==e.enterprise}class Lr{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function Fr(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Mn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Mr(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Ur{constructor(e){this.type="recaptcha-enterprise",this.auth=qr(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Or(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Dr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Lr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Or(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Fr("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Vr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Ur(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}class Br{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(ex){r(ex)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(ex){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===ex||void 0===ex?void 0:ex.message})}}}class zr{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $r(this),this.idTokenSubscription=new $r(this),this.beforeStateQueue=new Br(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=vr(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await xr.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(ex){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(ex){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(ex)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Bn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(ex){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await hr(e)}catch(ex){if("auth/network-request-failed"!==(null===ex||void 0===ex?void 0:ex.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?st(e):null;return t&&Bn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Bn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(vr(e))}))}async initializeRecaptchaConfig(){const e=await Dr(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new Lr(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new Ur(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ye("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&vr(e)||this._popupRedirectResolver;Bn(t,this,"argument-error"),this.redirectPersistenceManager=await xr.create(this,[vr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return Bn(s,this,"internal-error"),s.then((()=>i(this.currentUser))),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Bn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Rr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(On.logLevel<=dt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];On.warn(`Auth (${vn}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function qr(e){return st(e)}class $r{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new rt(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Bn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Hr(e,t,n){const r=qr(e);Bn(r._canInitEmulator,r,"emulator-config-failed"),Bn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Wr(t),{host:a,port:o}=function(e){const t=Wr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Kr(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Kr(t)}}}(t),l=null===o?"":`:${o}`;r.config.emulator={url:`${s}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Wr(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Kr(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Gr{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zn("not implemented")}_getIdTokenResponse(e){return zn("not implemented")}_linkToIdToken(e,t){return zn("not implemented")}_getReauthenticationResolver(e){return zn("not implemented")}}async function Qr(e,t){return er(e,"POST","/v1/accounts:update",t)}async function Yr(e,t){return nr(e,"POST","/v1/accounts:signInWithPassword",Zn(e,t))}async function Xr(e,t){return er(e,"POST","/v1/accounts:sendOobCode",Zn(e,t))}async function Jr(e,t){return Xr(e,t)}class Zr extends Gr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Zr(e,t,"password")}static _fromEmailAndCode(e,t){return new Zr(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Vr(e,n,"signInWithPassword");return Yr(e,t)}return Yr(e,n).catch((async t=>{if("auth/missing-recaptcha-token"===t.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Vr(e,n,"signInWithPassword");return Yr(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return nr(e,"POST","/v1/accounts:signInWithEmailLink",Zn(e,t))}(e,{email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Qr(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return nr(e,"POST","/v1/accounts:signInWithEmailLink",Zn(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ei(e,t){return nr(e,"POST","/v1/accounts:signInWithIdp",Zn(e,t))}class ti extends Gr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ti(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Fn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=An(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new ti(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return ei(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ei(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ei(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=et(t)}return e}}const ni={USER_NOT_FOUND:"user-not-found"};class ri extends Gr{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ri({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ri({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return nr(e,"POST","/v1/accounts:signInWithPhoneNumber",Zn(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await nr(e,"POST","/v1/accounts:signInWithPhoneNumber",Zn(e,t));if(n.temporaryProof)throw sr(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return nr(e,"POST","/v1/accounts:signInWithPhoneNumber",Zn(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ni)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ri({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ii{constructor(e){var t,n,r,i,s,a;const o=tt(nt(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Bn(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=tt(nt(e)).link,n=t?tt(nt(t)).deep_link_id:null,r=tt(nt(e)).deep_link_id;return(r?tt(nt(r)).link:null)||r||n||t||e}(e);try{return new ii(t)}catch(n){return null}}}class si{constructor(){this.providerId=si.PROVIDER_ID}static credential(e,t){return Zr._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ii.parseLink(t);return Bn(n,"argument-error"),Zr._fromEmailAndCode(e,n.code,n.tenantId)}}si.PROVIDER_ID="password",si.EMAIL_PASSWORD_SIGN_IN_METHOD="password",si.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ai{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class oi extends ai{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class li extends oi{constructor(){super("facebook.com")}static credential(e){return ti._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return li.credential(t.oauthAccessToken)}catch(n){return null}}}li.FACEBOOK_SIGN_IN_METHOD="facebook.com",li.PROVIDER_ID="facebook.com";class ci extends oi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ti._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ci.credential(n,r)}catch(i){return null}}}ci.GOOGLE_SIGN_IN_METHOD="google.com",ci.PROVIDER_ID="google.com";class ui extends oi{constructor(){super("github.com")}static credential(e){return ti._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ui.credential(t.oauthAccessToken)}catch(n){return null}}}ui.GITHUB_SIGN_IN_METHOD="github.com",ui.PROVIDER_ID="github.com";class di extends oi{constructor(){super("twitter.com")}static credential(e,t){return ti._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return di.credential(n,r)}catch(i){return null}}}async function hi(e,t){return nr(e,"POST","/v1/accounts:signUp",Zn(e,t))}di.TWITTER_SIGN_IN_METHOD="twitter.com",di.PROVIDER_ID="twitter.com";class fi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await mr._fromIdTokenResponse(e,n,r),s=pi(n);return new fi({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=pi(n);return new fi({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function pi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class mi extends Qe{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,mi.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new mi(e,t,n,r)}}function gi(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw mi._fromErrorAndOperation(e,n,t,r);throw n}))}async function vi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await cr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return fi._forOperation(e,"link",r)}async function yi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await cr(e,gi(r,i,t,e),n);Bn(s.idToken,r,"internal-error");const a=lr(s.idToken);Bn(a,r,"internal-error");const{sub:o}=a;return Bn(e.uid===o,r,"user-mismatch"),fi._forOperation(e,i,s)}catch(ex){throw"auth/user-not-found"===(null===ex||void 0===ex?void 0:ex.code)&&Fn(r,"user-mismatch"),ex}}async function bi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await gi(e,r,t),s=await fi._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function wi(e,t){return bi(qr(e),t)}function xi(e,t,n){var r;Bn((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Bn("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Bn(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Bn(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function ki(e,t,n){var r;const i=qr(e),s={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let a;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Vr(i,s,"signUpPassword");a=hi(i,e)}else a=hi(i,s).catch((async e=>{if("auth/missing-recaptcha-token"===e.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await Vr(i,s,"signUpPassword");return hi(i,e)}return Promise.reject(e)}));const o=await a.catch((e=>Promise.reject(e))),l=await fi._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(l.user),l}async function Ni(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=st(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await cr(i,async function(e,t){return er(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const o=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));o&&(o.displayName=i.displayName,o.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function Ei(e,t,n,r){return st(e).onAuthStateChanged(t,n,r)}new WeakMap;const _i="__sak";class Si{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(_i,"1"),this.storage.removeItem(_i),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ji extends Si{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=We();return Er(e)||Ir(e)}()&&function(){try{return!(!window||window===window.top)}catch(ex){return!1}}(),this.fallbackToPolling=Pr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Ar()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ji.type="LOCAL";const Ci=ji;class Ti extends Si{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ti.type="SESSION";const Ii=Ti;class Ai{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Ai(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Pi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ai.receivers=[];class Ri{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const l=Pi("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Di(){return window}function Oi(){return"undefined"!==typeof Di().WorkerGlobalScope&&"function"===typeof Di().importScripts}const Li="firebaseLocalStorageDb",Fi="firebaseLocalStorage",Mi="fbase_key";class Ui{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Vi(e,t){return e.transaction([Fi],t?"readwrite":"readonly").objectStore(Fi)}function Bi(){const e=indexedDB.open(Li,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Fi,{keyPath:Mi})}catch(ex){n(ex)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Fi)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Li);return new Ui(e).toPromise()}(),t(await Bi()))}))}))}async function zi(e,t,n){const r=Vi(e,!0).put({[Mi]:t,value:n});return new Ui(r).toPromise()}function qi(e,t){const n=Vi(e,!0).delete(t);return new Ui(n).toPromise()}class $i{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Bi()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(ex){if(t++>3)throw ex;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Oi()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ai._getInstance(Oi()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ri(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bi();return await zi(e,_i,"1"),await qi(e,_i),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>zi(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Vi(e,!1).get(t),r=await new Ui(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>qi(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Vi(e,!1).getAll();return new Ui(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}$i.type="LOCAL";const Hi=$i;Mr("rcb"),new Gn(3e4,6e4);const Wi="recaptcha";async function Ki(e,t,n){var r;const i=await n.verify();try{let s;if(Bn("string"===typeof i,e,"argument-error"),Bn(n.type===Wi,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Bn("enroll"===t.type,e,"internal-error");const n=await function(e,t){return er(e,"POST","/v2/accounts/mfaEnrollment:start",Zn(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Bn("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Bn(n,e,"missing-multi-factor-info");const a=await function(e,t){return er(e,"POST","/v2/accounts/mfaSignIn:start",Zn(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return er(e,"POST","/v1/accounts:sendVerificationCode",Zn(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Gi{constructor(e){this.providerId=Gi.PROVIDER_ID,this.auth=qr(e)}verifyPhoneNumber(e,t){return Ki(this.auth,e,st(t))}static credential(e,t){return ri._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Gi.credentialFromTaggedObject(t)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ri._fromTokenResponse(n,r):null}}function Qi(e,t){return t?vr(t):(Bn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Gi.PROVIDER_ID="phone",Gi.PHONE_SIGN_IN_METHOD="phone";class Yi extends Gr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ei(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ei(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ei(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Xi(e){return bi(e.auth,new Yi(e),e.bypassAuthState)}function Ji(e){const{auth:t,user:n}=e;return Bn(n,t,"internal-error"),yi(n,new Yi(e),e.bypassAuthState)}async function Zi(e){const{auth:t,user:n}=e;return Bn(n,t,"internal-error"),vi(n,new Yi(e),e.bypassAuthState)}class es{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(ex){this.reject(ex)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(ex){this.reject(ex)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Xi;case"linkViaPopup":case"linkViaRedirect":return Zi;case"reauthViaPopup":case"reauthViaRedirect":return Ji;default:Fn(this.auth,"internal-error")}}resolve(e){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ts=new Gn(2e3,1e4);class ns extends es{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,ns.currentPopupAction&&ns.currentPopupAction.cancel(),ns.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Bn(e,this.auth,"internal-error"),e}async onExecution(){qn(1===this.filter.length,"Popup operations only handle one event");const e=Pi();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Mn(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ns.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Mn(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,ts.get())};e()}}ns.currentPopupAction=null;const rs=new Map;class is extends es{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=rs.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=os(t),r=as(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(ex){e=()=>Promise.reject(ex)}rs.set(this.auth._key(),e)}return this.bypassAuthState||rs.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ss(e,t){rs.set(e._key(),t)}function as(e){return vr(e._redirectPersistence)}function os(e){return wr("pendingRedirect",e.config.apiKey,e.name)}async function ls(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=qr(e),i=Qi(r,t),s=new is(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class cs{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ds(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ds(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Mn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(us(e))}saveEventToCache(e){this.cachedEventUids.add(us(e)),this.lastProcessedEventTime=Date.now()}}function us(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function ds(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const hs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fs=/^https?/;async function ps(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return er(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(ms(r))return}catch(n){}Fn(e,"unauthorized-domain")}function ms(e){const t=$n(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!fs.test(n))return!1;if(hs.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const gs=new Gn(3e4,6e4);function vs(){const e=Di().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let ys=null;function bs(e){return ys=ys||function(e){return new Promise(((t,n)=>{var r,i,s;function a(){vs(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{vs(),n(Mn(e,"network-request-failed"))},timeout:gs.get()})}if(null===(i=null===(r=Di().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Di().gapi)||void 0===s?void 0:s.load)){const t=Mr("iframefcb");return Di()[t]=()=>{gapi.load?a():n(Mn(e,"network-request-failed"))},Fr(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw ys=null,e}))}(e),ys}const ws=new Gn(5e3,15e3),xs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ks=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ns(e){const t=e.config;Bn(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Qn(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:vn},i=ks.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${et(r).slice(1)}`}const Es={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class _s{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(ex){}}}function Ss(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Es),{width:r.toString(),height:i.toString(),top:s,left:a}),c=We().toLowerCase();n&&(o=_r(c)?"_blank":n),Nr(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return Ir(arguments.length>0&&void 0!==arguments[0]?arguments[0]:We())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new _s(null);const d=window.open(t||"",o,u);Bn(d,e,"popup-blocked");try{d.focus()}catch(ex){}return new _s(d)}const js="__/auth/handler",Cs="emulator/auth/handler",Ts=encodeURIComponent("fac");async function Is(e,t,n,r,i,s){Bn(e.config.authDomain,e,"auth-domain-config-required"),Bn(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:vn,eventId:i};if(t instanceof ai){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof oi){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${Ts}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${js}`;return Qn(t,Cs)}(e)}?${et(o).slice(1)}${c}`}const As="webStorageSupport";const Ps=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ii,this._completeRedirectFn=ls,this._overrideRedirectResult=ss}async _openPopup(e,t,n,r){var i;qn(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Ss(e,await Is(e,t,n,$n(),r),Pi())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Di().location.href=e}(await Is(e,t,n,$n(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(qn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await bs(e),n=Di().gapi;return Bn(n,e,"internal-error"),t.open({where:document.body,url:Ns(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xs,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Mn(e,"network-request-failed"),s=Di().setTimeout((()=>{r(i)}),ws.get());function a(){Di().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}(e),n=new cs(e);return t.register("authEvent",(t=>{Bn(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(As,{type:As},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[As];void 0!==i&&t(!!i),Fn(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ps(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Pr()||Er()||Ir()}};var Rs="@firebase/auth",Ds="0.23.2";class Os{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Bn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ls=qe("authIdTokenMaxAge")||300;let Fs=null;var Ms;Ms="Browser",fn(new at("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Bn(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Ms,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rr(Ms)},c=new zr(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),fn(new at("auth-internal",(e=>(e=>new Os(e))(qr(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),wn(Rs,Ds,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Ms)),wn(Rs,Ds,"esm2017");wn("firebase","9.23.0","app");var Us,Vs="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Bs={},zs=zs||{},qs=Vs||self;function $s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Hs(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ws="closure_uid_"+(1e9*Math.random()>>>0),Ks=0;function Gs(e,t,n){return e.call.apply(e.bind,arguments)}function Qs(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ys(e,t,n){return(Ys=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Gs:Qs).apply(null,arguments)}function Xs(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Js(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Zs(){this.s=this.s,this.o=this.o}Zs.prototype.s=!1,Zs.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Ws)&&e[Ws]||(e[Ws]=++Ks))},Zs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ea=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function ta(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function na(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if($s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function ra(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ra.prototype.h=function(){this.defaultPrevented=!0};var ia=function(){if(!qs.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{qs.addEventListener("test",(()=>{}),t),qs.removeEventListener("test",(()=>{}),t)}catch(n){}return e}();function sa(e){return/^[\s\xa0]*$/.test(e)}function aa(){var e=qs.navigator;return e&&(e=e.userAgent)?e:""}function oa(e){return-1!=aa().indexOf(e)}function la(e){return la[" "](e),e}la[" "]=function(){};var ca,ua,da=oa("Opera"),ha=oa("Trident")||oa("MSIE"),fa=oa("Edge"),pa=fa||ha,ma=oa("Gecko")&&!(-1!=aa().toLowerCase().indexOf("webkit")&&!oa("Edge"))&&!(oa("Trident")||oa("MSIE"))&&!oa("Edge"),ga=-1!=aa().toLowerCase().indexOf("webkit")&&!oa("Edge");function va(){var e=qs.document;return e?e.documentMode:void 0}e:{var ya="",ba=function(){var e=aa();return ma?/rv:([^\);]+)(\)|;)/.exec(e):fa?/Edge\/([\d\.]+)/.exec(e):ha?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ga?/WebKit\/(\S+)/.exec(e):da?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ba&&(ya=ba?ba[1]:""),ha){var wa=va();if(null!=wa&&wa>parseFloat(ya)){ca=String(wa);break e}}ca=ya}if(qs.document&&ha){var xa=va();ua=xa||(parseInt(ca,10)||void 0)}else ua=void 0;var ka=ua;function Na(e,t){if(ra.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ma){e:{try{la(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ea[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Na.$.h.call(this)}}Js(Na,ra);var Ea={2:"touch",3:"pen",4:"mouse"};Na.prototype.h=function(){Na.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var _a="closure_listenable_"+(1e6*Math.random()|0),Sa=0;function ja(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Sa,this.fa=this.ia=!1}function Ca(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Ta(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Ia(e){const t={};for(const n in e)t[n]=e[n];return t}const Aa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pa(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Aa.length;t++)n=Aa[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ra(e){this.src=e,this.g={},this.h=0}function Da(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=ea(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Ca(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Oa(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}Ra.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=Oa(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new ja(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var La="closure_lm_"+(1e6*Math.random()|0),Fa={};function Ma(e,t,n,r,i){if(r&&r.once)return Va(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Ma(e,t[s],n,r,i);return null}return n=Ka(n),e&&e[_a]?e.O(t,n,Hs(r)?!!r.capture:!!r,i):Ua(e,t,n,!1,r,i)}function Ua(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=Hs(i)?!!i.capture:!!i,o=Ha(e);if(o||(e[La]=o=new Ra(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=$a;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ia||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(qa(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Va(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Va(e,t[s],n,r,i);return null}return n=Ka(n),e&&e[_a]?e.P(t,n,Hs(r)?!!r.capture:!!r,i):Ua(e,t,n,!0,r,i)}function Ba(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Ba(e,t[s],n,r,i);else r=Hs(r)?!!r.capture:!!r,n=Ka(n),e&&e[_a]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Oa(s=e.g[t],n,r,i))&&(Ca(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Ha(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Oa(t,n,r,i)),(n=-1<e?t[e]:null)&&za(n))}function za(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[_a])Da(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(qa(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ha(t))?(Da(n,e),0==n.h&&(n.src=null,t[La]=null)):Ca(e)}}}function qa(e){return e in Fa?Fa[e]:Fa[e]="on"+e}function $a(e,t){if(e.fa)e=!0;else{t=new Na(t,this);var n=e.listener,r=e.la||e.src;e.ia&&za(e),e=n.call(r,t)}return e}function Ha(e){return(e=e[La])instanceof Ra?e:null}var Wa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ka(e){return"function"===typeof e?e:(e[Wa]||(e[Wa]=function(t){return e.handleEvent(t)}),e[Wa])}function Ga(){Zs.call(this),this.i=new Ra(this),this.S=this,this.J=null}function Qa(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new ra(t,e);else if(t instanceof ra)t.target=t.target||e;else{var i=t;Pa(t=new ra(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=Ya(a,r,!0,t)&&i}if(i=Ya(a=t.g=e,r,!0,t)&&i,i=Ya(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Ya(a=t.g=n[s],r,!1,t)&&i}function Ya(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==n){var o=a.listener,l=a.la||a.src;a.ia&&Da(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}Js(Ga,Zs),Ga.prototype[_a]=!0,Ga.prototype.removeEventListener=function(e,t,n,r){Ba(this,e,t,n,r)},Ga.prototype.N=function(){if(Ga.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ca(n[r]);delete t.g[e],t.h--}}this.J=null},Ga.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ga.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Xa=qs.JSON.stringify;function Ja(){var e=so;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Za=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new eo),(e=>e.reset()));class eo{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function to(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function no(e){qs.setTimeout((()=>{throw e}),0)}let ro,io=!1,so=new class{constructor(){this.h=this.g=null}add(e,t){const n=Za.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},ao=()=>{const e=qs.Promise.resolve(void 0);ro=()=>{e.then(oo)}};var oo=()=>{for(var e;e=Ja();){try{e.h.call(e.g)}catch(n){no(n)}var t=Za;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}io=!1};function lo(e,t){Ga.call(this),this.h=e||1,this.g=t||qs,this.j=Ys(this.qb,this),this.l=Date.now()}function co(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function uo(e,t,n){if("function"===typeof e)n&&(e=Ys(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ys(e.handleEvent,e)}return 2147483647<Number(t)?-1:qs.setTimeout(e,t||0)}function ho(e){e.g=uo((()=>{e.g=null,e.i&&(e.i=!1,ho(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Js(lo,Ga),(Us=lo.prototype).ga=!1,Us.T=null,Us.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Qa(this,"tick"),this.ga&&(co(this),this.start()))}},Us.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Us.N=function(){lo.$.N.call(this),co(this),delete this.g};class fo extends Zs{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ho(this)}N(){super.N(),this.g&&(qs.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function po(e){Zs.call(this),this.h=e,this.g={}}Js(po,Zs);var mo=[];function go(e,t,n,r){Array.isArray(n)||(n&&(mo[0]=n.toString()),n=mo);for(var i=0;i<n.length;i++){var s=Ma(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function vo(e){Ta(e.g,(function(e,t){this.g.hasOwnProperty(t)&&za(e)}),e),e.g={}}function yo(){this.g=!0}function bo(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return Xa(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}po.prototype.N=function(){po.$.N.call(this),vo(this)},po.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yo.prototype.Ea=function(){this.g=!1},yo.prototype.info=function(){};var wo={},xo=null;function ko(){return xo=xo||new Ga}function No(e){ra.call(this,wo.Ta,e)}function Eo(e){const t=ko();Qa(t,new No(t))}function _o(e,t){ra.call(this,wo.STAT_EVENT,e),this.stat=t}function So(e){const t=ko();Qa(t,new _o(t,e))}function jo(e,t){ra.call(this,wo.Ua,e),this.size=t}function Co(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return qs.setTimeout((function(){e()}),t)}wo.Ta="serverreachability",Js(No,ra),wo.STAT_EVENT="statevent",Js(_o,ra),wo.Ua="timingevent",Js(jo,ra);var To={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Io={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ao(){}function Po(e){return e.h||(e.h=e.i())}function Ro(){}Ao.prototype.h=null;var Do,Oo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Lo(){ra.call(this,"d")}function Fo(){ra.call(this,"c")}function Mo(){}function Uo(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new po(this),this.P=Bo,e=pa?125:void 0,this.V=new lo(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Vo}function Vo(){this.i=null,this.g="",this.h=!1}Js(Lo,ra),Js(Fo,ra),Js(Mo,Ao),Mo.prototype.g=function(){return new XMLHttpRequest},Mo.prototype.i=function(){return{}},Do=new Mo;var Bo=45e3,zo={},qo={};function $o(e,t,n){e.L=1,e.v=cl(il(t)),e.s=n,e.S=!0,Ho(e,null)}function Ho(e,t){e.G=Date.now(),Qo(e),e.A=il(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),kl(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Vo,e.g=Nc(e.l,n?t:null,!e.s),0<e.O&&(e.M=new fo(Ys(e.Pa,e,e.g),e.O)),go(e.U,e.g,"readystatechange",e.nb),t=e.I?Ia(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Eo(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Wo(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Ko(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=Go(e,n),r==qo){4==t&&(e.o=4,So(14),i=!1),bo(e.j,e.m,null,"[Incomplete Response]");break}if(r==zo){e.o=4,So(15),bo(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}bo(e.j,e.m,r,null),el(e,r)}Wo(e)&&r!=qo&&r!=zo&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,So(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),mc(t),t.M=!0,So(11))):(bo(e.j,e.m,n,"[Invalid Chunked Response]"),Zo(e),Jo(e))}function Go(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?qo:(n=Number(t.substring(n,r)),isNaN(n)?zo:(r+=1)+n>t.length?qo:(t=t.slice(r,r+n),e.C=r+n,t))}function Qo(e){e.Y=Date.now()+e.P,Yo(e,e.P)}function Yo(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Co(Ys(e.lb,e),t)}function Xo(e){e.B&&(qs.clearTimeout(e.B),e.B=null)}function Jo(e){0==e.l.H||e.J||yc(e.l,e)}function Zo(e){Xo(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,co(e.V),vo(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function el(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Tl(n.i,e)))if(!e.K&&Tl(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;vc(n),oc(n)}pc(n),So(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Co(Ys(n.ib,n),6e3));if(1>=Cl(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else wc(n,11)}else if((e.K||n.g==e)&&vc(n),!sa(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Il(s,s.h),s.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,ll(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=kc(r,r.J?r.pa:null,r.Y),a.K){Al(r.i,a);var o=a,l=r.L;l&&o.setTimeout(l),o.B&&(Xo(o),Qo(o)),r.g=a}else fc(r);0<n.j.length&&cc(n)}else"stop"!=c[0]&&"close"!=c[0]||wc(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?wc(n,7):ac(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Eo()}catch(c){}}function tl(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if($s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if($s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if($s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(Us=Uo.prototype).setTimeout=function(e){this.P=e},Us.nb=function(e){e=e.target;const t=this.M;t&&3==ec(e)?t.l():this.Pa(e)},Us.Pa=function(e){try{if(e==this.g)e:{const u=ec(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||pa||this.g&&(this.h.h||this.g.ja()||tc(this.g)))){this.J||4!=u||7==t||Eo(),Xo(this);var n=this.g.da();this.ca=n;t:if(Wo(this)){var r=tc(this.g);e="";var i=r.length,s=4==ec(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Zo(this),Jo(this);var a="";break t}this.h.i=new qs.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sa(o)){var c=o;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,So(12),Zo(this),Jo(this);break e}bo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,el(this,n)}this.S?(Ko(this,u,a),pa&&this.i&&3==u&&(go(this.U,this.V,"tick",this.mb),this.V.start())):(bo(this.j,this.m,a,null),el(this,a)),4==u&&Zo(this),this.i&&!this.J&&(4==u?yc(this.l,this):(this.i=!1,Qo(this)))}else(function(e){const t={};e=(e.g&&2<=ec(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(sa(e[r]))continue;var n=to(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.o=3,So(12)):(this.o=0,So(13)),Zo(this),Jo(this)}}}catch(u){}},Us.mb=function(){if(this.g){var e=ec(this.g),t=this.g.ja();this.C<t.length&&(Xo(this),Ko(this,e,t),this.i&&4!=e&&Qo(this))}},Us.cancel=function(){this.J=!0,Zo(this)},Us.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Eo(),So(17)),Zo(this),this.o=2,Jo(this)):Yo(this,this.Y-e)};var nl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rl(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof rl){this.h=e.h,sl(this,e.j),this.s=e.s,this.g=e.g,al(this,e.m),this.l=e.l;var t=e.i,n=new yl;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ol(this,n),this.o=e.o}else e&&(t=String(e).match(nl))?(this.h=!1,sl(this,t[1]||"",!0),this.s=ul(t[2]||""),this.g=ul(t[3]||"",!0),al(this,t[4]),this.l=ul(t[5]||"",!0),ol(this,t[6]||"",!0),this.o=ul(t[7]||"")):(this.h=!1,this.i=new yl(null,this.h))}function il(e){return new rl(e)}function sl(e,t,n){e.j=n?ul(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function al(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ol(e,t,n){t instanceof yl?(e.i=t,function(e,t){t&&!e.j&&(bl(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(wl(this,t),kl(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=dl(t,gl)),e.i=new yl(t,e.h))}function ll(e,t,n){e.i.set(t,n)}function cl(e){return ll(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ul(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function dl(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,hl),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function hl(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}rl.prototype.toString=function(){var e=[],t=this.j;t&&e.push(dl(t,fl,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(dl(t,fl,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(dl(n,"/"==n.charAt(0)?ml:pl,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",dl(n,vl)),e.join("")};var fl=/[#\/\?@]/g,pl=/[#\?:]/g,ml=/[#\?]/g,gl=/[#\?@]/g,vl=/#/g;function yl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function bl(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function wl(e,t){bl(e),t=Nl(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function xl(e,t){return bl(e),t=Nl(e,t),e.g.has(t)}function kl(e,t,n){wl(e,t),0<n.length&&(e.i=null,e.g.set(Nl(e,t),ta(n)),e.h+=n.length)}function Nl(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Us=yl.prototype).add=function(e,t){bl(this),this.i=null,e=Nl(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Us.forEach=function(e,t){bl(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Us.ta=function(){bl(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Us.Z=function(e){bl(this);let t=[];if("string"===typeof e)xl(this,e)&&(t=t.concat(this.g.get(Nl(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Us.set=function(e,t){return bl(this),this.i=null,xl(this,e=Nl(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Us.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Us.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var El=class{constructor(e,t){this.g=e,this.map=t}};function _l(e){this.l=e||Sl,qs.PerformanceNavigationTiming?e=0<(e=qs.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(qs.g&&qs.g.Ka&&qs.g.Ka()&&qs.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Sl=10;function jl(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Cl(e){return e.h?1:e.g?e.g.size:0}function Tl(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Il(e,t){e.g?e.g.add(t):e.h=t}function Al(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Pl(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return ta(e.i)}_l.prototype.cancel=function(){if(this.i=Pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Rl,Dl=class{stringify(e){return qs.JSON.stringify(e,void 0)}parse(e){return qs.JSON.parse(e,void 0)}};function Ol(){this.g=new Dl}function Ll(e,t,n){const r=n||"";try{tl(e,(function(e,n){let i=e;Hs(e)&&(i=Xa(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(ex){throw t.push(r+"type="+encodeURIComponent("_badmap")),ex}}function Fl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Ml(e){this.l=e.fc||null,this.j=e.ob||!1}function Ul(e,t){Ga.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Vl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Js(Ml,Ao),Ml.prototype.g=function(){return new Ul(this.l,this.j)},Ml.prototype.i=(Rl={},function(){return Rl}),Js(Ul,Ga);var Vl=0;function Bl(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function zl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ql(e)}function ql(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Us=Ul.prototype).open=function(e,t){if(this.readyState!=Vl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ql(this)},Us.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||qs).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Us.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,zl(this)),this.readyState=Vl},Us.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ql(this)),this.g&&(this.readyState=3,ql(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof qs.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Bl(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Us.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?zl(this):ql(this),3==this.readyState&&Bl(this)}},Us.Za=function(e){this.g&&(this.response=this.responseText=e,zl(this))},Us.Ya=function(e){this.g&&(this.response=e,zl(this))},Us.ka=function(){this.g&&zl(this)},Us.setRequestHeader=function(e,t){this.v.append(e,t)},Us.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Us.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ul.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var $l=qs.JSON.parse;function Hl(e){Ga.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Wl,this.L=this.M=!1}Js(Hl,Ga);var Wl="",Kl=/^https?$/i,Gl=["POST","PUT"];function Ql(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Yl(e),Jl(e)}function Yl(e){e.F||(e.F=!0,Qa(e,"complete"),Qa(e,"error"))}function Xl(e){if(e.h&&"undefined"!=typeof zs&&(!e.C[1]||4!=ec(e)||2!=e.da()))if(e.v&&4==ec(e))uo(e.La,0,e);else if(Qa(e,"readystatechange"),4==ec(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.I).match(nl)[1]||null;!i&&qs.self&&qs.self.location&&(i=qs.self.location.protocol.slice(0,-1)),r=!Kl.test(i?i.toLowerCase():"")}n=r}if(n)Qa(e,"complete"),Qa(e,"success");else{e.m=6;try{var s=2<ec(e)?e.g.statusText:""}catch(a){s=""}e.j=s+" ["+e.da()+"]",Yl(e)}}finally{Jl(e)}}}function Jl(e,t){if(e.g){Zl(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Qa(e,"ready");try{n.onreadystatechange=r}catch(ex){}}}function Zl(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(qs.clearTimeout(e.A),e.A=null)}function ec(e){return e.g?e.g.readyState:0}function tc(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Wl:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(au){return null}}function nc(e){let t="";return Ta(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function rc(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=nc(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ll(e,t,n))}function ic(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function sc(e){this.Ga=0,this.j=[],this.l=new yo,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ic("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ic("baseRetryDelayMs",5e3,e),this.hb=ic("retryDelaySeedMs",1e4,e),this.eb=ic("forwardChannelMaxRetries",2,e),this.xa=ic("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new _l(e&&e.concurrentRequestLimit),this.Ja=new Ol,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ac(e){if(lc(e),3==e.H){var t=e.W++,n=il(e.I);if(ll(n,"SID",e.K),ll(n,"RID",t),ll(n,"TYPE","terminate"),dc(e,n),(t=new Uo(e,e.l,t)).L=2,t.v=cl(il(n)),n=!1,qs.navigator&&qs.navigator.sendBeacon)try{n=qs.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&qs.Image&&((new Image).src=t.v,n=!0),n||(t.g=Nc(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Qo(t)}xc(e)}function oc(e){e.g&&(mc(e),e.g.cancel(),e.g=null)}function lc(e){oc(e),e.u&&(qs.clearTimeout(e.u),e.u=null),vc(e),e.i.cancel(),e.m&&("number"===typeof e.m&&qs.clearTimeout(e.m),e.m=null)}function cc(e){if(!jl(e.i)&&!e.m){e.m=!0;var t=e.Na;ro||ao(),io||(ro(),io=!0),so.add(t,e),e.C=0}}function uc(e,t){var n;n=t?t.m:e.W++;const r=il(e.I);ll(r,"SID",e.K),ll(r,"RID",n),ll(r,"AID",e.V),dc(e,r),e.o&&e.s&&rc(r,e.o,e.s),n=new Uo(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=hc(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Il(e.i,n),$o(n,r,t)}function dc(e,t){e.na&&Ta(e.na,(function(e,n){ll(t,n,e)})),e.h&&tl({},(function(e,n){ll(t,n,e)}))}function hc(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ys(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{Ll(o,e,"req"+n+"_")}catch(vu){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function fc(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;ro||ao(),io||(ro(),io=!0),so.add(t,e),e.A=0}}function pc(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Co(Ys(e.Ma,e),bc(e,e.A)),e.A++,!0)}function mc(e){null!=e.B&&(qs.clearTimeout(e.B),e.B=null)}function gc(e){e.g=new Uo(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=il(e.wa);ll(t,"RID","rpc"),ll(t,"SID",e.K),ll(t,"AID",e.V),ll(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&ll(t,"TO",e.qa),ll(t,"TYPE","xmlhttp"),dc(e,t),e.o&&e.s&&rc(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=cl(il(t)),n.s=null,n.S=!0,Ho(n,e)}function vc(e){null!=e.v&&(qs.clearTimeout(e.v),e.v=null)}function yc(e,t){var n=null;if(e.g==t){vc(e),mc(e),e.g=null;var r=2}else{if(!Tl(e.i,t))return;n=t.F,Al(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Qa(r=ko(),new jo(r,n)),cc(e)}else fc(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Cl(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Co(Ys(e.Na,e,t),bc(e,e.C)),e.C++,!0))}(e,t)||2==r&&pc(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:wc(e,5);break;case 4:wc(e,10);break;case 3:wc(e,6);break;default:wc(e,2)}}function bc(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function wc(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Ys(e.pb,e);n||(n=new rl("//www.google.com/images/cleardot.gif"),qs.location&&"http"==qs.location.protocol||sl(n,"https"),cl(n)),function(e,t){const n=new yo;if(qs.Image){const r=new Image;r.onload=Xs(Fl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Xs(Fl,n,r,"TestLoadImage: error",!1,t),r.onabort=Xs(Fl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Xs(Fl,n,r,"TestLoadImage: timeout",!1,t),qs.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else So(2);e.H=0,e.h&&e.h.za(t),xc(e),lc(e)}function xc(e){if(e.H=0,e.ma=[],e.h){const t=Pl(e.i);0==t.length&&0==e.j.length||(na(e.ma,t),na(e.ma,e.j),e.i.i.length=0,ta(e.j),e.j.length=0),e.h.ya()}}function kc(e,t,n){var r=n instanceof rl?il(n):new rl(n);if(""!=r.g)t&&(r.g=t+"."+r.g),al(r,r.m);else{var i=qs.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new rl(null);r&&sl(s,r),t&&(s.g=t),i&&al(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&ll(r,n,t),ll(r,"VER",e.ra),dc(e,r),r}function Nc(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Hl(new Ml({ob:!0})):new Hl(e.va)).Oa(e.J),t}function Ec(){}function _c(){if(ha&&!(10<=Number(ka)))throw Error("Environmental error: no available transport.")}function Sc(e,t){Ga.call(this),this.g=new sc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!sa(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!sa(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Tc(this)}function jc(e){Lo.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Cc(){Fo.call(this),this.status=1}function Tc(e){this.g=e}function Ic(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ac(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function Pc(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(Us=Hl.prototype).Oa=function(e){this.M=e},Us.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Do.g(),this.C=this.u?Po(this.u):Po(Do),this.g.onreadystatechange=Ys(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Ql(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=qs.FormData&&e instanceof qs.FormData,!(0<=ea(Gl,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Zl(this),0<this.B&&((this.L=function(e){return ha&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ys(this.ua,this)):this.A=uo(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Ql(this,s)}},Us.ua=function(){"undefined"!=typeof zs&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qa(this,"timeout"),this.abort(8))},Us.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Qa(this,"complete"),Qa(this,"abort"),Jl(this))},Us.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Jl(this,!0)),Hl.$.N.call(this)},Us.La=function(){this.s||(this.G||this.v||this.l?Xl(this):this.kb())},Us.kb=function(){Xl(this)},Us.isActive=function(){return!!this.g},Us.da=function(){try{return 2<ec(this)?this.g.status:-1}catch(Rl){return-1}},Us.ja=function(){try{return this.g?this.g.responseText:""}catch(Rl){return""}},Us.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),$l(t)}},Us.Ia=function(){return this.m},Us.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Us=sc.prototype).ra=8,Us.H=1,Us.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Uo(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Ia(s),Pa(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=hc(this,i,t),ll(n=il(this.I),"RID",e),ll(n,"CVER",22),this.F&&ll(n,"X-HTTP-Session-Id",this.F),dc(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(nc(s)))+"&"+t:this.o&&rc(n,this.o,s)),Il(this.i,i),this.bb&&ll(n,"TYPE","init"),this.P?(ll(n,"$req",t),ll(n,"SID","null"),i.aa=!0,$o(i,n,null)):$o(i,n,t),this.H=2}}else 3==this.H&&(e?uc(this,e):0==this.j.length||jl(this.i)||uc(this))},Us.Ma=function(){if(this.u=null,gc(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Co(Ys(this.jb,this),e)}},Us.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,So(10),oc(this),gc(this))},Us.ib=function(){null!=this.v&&(this.v=null,oc(this),pc(this),So(19))},Us.pb=function(e){e?(this.l.info("Successfully pinged google.com"),So(2)):(this.l.info("Failed to ping google.com"),So(1))},Us.isActive=function(){return!!this.h&&this.h.isActive(this)},(Us=Ec.prototype).Ba=function(){},Us.Aa=function(){},Us.za=function(){},Us.ya=function(){},Us.isActive=function(){return!0},Us.Va=function(){},_c.prototype.g=function(e,t){return new Sc(e,t)},Js(Sc,Ga),Sc.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;So(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=kc(e,null,e.Y),cc(e)},Sc.prototype.close=function(){ac(this.g)},Sc.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Xa(e),e=n);t.j.push(new El(t.fb++,e)),3==t.H&&cc(t)},Sc.prototype.N=function(){this.g.h=null,delete this.j,ac(this.g),delete this.g,Sc.$.N.call(this)},Js(jc,Lo),Js(Cc,Fo),Js(Tc,Ec),Tc.prototype.Ba=function(){Qa(this.g,"a")},Tc.prototype.Aa=function(e){Qa(this.g,new jc(e))},Tc.prototype.za=function(e){Qa(this.g,new Cc)},Tc.prototype.ya=function(){Qa(this.g,"b")},Js(Ic,(function(){this.blockSize=-1})),Ic.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ic.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)Ac(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Ac(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Ac(this,r),i=0;break}}this.h=i,this.i+=t},Ic.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Rc={};function Dc(e){return-128<=e&&128>e?function(e,t){var n=Rc;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Pc([0|e],0>e?-1:0)})):new Pc([0|e],0>e?-1:0)}function Oc(e){if(isNaN(e)||!isFinite(e))return Fc;if(0>e)return zc(Oc(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Lc;return new Pc(t,0)}var Lc=4294967296,Fc=Dc(0),Mc=Dc(1),Uc=Dc(16777216);function Vc(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Bc(e){return-1==e.h}function zc(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Pc(n,~e.h).add(Mc)}function qc(e,t){return e.add(zc(t))}function $c(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Hc(e,t){this.g=e,this.h=t}function Wc(e,t){if(Vc(t))throw Error("division by zero");if(Vc(e))return new Hc(Fc,Fc);if(Bc(e))return t=Wc(zc(e),t),new Hc(zc(t.g),zc(t.h));if(Bc(t))return t=Wc(e,zc(t)),new Hc(zc(t.g),t.h);if(30<e.g.length){if(Bc(e)||Bc(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Mc,r=t;0>=r.X(e);)n=Kc(n),r=Kc(r);var i=Gc(n,1),s=Gc(r,1);for(r=Gc(r,2),n=Gc(n,2);!Vc(r);){var a=s.add(r);0>=a.X(e)&&(i=i.add(n),s=a),r=Gc(r,1),n=Gc(n,1)}return t=qc(e,i.R(t)),new Hc(i,t)}for(i=Fc;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(s=Oc(n)).R(t);Bc(a)||0<a.X(e);)a=(s=Oc(n-=r)).R(t);Vc(s)&&(s=Mc),i=i.add(s),e=qc(e,a)}return new Hc(i,e)}function Kc(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Pc(n,e.h)}function Gc(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Pc(i,e.h)}(Us=Pc.prototype).ea=function(){if(Bc(this))return-zc(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Lc+r)*t,t*=Lc}return e},Us.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Vc(this))return"0";if(Bc(this))return"-"+zc(this).toString(e);for(var t=Oc(Math.pow(e,6)),n=this,r="";;){var i=Wc(n,t).g,s=((0<(n=qc(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Vc(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Us.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Us.X=function(e){return Bc(e=qc(this,e))?-1:Vc(e)?0:1},Us.abs=function(){return Bc(this)?zc(this):this},Us.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),a=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new Pc(n,-2147483648&n[n.length-1]?-1:0)},Us.R=function(e){if(Vc(this)||Vc(e))return Fc;if(Bc(this))return Bc(e)?zc(this).R(zc(e)):zc(zc(this).R(e));if(Bc(e))return zc(this.R(zc(e)));if(0>this.X(Uc)&&0>e.X(Uc))return Oc(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,a=65535&this.D(r),o=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=a*l,$c(n,2*r+2*i),n[2*r+2*i+1]+=s*l,$c(n,2*r+2*i+1),n[2*r+2*i+1]+=a*o,$c(n,2*r+2*i+1),n[2*r+2*i+2]+=s*o,$c(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Pc(n,0)},Us.gb=function(e){return Wc(this,e).h},Us.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Pc(n,this.h&e.h)},Us.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Pc(n,this.h|e.h)},Us.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Pc(n,this.h^e.h)},_c.prototype.createWebChannel=_c.prototype.g,Sc.prototype.send=Sc.prototype.u,Sc.prototype.open=Sc.prototype.m,Sc.prototype.close=Sc.prototype.close,To.NO_ERROR=0,To.TIMEOUT=8,To.HTTP_ERROR=6,Io.COMPLETE="complete",Ro.EventType=Oo,Oo.OPEN="a",Oo.CLOSE="b",Oo.ERROR="c",Oo.MESSAGE="d",Ga.prototype.listen=Ga.prototype.O,Hl.prototype.listenOnce=Hl.prototype.P,Hl.prototype.getLastError=Hl.prototype.Sa,Hl.prototype.getLastErrorCode=Hl.prototype.Ia,Hl.prototype.getStatus=Hl.prototype.da,Hl.prototype.getResponseJson=Hl.prototype.Wa,Hl.prototype.getResponseText=Hl.prototype.ja,Hl.prototype.send=Hl.prototype.ha,Hl.prototype.setWithCredentials=Hl.prototype.Oa,Ic.prototype.digest=Ic.prototype.l,Ic.prototype.reset=Ic.prototype.reset,Ic.prototype.update=Ic.prototype.j,Pc.prototype.add=Pc.prototype.add,Pc.prototype.multiply=Pc.prototype.R,Pc.prototype.modulo=Pc.prototype.gb,Pc.prototype.compare=Pc.prototype.X,Pc.prototype.toNumber=Pc.prototype.ea,Pc.prototype.toString=Pc.prototype.toString,Pc.prototype.getBits=Pc.prototype.D,Pc.fromNumber=Oc,Pc.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return zc(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Oc(Math.pow(n,8)),i=Fc,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),n);8>a?(a=Oc(Math.pow(n,a)),i=i.R(a).add(Oc(o))):i=(i=i.R(r)).add(Oc(o))}return i};var Qc=Bs.createWebChannelTransport=function(){return new _c},Yc=Bs.getStatEventTarget=function(){return ko()},Xc=Bs.ErrorCode=To,Jc=Bs.EventType=Io,Zc=Bs.Event=wo,eu=Bs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},tu=Bs.FetchXmlHttpFactory=Ml,nu=Bs.WebChannel=Ro,ru=Bs.XhrIo=Hl,iu=Bs.Md5=Ic,su=Bs.Integer=Pc;const au="@firebase/firestore";class ou{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ou.UNAUTHENTICATED=new ou(null),ou.GOOGLE_CREDENTIALS=new ou("google-credentials-uid"),ou.FIRST_PARTY=new ou("first-party-uid"),ou.MOCK_USER=new ou("mock-user");let lu="9.23.0";const cu=new gt("@firebase/firestore");function uu(){return cu.logLevel}function du(e){if(cu.logLevel<=dt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(pu);cu.debug(`Firestore (${lu}): ${e}`,...i)}}function hu(e){if(cu.logLevel<=dt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(pu);cu.error(`Firestore (${lu}): ${e}`,...i)}}function fu(e){if(cu.logLevel<=dt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(pu);cu.warn(`Firestore (${lu}): ${e}`,...i)}}function pu(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function mu(){const e=`FIRESTORE (${lu}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw hu(e),new Error(e)}function gu(e,t){e||mu()}function vu(e,t){return e}const yu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class bu extends Qe{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wu{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class xu{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ku{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ou.UNAUTHENTICATED)))}shutdown(){}}class Nu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Eu{constructor(e){this.t=e,this.currentUser=ou.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new wu;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new wu,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{du("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(du("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new wu)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(du("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(gu("string"==typeof t.accessToken),new xu(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return gu(null===e||"string"==typeof e),new ou(e)}}class _u{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=ou.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Su{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new _u(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(ou.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ju{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cu{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&du("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.T;return this.T=e.token,du("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{du("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):du("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(gu("string"==typeof e.token),this.T=e.token,new ju(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Tu(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Iu{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Tu(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Au(e,t){return e<t?-1:e>t?1:0}function Pu(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Ru{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new bu(yu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new bu(yu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new bu(yu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new bu(yu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ru.fromMillis(Date.now())}static fromDate(e){return Ru.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Ru(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Au(this.nanoseconds,e.nanoseconds):Au(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Du{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Du(e)}static min(){return new Du(new Ru(0,0))}static max(){return new Du(new Ru(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ou{constructor(e,t,n){void 0===t?t=0:t>e.length&&mu(),void 0===n?n=e.length-t:n>e.length-t&&mu(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ou.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ou?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Lu extends Ou{construct(e,t,n){return new Lu(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new bu(yu.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new Lu(e)}static emptyPath(){return new Lu([])}}const Fu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mu extends Ou{construct(e,t,n){return new Mu(e,t,n)}static isValidIdentifier(e){return Fu.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mu.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Mu(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new bu(yu.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new bu(yu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new bu(yu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new bu(yu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mu(t)}static emptyPath(){return new Mu([])}}class Uu{constructor(e){this.path=e}static fromPath(e){return new Uu(Lu.fromString(e))}static fromName(e){return new Uu(Lu.fromString(e).popFirst(5))}static empty(){return new Uu(Lu.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Lu.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Lu.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Uu(new Lu(e.slice()))}}class Vu{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Vu.UNKNOWN_ID=-1;function Bu(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Du.fromTimestamp(1e9===r?new Ru(n+1,0):new Ru(n,r));return new qu(i,Uu.empty(),t)}function zu(e){return new qu(e.readTime,e.key,-1)}class qu{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new qu(Du.min(),Uu.empty(),-1)}static max(){return new qu(Du.max(),Uu.empty(),-1)}}function $u(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Uu.comparator(e.documentKey,t.documentKey),0!==n?n:Au(e.largestBatchId,t.largestBatchId))}const Hu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Wu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ku(e){if(e.code!==yu.FAILED_PRECONDITION||e.message!==Hu)throw e;du("LocalStore","Unexpectedly lost primary lease")}class Gu{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&mu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Gu(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Gu?t:Gu.resolve(t)}catch(e){return Gu.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Gu.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Gu.reject(t)}static resolve(e){return new Gu(((t,n)=>{t(e)}))}static reject(e){return new Gu(((t,n)=>{n(e)}))}static waitFor(e){return new Gu(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Gu.resolve(!1);for(const n of e)t=t.next((e=>e?Gu.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Gu(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new Gu(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Qu(e){return"IndexedDbTransactionError"===e.name}class Yu{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function Xu(e){return null==e}function Ju(e){return 0===e&&1/e==-1/0}function Zu(e){return"number"==typeof e&&Number.isInteger(e)&&!Ju(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Yu.ct=-1;const ed=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],td=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nd=td;function rd(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function id(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function sd(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ad{constructor(e,t){this.comparator=e,this.root=t||ld.EMPTY}insert(e,t){return new ad(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ld.BLACK,null,null))}remove(e){return new ad(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ld.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new od(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new od(this.root,e,this.comparator,!1)}getReverseIterator(){return new od(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new od(this.root,e,this.comparator,!0)}}class od{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ld{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ld.RED,this.left=null!=r?r:ld.EMPTY,this.right=null!=i?i:ld.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ld(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ld.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ld.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ld.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ld.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mu();if(this.right.isRed())throw mu();const e=this.left.check();if(e!==this.right.check())throw mu();return e+(this.isRed()?0:1)}}ld.EMPTY=null,ld.RED=!0,ld.BLACK=!1,ld.EMPTY=new class{constructor(){this.size=0}get key(){throw mu()}get value(){throw mu()}get color(){throw mu()}get left(){throw mu()}get right(){throw mu()}copy(e,t,n,r,i){return this}insert(e,t,n){return new ld(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class cd{constructor(e){this.comparator=e,this.data=new ad(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ud(this.data.getIterator())}getIteratorFrom(e){return new ud(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof cd))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new cd(this.comparator);return t.data=e,t}}class ud{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class dd{constructor(e){this.fields=e,e.sort(Mu.comparator)}static empty(){return new dd([])}unionWith(e){let t=new cd(Mu.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new dd(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Pu(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class hd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fd{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new hd("Invalid base64 string: "+e):e}}(e);return new fd(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new fd(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Au(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fd.EMPTY_BYTE_STRING=new fd("");const pd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function md(e){if(gu(!!e),"string"==typeof e){let t=0;const n=pd.exec(e);if(gu(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:gd(e.seconds),nanos:gd(e.nanos)}}function gd(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function vd(e){return"string"==typeof e?fd.fromBase64String(e):fd.fromUint8Array(e)}function yd(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function bd(e){const t=e.mapValue.fields.__previous_value__;return yd(t)?bd(t):t}function wd(e){const t=md(e.mapValue.fields.__local_write_time__.timestampValue);return new Ru(t.seconds,t.nanos)}class xd{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class kd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new kd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof kd&&e.projectId===this.projectId&&e.database===this.database}}const Nd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ed(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?yd(e)?4:Md(e)?9007199254740991:10:mu()}function _d(e,t){if(e===t)return!0;const n=Ed(e);if(n!==Ed(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return wd(e).isEqual(wd(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=md(e.timestampValue),r=md(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return vd(e.bytesValue).isEqual(vd(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return gd(e.geoPointValue.latitude)===gd(t.geoPointValue.latitude)&&gd(e.geoPointValue.longitude)===gd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return gd(e.integerValue)===gd(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=gd(e.doubleValue),r=gd(t.doubleValue);return n===r?Ju(n)===Ju(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Pu(e.arrayValue.values||[],t.arrayValue.values||[],_d);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(rd(n)!==rd(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!_d(n[i],r[i])))return!1;return!0}(e,t);default:return mu()}}function Sd(e,t){return void 0!==(e.values||[]).find((e=>_d(e,t)))}function jd(e,t){if(e===t)return 0;const n=Ed(e),r=Ed(t);if(n!==r)return Au(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Au(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=gd(e.integerValue||e.doubleValue),r=gd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Cd(e.timestampValue,t.timestampValue);case 4:return Cd(wd(e),wd(t));case 5:return Au(e.stringValue,t.stringValue);case 6:return function(e,t){const n=vd(e),r=vd(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Au(n[i],r[i]);if(0!==e)return e}return Au(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Au(gd(e.latitude),gd(t.latitude));return 0!==n?n:Au(gd(e.longitude),gd(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=jd(n[i],r[i]);if(e)return e}return Au(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Nd.mapValue&&t===Nd.mapValue)return 0;if(e===Nd.mapValue)return 1;if(t===Nd.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=Au(r[a],s[a]);if(0!==e)return e;const t=jd(n[r[a]],i[s[a]]);if(0!==t)return t}return Au(r.length,s.length)}(e.mapValue,t.mapValue);default:throw mu()}}function Cd(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Au(e,t);const n=md(e),r=md(t),i=Au(n.seconds,r.seconds);return 0!==i?i:Au(n.nanos,r.nanos)}function Td(e){return Id(e)}function Id(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=md(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?vd(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Uu.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Id(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Id(e.fields[i])}`;return n+"}"}(e.mapValue):mu();var t,n}function Ad(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Pd(e){return!!e&&"integerValue"in e}function Rd(e){return!!e&&"arrayValue"in e}function Dd(e){return!!e&&"nullValue"in e}function Od(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ld(e){return!!e&&"mapValue"in e}function Fd(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return id(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Fd(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Fd(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Md(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ud{constructor(e){this.value=e}static empty(){return new Ud({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Ld(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fd(t)}setAll(e){let t=Mu.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Fd(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Ld(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _d(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Ld(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){id(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Ud(Fd(this.value))}}function Vd(e){const t=[];return id(e.fields,((e,n)=>{const r=new Mu([e]);if(Ld(n)){const e=Vd(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new dd(t)}class Bd{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Bd(e,0,Du.min(),Du.min(),Du.min(),Ud.empty(),0)}static newFoundDocument(e,t,n,r){return new Bd(e,1,t,Du.min(),n,r,0)}static newNoDocument(e,t){return new Bd(e,2,t,Du.min(),Du.min(),Ud.empty(),0)}static newUnknownDocument(e,t){return new Bd(e,3,t,Du.min(),Du.min(),Ud.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Du.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ud.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ud.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Du.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Bd&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bd(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zd{constructor(e,t){this.position=e,this.inclusive=t}}function qd(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Uu.comparator(Uu.fromName(a.referenceValue),n.key):jd(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function $d(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!_d(e.position[n],t.position[n]))return!1;return!0}class Hd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Wd(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Kd{}class Gd extends Kd{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new nh(e,t,n):"array-contains"===t?new ah(e,n):"in"===t?new oh(e,n):"not-in"===t?new lh(e,n):"array-contains-any"===t?new ch(e,n):new Gd(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new rh(e,n):new ih(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(jd(t,this.value)):null!==t&&Ed(this.value)===Ed(t)&&this.matchesComparison(jd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return mu()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Qd extends Kd{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Qd(e,t)}matches(e){return Yd(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((e=>e.isInequality()));return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Yd(e){return"and"===e.op}function Xd(e){return Jd(e)&&Yd(e)}function Jd(e){for(const t of e.filters)if(t instanceof Qd)return!1;return!0}function Zd(e){if(e instanceof Gd)return e.field.canonicalString()+e.op.toString()+Td(e.value);if(Xd(e))return e.filters.map((e=>Zd(e))).join(",");{const t=e.filters.map((e=>Zd(e))).join(",");return`${e.op}(${t})`}}function eh(e,t){return e instanceof Gd?function(e,t){return t instanceof Gd&&e.op===t.op&&e.field.isEqual(t.field)&&_d(e.value,t.value)}(e,t):e instanceof Qd?function(e,t){return t instanceof Qd&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&eh(n,t.filters[r])),!0)}(e,t):void mu()}function th(e){return e instanceof Gd?function(e){return`${e.field.canonicalString()} ${e.op} ${Td(e.value)}`}(e):e instanceof Qd?function(e){return e.op.toString()+" {"+e.getFilters().map(th).join(" ,")+"}"}(e):"Filter"}class nh extends Gd{constructor(e,t,n){super(e,t,n),this.key=Uu.fromName(n.referenceValue)}matches(e){const t=Uu.comparator(e.key,this.key);return this.matchesComparison(t)}}class rh extends Gd{constructor(e,t){super(e,"in",t),this.keys=sh("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class ih extends Gd{constructor(e,t){super(e,"not-in",t),this.keys=sh("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function sh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Uu.fromName(e.referenceValue)))}class ah extends Gd{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Rd(t)&&Sd(t.arrayValue,this.value)}}class oh extends Gd{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Sd(this.value.arrayValue,t)}}class lh extends Gd{constructor(e,t){super(e,"not-in",t)}matches(e){if(Sd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Sd(this.value.arrayValue,t)}}class ch extends Gd{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Rd(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Sd(this.value.arrayValue,e)))}}class uh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.dt=null}}function dh(e){return new uh(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function hh(e){const t=vu(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Zd(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Xu(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Td(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Td(e))).join(",")),t.dt=e}return t.dt}function fh(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Wd(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!eh(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!$d(e.startAt,t.startAt)&&$d(e.endAt,t.endAt)}function ph(e){return Uu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class mh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.wt=null,this._t=null,this.startAt,this.endAt}}function gh(e,t,n,r,i,s,a,o){return new mh(e,t,n,r,i,s,a,o)}function vh(e){return new mh(e)}function yh(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function bh(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function wh(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function xh(e){return null!==e.collectionGroup}function kh(e){const t=vu(e);if(null===t.wt){t.wt=[];const e=wh(t),n=bh(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new Hd(e)),t.wt.push(new Hd(Mu.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Hd(Mu.keyField(),e))}}}return t.wt}function Nh(e){const t=vu(e);if(!t._t)if("F"===t.limitType)t._t=dh(t.path,t.collectionGroup,kh(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of kh(t)){const t="desc"===i.dir?"asc":"desc";e.push(new Hd(i.field,t))}const n=t.endAt?new zd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zd(t.startAt.position,t.startAt.inclusive):null;t._t=dh(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function Eh(e,t){t.getFirstInequalityField(),wh(e);const n=e.filters.concat([t]);return new mh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function _h(e,t,n){return new mh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Sh(e,t){return fh(Nh(e),Nh(t))&&e.limitType===t.limitType}function jh(e){return`${hh(Nh(e))}|lt:${e.limitType}`}function Ch(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>th(e))).join(", ")}]`),Xu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Td(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Td(e))).join(",")),`Target(${t})`}(Nh(e))}; limitType=${e.limitType})`}function Th(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Uu.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of kh(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=qd(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,kh(e),t))&&!(e.endAt&&!function(e,t,n){const r=qd(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,kh(e),t))}(e,t)}function Ih(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ah(e){return(t,n)=>{let r=!1;for(const i of kh(e)){const e=Ph(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Ph(e,t,n){const r=e.field.isKeyField()?Uu.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?jd(r,i):mu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return mu()}}class Rh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){id(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return sd(this.inner)}size(){return this.innerSize}}const Dh=new ad(Uu.comparator);function Oh(){return Dh}const Lh=new ad(Uu.comparator);function Fh(){let e=Lh;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Mh(e){let t=Lh;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Uh(){return Bh()}function Vh(){return Bh()}function Bh(){return new Rh((e=>e.toString()),((e,t)=>e.isEqual(t)))}const zh=new ad(Uu.comparator),qh=new cd(Uu.comparator);function $h(){let e=qh;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Hh=new cd(Au);function Wh(){return Hh}function Kh(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ju(t)?"-0":t}}function Gh(e){return{integerValue:""+e}}function Qh(e,t){return Zu(t)?Gh(t):Kh(e,t)}class Yh{constructor(){this._=void 0}}function Xh(e,t,n){return e instanceof ef?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&yd(t)&&(t=bd(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof tf?nf(e,t):e instanceof rf?sf(e,t):function(e,t){const n=Zh(e,t),r=of(n)+of(e.gt);return Pd(n)&&Pd(e.gt)?Gh(r):Kh(e.serializer,r)}(e,t)}function Jh(e,t,n){return e instanceof tf?nf(e,t):e instanceof rf?sf(e,t):n}function Zh(e,t){return e instanceof af?Pd(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class ef extends Yh{}class tf extends Yh{constructor(e){super(),this.elements=e}}function nf(e,t){const n=lf(t);for(const r of e.elements)n.some((e=>_d(e,r)))||n.push(r);return{arrayValue:{values:n}}}class rf extends Yh{constructor(e){super(),this.elements=e}}function sf(e,t){let n=lf(t);for(const r of e.elements)n=n.filter((e=>!_d(e,r)));return{arrayValue:{values:n}}}class af extends Yh{constructor(e,t){super(),this.serializer=e,this.gt=t}}function of(e){return gd(e.integerValue||e.doubleValue)}function lf(e){return Rd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class cf{constructor(e,t){this.field=e,this.transform=t}}class uf{constructor(e,t){this.version=e,this.transformResults=t}}class df{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new df}static exists(e){return new df(void 0,e)}static updateTime(e){return new df(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hf(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ff{}function pf(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ef(e.key,df.none()):new bf(e.key,e.data,df.none());{const n=e.data,r=Ud.empty();let i=new cd(Mu.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new wf(e.key,r,new dd(i.toArray()),df.none())}}function mf(e,t,n){e instanceof bf?function(e,t,n){const r=e.value.clone(),i=kf(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof wf?function(e,t,n){if(!hf(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=kf(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(xf(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function gf(e,t,n,r){return e instanceof bf?function(e,t,n,r){if(!hf(e.precondition,t))return n;const i=e.value.clone(),s=Nf(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof wf?function(e,t,n,r){if(!hf(e.precondition,t))return n;const i=Nf(e.fieldTransforms,r,t),s=t.data;return s.setAll(xf(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return hf(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function vf(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Zh(r.transform,e||null);null!=i&&(null===n&&(n=Ud.empty()),n.set(r.field,i))}return n||null}function yf(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Pu(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof tf&&t instanceof tf||e instanceof rf&&t instanceof rf?Pu(e.elements,t.elements,_d):e instanceof af&&t instanceof af?_d(e.gt,t.gt):e instanceof ef&&t instanceof ef}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class bf extends ff{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class wf extends ff{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function xf(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function kf(e,t,n){const r=new Map;gu(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Jh(a,o,n[i]))}return r}function Nf(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Xh(e,s,t))}return r}class Ef extends ff{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _f extends ff{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Sf{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&mf(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=gf(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=gf(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Vh();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=pf(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Du.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),$h())}isEqual(e){return this.batchId===e.batchId&&Pu(this.mutations,e.mutations,((e,t)=>yf(e,t)))&&Pu(this.baseMutations,e.baseMutations,((e,t)=>yf(e,t)))}}class jf{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){gu(e.mutations.length===n.length);let r=zh;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new jf(e,t,n,r)}}class Cf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Tf{constructor(e,t){this.count=e,this.unchangedNames=t}}var If,Af;function Pf(e){switch(e){default:return mu();case yu.CANCELLED:case yu.UNKNOWN:case yu.DEADLINE_EXCEEDED:case yu.RESOURCE_EXHAUSTED:case yu.INTERNAL:case yu.UNAVAILABLE:case yu.UNAUTHENTICATED:return!1;case yu.INVALID_ARGUMENT:case yu.NOT_FOUND:case yu.ALREADY_EXISTS:case yu.PERMISSION_DENIED:case yu.FAILED_PRECONDITION:case yu.ABORTED:case yu.OUT_OF_RANGE:case yu.UNIMPLEMENTED:case yu.DATA_LOSS:return!0}}function Rf(e){if(void 0===e)return hu("GRPC error has no .code"),yu.UNKNOWN;switch(e){case If.OK:return yu.OK;case If.CANCELLED:return yu.CANCELLED;case If.UNKNOWN:return yu.UNKNOWN;case If.DEADLINE_EXCEEDED:return yu.DEADLINE_EXCEEDED;case If.RESOURCE_EXHAUSTED:return yu.RESOURCE_EXHAUSTED;case If.INTERNAL:return yu.INTERNAL;case If.UNAVAILABLE:return yu.UNAVAILABLE;case If.UNAUTHENTICATED:return yu.UNAUTHENTICATED;case If.INVALID_ARGUMENT:return yu.INVALID_ARGUMENT;case If.NOT_FOUND:return yu.NOT_FOUND;case If.ALREADY_EXISTS:return yu.ALREADY_EXISTS;case If.PERMISSION_DENIED:return yu.PERMISSION_DENIED;case If.FAILED_PRECONDITION:return yu.FAILED_PRECONDITION;case If.ABORTED:return yu.ABORTED;case If.OUT_OF_RANGE:return yu.OUT_OF_RANGE;case If.UNIMPLEMENTED:return yu.UNIMPLEMENTED;case If.DATA_LOSS:return yu.DATA_LOSS;default:return mu()}}(Af=If||(If={}))[Af.OK=0]="OK",Af[Af.CANCELLED=1]="CANCELLED",Af[Af.UNKNOWN=2]="UNKNOWN",Af[Af.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Af[Af.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Af[Af.NOT_FOUND=5]="NOT_FOUND",Af[Af.ALREADY_EXISTS=6]="ALREADY_EXISTS",Af[Af.PERMISSION_DENIED=7]="PERMISSION_DENIED",Af[Af.UNAUTHENTICATED=16]="UNAUTHENTICATED",Af[Af.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Af[Af.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Af[Af.ABORTED=10]="ABORTED",Af[Af.OUT_OF_RANGE=11]="OUT_OF_RANGE",Af[Af.UNIMPLEMENTED=12]="UNIMPLEMENTED",Af[Af.INTERNAL=13]="INTERNAL",Af[Af.UNAVAILABLE=14]="UNAVAILABLE",Af[Af.DATA_LOSS=15]="DATA_LOSS";class Df{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Of}static getOrCreateInstance(){return null===Of&&(Of=new Df),Of}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let Of=null;function Lf(){return new TextEncoder}const Ff=new su([4294967295,4294967295],0);function Mf(e){const t=Lf().encode(e),n=new iu;return n.update(t),new Uint8Array(n.digest())}function Uf(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new su([n,r],0),new su([i,s],0)]}class Vf{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Bf(`Invalid padding: ${t}`);if(n<0)throw new Bf(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Bf(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Bf(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=su.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(su.fromNumber(n)));return 1===r.compare(Ff)&&(r=new su([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Mf(e),[n,r]=Uf(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Vf(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.It)return;const t=Mf(e),[n,r]=Uf(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Bf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zf{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,qf.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new zf(Du.min(),r,new ad(Au),Oh(),$h())}}class qf{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new qf(n,t,$h(),$h(),$h())}}class $f{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class Hf{constructor(e,t){this.targetId=e,this.Vt=t}}class Wf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fd.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Kf{constructor(){this.St=0,this.Dt=Yf(),this.Ct=fd.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=$h(),t=$h(),n=$h();return this.Dt.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:mu()}})),new qf(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=Yf()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Gf{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Oh(),this.zt=Qf(),this.Wt=new ad(Au)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,(t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:mu()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach(((e,n)=>{this.te(n)&&t(n)}))}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const s=i.target;if(ph(s))if(0===r){const e=new Uu(s.path);this.Yt(n,e,Bd.newNoDocument(e,Du.min()))}else gu(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=Df.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,s,a,o,l;const c={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(a=null===(s=null===(i=null==u?void 0:u.bits)||void 0===i?void 0:i.bitmap)||void 0===s?void 0:s.length)&&void 0!==a?a:0,padding:null!==(l=null===(o=null==u?void 0:u.bits)||void 0===o?void 0:o.padding)&&void 0!==l?l:0}),c}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=n;let o,l;try{o=vd(i).toUint8Array()}catch(e){if(e instanceof hd)return fu("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new Vf(o,s,a)}catch(e){return fu(e instanceof Bf?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Gt.ue(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;t.vt(s)||(this.Yt(e,n,null),r++)})),r}ce(e){const t=new Map;this.Qt.forEach(((n,r)=>{const i=this.se(r);if(i){if(n.current&&ph(i.target)){const t=new Uu(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,Bd.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}}));let n=$h();this.zt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.jt.forEach(((t,n)=>n.setReadTime(e)));const r=new zf(e,t,this.Wt,this.jt,n);return this.jt=Oh(),this.zt=Qf(),this.Wt=new ad(Au),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Kf,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new cd(Au),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||du("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Kf),this.Gt.getRemoteKeysForTarget(e).forEach((t=>{this.Yt(e,t,null)}))}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Qf(){return new ad(Uu.comparator)}function Yf(){return new ad(Uu.comparator)}const Xf={asc:"ASCENDING",desc:"DESCENDING"},Jf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zf={and:"AND",or:"OR"};class ep{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function tp(e,t){return e.useProto3Json||Xu(t)?t:{value:t}}function np(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function rp(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ip(e,t){return np(e,t.toTimestamp())}function sp(e){return gu(!!e),Du.fromTimestamp(function(e){const t=md(e);return new Ru(t.seconds,t.nanos)}(e))}function ap(e,t){return function(e){return new Lu(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function op(e){const t=Lu.fromString(e);return gu(jp(t)),t}function lp(e,t){return ap(e.databaseId,t.path)}function cp(e,t){const n=op(t);if(n.get(1)!==e.databaseId.projectId)throw new bu(yu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new bu(yu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Uu(fp(n))}function up(e,t){return ap(e.databaseId,t)}function dp(e){const t=op(e);return 4===t.length?Lu.emptyPath():fp(t)}function hp(e){return new Lu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function fp(e){return gu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function pp(e,t,n){return{name:lp(e,t),fields:n.value.mapValue.fields}}function mp(e,t){let n;if(t instanceof bf)n={update:pp(e,t.key,t.value)};else if(t instanceof Ef)n={delete:lp(e,t.key)};else if(t instanceof wf)n={update:pp(e,t.key,t.data),updateMask:Sp(t.fieldMask)};else{if(!(t instanceof _f))return mu();n={verify:lp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof ef)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof tf)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof rf)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof af)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw mu()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ip(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:mu()}(e,t.precondition)),n}function gp(e,t){return{documents:[up(e,t.path)]}}function vp(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=up(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=up(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return _p(Qd.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Np(e.field),direction:wp(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=tp(e,t.limit);var o;return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function yp(e){let t=dp(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){gu(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=bp(e);return t instanceof Qd&&Xd(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map((e=>function(e){return new Hd(Ep(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Xu(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new zd(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new zd(n,t)}(n.endAt)),gh(t,i,a,s,o,"F",l,c)}function bp(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ep(e.unaryFilter.field);return Gd.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ep(e.unaryFilter.field);return Gd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ep(e.unaryFilter.field);return Gd.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ep(e.unaryFilter.field);return Gd.create(i,"!=",{nullValue:"NULL_VALUE"});default:return mu()}}(e):void 0!==e.fieldFilter?function(e){return Gd.create(Ep(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mu()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Qd.create(e.compositeFilter.filters.map((e=>bp(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return mu()}}(e.compositeFilter.op))}(e):mu()}function wp(e){return Xf[e]}function xp(e){return Jf[e]}function kp(e){return Zf[e]}function Np(e){return{fieldPath:e.canonicalString()}}function Ep(e){return Mu.fromServerFormat(e.fieldPath)}function _p(e){return e instanceof Gd?function(e){if("=="===e.op){if(Od(e.value))return{unaryFilter:{field:Np(e.field),op:"IS_NAN"}};if(Dd(e.value))return{unaryFilter:{field:Np(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Od(e.value))return{unaryFilter:{field:Np(e.field),op:"IS_NOT_NAN"}};if(Dd(e.value))return{unaryFilter:{field:Np(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Np(e.field),op:xp(e.op),value:e.value}}}(e):e instanceof Qd?function(e){const t=e.getFilters().map((e=>_p(e)));return 1===t.length?t[0]:{compositeFilter:{op:kp(e.op),filters:t}}}(e):mu()}function Sp(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function jp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Cp{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Du.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Du.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:fd.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Cp(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Cp(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Tp{constructor(e){this.fe=e}}function Ip(e){const t=yp({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?_h(t,t.limit,"L"):t}class Ap{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(gd(e.integerValue));else if("doubleValue"in e){const n=gd(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),Ju(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie(`${n.seconds||""}`),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(vd(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?Md(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):mu()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),Uu.fromName(e).path.forEach((e=>{this.ye(t,60),this.be(e,t)}))}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Ap.Ve=new Ap;class Pp{constructor(){this.rn=new Rp}addToCollectionParentIndex(e,t){return this.rn.add(t),Gu.resolve()}getCollectionParents(e,t){return Gu.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Gu.resolve()}deleteFieldIndex(e,t){return Gu.resolve()}getDocumentsMatchingTarget(e,t){return Gu.resolve(null)}getIndexType(e,t){return Gu.resolve(0)}getFieldIndexes(e,t){return Gu.resolve([])}getNextCollectionGroupToUpdate(e){return Gu.resolve(null)}getMinOffset(e,t){return Gu.resolve(qu.min())}getMinOffsetFromCollectionGroup(e,t){return Gu.resolve(qu.min())}updateCollectionGroup(e,t,n){return Gu.resolve()}updateIndexEntries(e,t){return Gu.resolve()}}class Rp{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new cd(Lu.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new cd(Lu.comparator)).toArray()}}new Uint8Array(0);class Dp{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Dp(e,Dp.DEFAULT_COLLECTION_PERCENTILE,Dp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Dp.DEFAULT_COLLECTION_PERCENTILE=10,Dp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dp.DEFAULT=new Dp(41943040,Dp.DEFAULT_COLLECTION_PERCENTILE,Dp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dp.DISABLED=new Dp(-1,0,0);class Op{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Op(0)}static Mn(){return new Op(-1)}}class Lp{constructor(){this.changes=new Rh((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bd.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Gu.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Fp{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Mp{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&gf(n.mutation,e,dd.empty(),Ru.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,$h()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$h();const r=Uh();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Fh();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Uh();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,$h())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Oh();const s=Bh(),a=Bh();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof wf)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),gf(a.mutation,t,a.mutation.getFieldMask(),Ru.now())):s.set(t.key,dd.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new Fp(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Bh();let r=new ad(((e,t)=>e-t)),i=$h();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||dd.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||$h()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Vh();l.forEach((e=>{if(!i.has(e)){const r=pf(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Gu.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return Uu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):xh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Gu.resolve(Uh());let a=-1,o=i;return s.next((t=>Gu.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Gu.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,$h()))).next((e=>({batchId:a,changes:Mh(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Uu(t)).next((e=>{let t=Fh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=Fh();return this.indexManager.getCollectionParents(e,r).next((s=>Gu.forEach(s,(s=>{const a=function(e,t){return new mh(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.getDocumentsMatchingCollectionQuery(e,a,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)))).next((e=>{r.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Bd.newInvalidDocument(r)))}));let n=Fh();return e.forEach(((e,i)=>{const s=r.get(e);void 0!==s&&gf(s.mutation,i,dd.empty(),Ru.now()),Th(t,i)&&(n=n.insert(e,i))})),n}))}}class Up{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Gu.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:sp(n.createTime)}),Gu.resolve()}getNamedQuery(e,t){return Gu.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Ip(e.bundledQuery),readTime:sp(e.readTime)}}(t)),Gu.resolve()}}class Vp{constructor(){this.overlays=new ad(Uu.comparator),this.ls=new Map}getOverlay(e,t){return Gu.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Uh();return Gu.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.we(e,t,r)})),Gu.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.ls.delete(n)),Gu.resolve()}getOverlaysForCollection(e,t,n){const r=Uh(),i=t.length+1,s=new Uu(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Gu.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ad(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Uh(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Uh(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return Gu.resolve(a)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Cf(t,n));let i=this.ls.get(t);void 0===i&&(i=$h(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class Bp{constructor(){this.fs=new cd(zp.ds),this.ws=new cd(zp._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new zp(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ys(new zp(e,t))}ps(e,t){e.forEach((e=>this.removeReference(e,t)))}Is(e){const t=new Uu(new Lu([])),n=new zp(t,e),r=new zp(t,e+1),i=[];return this.ws.forEachInRange([n,r],(e=>{this.ys(e),i.push(e.key)})),i}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Uu(new Lu([])),n=new zp(t,e),r=new zp(t,e+1);let i=$h();return this.ws.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new zp(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class zp{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Uu.comparator(e.key,t.key)||Au(e.As,t.As)}static _s(e,t){return Au(e.As,t.As)||Uu.comparator(e.key,t.key)}}class qp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new cd(zp.ds)}checkEmpty(e){return Gu.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Sf(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Rs=this.Rs.add(new zp(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Gu.resolve(s)}lookupMutationBatch(e,t){return Gu.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return Gu.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Gu.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Gu.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new zp(t,0),r=new zp(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],(e=>{const t=this.Ps(e.As);i.push(t)})),Gu.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new cd(Au);return t.forEach((e=>{const t=new zp(e,0),r=new zp(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],(e=>{n=n.add(e.As)}))})),Gu.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Uu.isDocumentKey(i)||(i=i.child(""));const s=new zp(new Uu(i),0);let a=new cd(Au);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.As)),!0)}),s),Gu.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach((e=>{const n=this.Ps(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){gu(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return Gu.forEach(t.mutations,(r=>{const i=new zp(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Rs=n}))}Cn(e){}containsKey(e,t){const n=new zp(t,0),r=this.Rs.firstAfterOrEqual(n);return Gu.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Gu.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class $p{constructor(e){this.Ds=e,this.docs=new ad(Uu.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Gu.resolve(n?n.document.mutableCopy():Bd.newInvalidDocument(t))}getEntries(e,t){let n=Oh();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Bd.newInvalidDocument(e))})),Gu.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Oh();const s=t.path,a=new Uu(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||$u(zu(a),n)<=0||(r.has(a.key)||Th(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Gu.resolve(i)}getAllFromCollectionGroup(e,t,n,r){mu()}Cs(e,t){return Gu.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Hp(this)}getSize(e){return Gu.resolve(this.size)}}class Hp extends Lp{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)})),Gu.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Wp{constructor(e){this.persistence=e,this.xs=new Rh((e=>hh(e)),fh),this.lastRemoteSnapshotVersion=Du.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Bp,this.targetCount=0,this.Ms=Op.kn()}forEachTarget(e,t){return this.xs.forEach(((e,n)=>t(n))),Gu.resolve()}getLastRemoteSnapshotVersion(e){return Gu.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Gu.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Gu.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Gu.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Op(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Gu.resolve()}updateTargetData(e,t){return this.Fn(t),Gu.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Gu.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.xs.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),Gu.waitFor(i).next((()=>r))}getTargetCount(e){return Gu.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return Gu.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),Gu.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Gu.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Gu.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return Gu.resolve(n)}containsKey(e,t){return Gu.resolve(this.ks.containsKey(t))}}class Kp{constructor(e,t){this.$s={},this.overlays={},this.Os=new Yu(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Wp(this),this.indexManager=new Pp,this.remoteDocumentCache=function(e){return new $p(e)}((e=>this.referenceDelegate.Ls(e))),this.serializer=new Tp(t),this.qs=new Up(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Vp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new qp(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){du("MemoryPersistence","Starting transaction:",e);const r=new Gp(this.Os.next());return this.referenceDelegate.Us(),n(r).next((e=>this.referenceDelegate.Ks(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gs(e,t){return Gu.or(Object.values(this.$s).map((n=>()=>n.containsKey(e,t))))}}class Gp extends Wu{constructor(e){super(),this.currentSequenceNumber=e}}class Qp{constructor(e){this.persistence=e,this.Qs=new Bp,this.js=null}static zs(e){return new Qp(e)}get Ws(){if(this.js)return this.js;throw mu()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Gu.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Gu.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Gu.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach((e=>this.Ws.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ws.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Gu.forEach(this.Ws,(n=>{const r=Uu.fromPath(n);return this.Hs(e,r).next((e=>{e||t.removeEntry(r,Du.min())}))})).next((()=>(this.js=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hs(e,t).next((e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())}))}Ls(e){return 0}Hs(e,t){return Gu.or([()=>Gu.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Yp{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=$h(),r=$h();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Yp(e,t.fromCache,n,r)}}class Xp{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next((i=>i||this.Gi(e,t,r,n))).next((n=>n||this.Qi(e,t)))}Ki(e,t){if(yh(t))return Gu.resolve(null);let n=Nh(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=_h(t,null,"F"),n=Nh(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=$h(...r);return this.Ui.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.ji(t,r);return this.zi(t,s,i,n.readTime)?this.Ki(e,_h(t,null,"F")):this.Wi(e,s,t,n)}))))})))))}Gi(e,t,n,r){return yh(t)||r.isEqual(Du.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((i=>{const s=this.ji(t,i);return this.zi(t,s,n,r)?this.Qi(e,t):(uu()<=dt.DEBUG&&du("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ch(t)),this.Wi(e,s,t,Bu(r,-1)))}))}ji(e,t){let n=new cd(Ah(e));return t.forEach(((t,r)=>{Th(e,r)&&(n=n.add(r))})),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return uu()<=dt.DEBUG&&du("QueryEngine","Using full collection scan to execute query:",Ch(t)),this.Ui.getDocumentsMatchingQuery(e,t,qu.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Jp{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new ad(Au),this.Yi=new Rh((e=>hh(e)),fh),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Mp(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}function Zp(e,t,n,r){return new Jp(e,t,n,r)}async function em(e,t){const n=vu(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=$h();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({er:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function tm(e){const t=vu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Bs.getLastRemoteSnapshotVersion(e)))}function nm(e,t,n){let r=$h(),i=$h();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Oh();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Du.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):du("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{nr:r,sr:i}}))}function rm(e,t){const n=vu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function im(e,t){const n=vu(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Bs.getTargetData(e,t).next((i=>i?(r=i,Gu.resolve(r)):n.Bs.allocateTargetId(e).next((i=>(r=new Cp(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}async function sm(e,t,n){const r=vu(e),i=r.Ji.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Qu(e))throw e;du("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function am(e,t,n){const r=vu(e);let i=Du.min(),s=$h();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=vu(e),i=r.Yi.get(n);return void 0!==i?Gu.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,Nh(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:Du.min(),n?s:$h()))).next((e=>(om(r,Ih(t),e),{documents:e,ir:s})))))}function om(e,t,n){let r=e.Xi.get(t)||Du.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}class lm{constructor(){this.activeTargetIds=Wh()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cm{constructor(){this.Hr=new lm,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new lm,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class um{Yr(e){}shutdown(){}}class dm{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){du("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){du("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let hm=null;function fm(){return null===hm?hm=268435456+Math.round(2147483648*Math.random()):hm++,"0x"+hm.toString(16)}const pm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mm{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const gm="WebChannelConnection";class vm extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const s=fm(),a=this.To(e,t);du("RestConnection",`Sending RPC '${e}' ${s}:`,a,n);const o={};return this.Eo(o,r,i),this.Ao(e,a,o,n).then((t=>(du("RestConnection",`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw fu("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t}))}vo(e,t,n,r,i,s){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+lu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}To(e,t){const n=pm[e];return`${this.mo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=fm();return new Promise(((s,a)=>{const o=new ru;o.setWithCredentials(!0),o.listenOnce(Jc.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Xc.NO_ERROR:const t=o.getResponseJson();du(gm,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case Xc.TIMEOUT:du(gm,`RPC '${e}' ${i} timed out`),a(new bu(yu.DEADLINE_EXCEEDED,"Request time out"));break;case Xc.HTTP_ERROR:const n=o.getStatus();if(du(gm,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(yu).indexOf(t)>=0?t:yu.UNKNOWN}(t.status);a(new bu(e,t.message))}else a(new bu(yu.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new bu(yu.UNAVAILABLE,"Connection failed."));break;default:mu()}}finally{du(gm,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);du(gm,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)}))}Ro(e,t,n){const r=fm(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Qc(),a=Yc(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.xmlHttpFactory=new tu({})),this.Eo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");du(gm,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=s.createWebChannel(c,o);let d=!1,h=!1;const f=new mm({ro:t=>{h?du(gm,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(du(gm,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),du(gm,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},oo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,nu.EventType.OPEN,(()=>{h||du(gm,`RPC '${e}' stream ${r} transport opened.`)})),p(u,nu.EventType.CLOSE,(()=>{h||(h=!0,du(gm,`RPC '${e}' stream ${r} transport closed`),f.wo())})),p(u,nu.EventType.ERROR,(t=>{h||(h=!0,fu(gm,`RPC '${e}' stream ${r} transport errored:`,t),f.wo(new bu(yu.UNAVAILABLE,"The operation could not be completed")))})),p(u,nu.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];gu(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){du(gm,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=If[e];if(void 0!==t)return Rf(t)}(t),i=a.message;void 0===n&&(n=yu.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.wo(new bu(n,i)),u.close()}else du(gm,`RPC '${e}' stream ${r} received:`,i),f._o(i)}})),p(a,Zc.STAT_EVENT,(t=>{t.stat===eu.PROXY?du(gm,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===eu.NOPROXY&&du(gm,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.fo()}),0),f}}function ym(){return"undefined"!=typeof document?document:null}function bm(e){return new ep(e,!0)}class wm{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&du("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class xm{constructor(e,t,n,r,i,s,a,o){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new wm(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===yu.RESOURCE_EXHAUSTED?(hu(t.toString()),hu("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===yu.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)}),(t=>{e((()=>{const e=new bu(yu.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)}))}))}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((e=>{n((()=>this.tu(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return du("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.Fo===e?t():(du("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class km extends xm{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:mu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(gu(void 0===t||"string"==typeof t),fd.fromBase64String(t||"")):(gu(void 0===t||t instanceof Uint8Array),fd.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?yu.UNKNOWN:Rf(e.code);return new bu(t,e.message||"")}(a);n=new Wf(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=cp(e,r.document.name),s=sp(r.document.updateTime),a=r.document.createTime?sp(r.document.createTime):Du.min(),o=new Ud({mapValue:{fields:r.document.fields}}),l=Bd.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new $f(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=cp(e,r.document),s=r.readTime?sp(r.readTime):Du.min(),a=Bd.newNoDocument(i,s),o=r.removedTargetIds||[];n=new $f([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=cp(e,r.document),s=r.removedTargetIds||[];n=new $f([],s,i,null)}else{if(!("filter"in t))return mu();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Tf(r,i),a=e.targetId;n=new Hf(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Du.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Du.min():t.readTime?sp(t.readTime):Du.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=hp(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=ph(r)?{documents:gp(e,r)}:{query:vp(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=rp(e,t.resumeToken);const r=tp(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Du.min())>0){n.readTime=np(e,t.snapshotVersion.toTimestamp());const r=tp(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mu()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=hp(this.serializer),t.removeTarget=e,this.Wo(t)}}class Nm extends xm{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(gu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(gu(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?sp(e.updateTime):sp(t);return n.isEqual(Du.min())&&(n=sp(t)),new uf(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=sp(e.commitTime);return this.listener.cu(n,t)}return gu(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=hp(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>mp(this.serializer,e)))};this.Wo(t)}}class Em extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new bu(yu.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,s]=r;return this.connection.Io(e,t,n,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===yu.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new bu(yu.UNKNOWN,e.toString())}))}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.vo(e,t,n,s,a,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===yu.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new bu(yu.UNKNOWN,e.toString())}))}terminate(){this.lu=!0}}class _m{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(hu(t),this.mu=!1):du("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Sm{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr((e=>{n.enqueueAndForget((async()=>{Om(this)&&(du("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=vu(e);t.vu.add(4),await Cm(t),t.bu.set("Unknown"),t.vu.delete(4),await jm(t)}(this))}))})),this.bu=new _m(n,r)}}async function jm(e){if(Om(e))for(const t of e.Ru)await t(!0)}async function Cm(e){for(const t of e.Ru)await t(!1)}function Tm(e,t){const n=vu(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),Dm(n)?Rm(n):Zm(n).Ko()&&Am(n,t))}function Im(e,t){const n=vu(e),r=Zm(n);n.Au.delete(t),r.Ko()&&Pm(n,t),0===n.Au.size&&(r.Ko()?r.jo():Om(n)&&n.bu.set("Unknown"))}function Am(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Du.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Zm(e).su(t)}function Pm(e,t){e.Vu.qt(t),Zm(e).iu(t)}function Rm(e){e.Vu=new Gf({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),Zm(e).start(),e.bu.gu()}function Dm(e){return Om(e)&&!Zm(e).Uo()&&e.Au.size>0}function Om(e){return 0===vu(e).vu.size}function Lm(e){e.Vu=void 0}async function Fm(e){e.Au.forEach(((t,n)=>{Am(e,t)}))}async function Mm(e,t){Lm(e),Dm(e)?(e.bu.Iu(t),Rm(e)):e.bu.set("Unknown")}async function Um(e,t,n){if(e.bu.set("Online"),t instanceof Wf&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){du("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Vm(e,n)}else if(t instanceof $f?e.Vu.Ht(t):t instanceof Hf?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(Du.min()))try{const t=await tm(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(fd.EMPTY_BYTE_STRING,r.snapshotVersion)),Pm(e,t);const i=new Cp(r.target,t,n,r.sequenceNumber);Am(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){du("RemoteStore","Failed to raise snapshot:",t),await Vm(e,t)}}async function Vm(e,t,n){if(!Qu(t))throw t;e.vu.add(1),await Cm(e),e.bu.set("Offline"),n||(n=()=>tm(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{du("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await jm(e)}))}function Bm(e,t){return t().catch((n=>Vm(e,n,t)))}async function zm(e){const t=vu(e),n=eg(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;qm(t);)try{const e=await rm(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,$m(t,e)}catch(e){await Vm(t,e)}Hm(t)&&Wm(t)}function qm(e){return Om(e)&&e.Eu.length<10}function $m(e,t){e.Eu.push(t);const n=eg(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function Hm(e){return Om(e)&&!eg(e).Uo()&&e.Eu.length>0}function Wm(e){eg(e).start()}async function Km(e){eg(e).hu()}async function Gm(e){const t=eg(e);for(const n of e.Eu)t.uu(n.mutations)}async function Qm(e,t,n){const r=e.Eu.shift(),i=jf.from(r,t,n);await Bm(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await zm(e)}async function Ym(e,t){t&&eg(e).ou&&await async function(e,t){if(Pf(n=t.code)&&n!==yu.ABORTED){const n=e.Eu.shift();eg(e).Qo(),await Bm(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await zm(e)}var n}(e,t),Hm(e)&&Wm(e)}async function Xm(e,t){const n=vu(e);n.asyncQueue.verifyOperationInProgress(),du("RemoteStore","RemoteStore received new credentials");const r=Om(n);n.vu.add(3),await Cm(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await jm(n)}async function Jm(e,t){const n=vu(e);t?(n.vu.delete(2),await jm(n)):t||(n.vu.add(2),await Cm(n),n.bu.set("Unknown"))}function Zm(e){return e.Su||(e.Su=function(e,t,n){const r=vu(e);return r.fu(),new km(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Fm.bind(null,e),ao:Mm.bind(null,e),nu:Um.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Qo(),Dm(e)?Rm(e):e.bu.set("Unknown")):(await e.Su.stop(),Lm(e))}))),e.Su}function eg(e){return e.Du||(e.Du=function(e,t,n){const r=vu(e);return r.fu(),new Nm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Km.bind(null,e),ao:Ym.bind(null,e),au:Gm.bind(null,e),cu:Qm.bind(null,e)}),e.Ru.push((async t=>{t?(e.Du.Qo(),await zm(e)):(await e.Du.stop(),e.Eu.length>0&&(du("RemoteStore",`Stopping write stream with ${e.Eu.length} pending writes`),e.Eu=[]))}))),e.Du}class tg{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new wu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new tg(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new bu(yu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ng(e,t){if(hu("AsyncQueue",`${t}: ${e}`),Qu(e))return new bu(yu.UNAVAILABLE,`${t}: ${e}`);throw e}class rg{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Uu.comparator(t.key,n.key):(e,t)=>Uu.comparator(e.key,t.key),this.keyedMap=Fh(),this.sortedSet=new ad(this.comparator)}static emptySet(e){return new rg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof rg))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new rg;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class ig{constructor(){this.Cu=new ad(Uu.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):mu():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class sg{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new sg(e,t,rg.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class ag{constructor(){this.Nu=void 0,this.listeners=[]}}class og{constructor(){this.queries=new Rh((e=>jh(e)),Sh),this.onlineState="Unknown",this.ku=new Set}}async function lg(e,t){const n=vu(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new ag),i)try{s.Nu=await n.onListen(r)}catch(e){const n=ng(e,`Initialization of query '${Ch(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Mu(n.onlineState),s.Nu&&t.$u(s.Nu)&&hg(n)}async function cg(e,t){const n=vu(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function ug(e,t){const n=vu(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&hg(n)}function dg(e,t,n){const r=vu(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function hg(e){e.ku.forEach((e=>{e.next()}))}class fg{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new sg(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=sg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class pg{constructor(e){this.key=e}}class mg{constructor(e){this.key=e}}class gg{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=$h(),this.mutatedKeys=$h(),this.tc=Ah(e),this.ec=new rg(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new ig,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Th(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.rc(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.tc(u,o)>0||l&&this.tc(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:s,ic:n,zi:a,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mu()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc))),this.oc(n);const s=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,o=a!==this.Xu;return this.Xu=a,0!==i.length||o?{snapshot:new sg(this.query,e.ec,r,i,e.mutatedKeys,0===a,o,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new ig,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((e=>this.Yu=this.Yu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Yu=this.Yu.delete(e))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=$h(),this.ec.forEach((e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))}));const t=[];return e.forEach((e=>{this.Zu.has(e)||t.push(new mg(e))})),this.Zu.forEach((n=>{e.has(n)||t.push(new pg(n))})),t}hc(e){this.Yu=e.ir,this.Zu=$h();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return sg.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class vg{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class yg{constructor(e){this.key=e,this.fc=!1}}class bg{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new Rh((e=>jh(e)),Sh),this._c=new Map,this.mc=new Set,this.gc=new ad(Uu.comparator),this.yc=new Map,this.Ic=new Bp,this.Tc={},this.Ec=new Map,this.Ac=Op.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function wg(e,t){const n=Mg(e);let r,i;const s=n.wc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const e=await im(n.localStore,Nh(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await xg(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&Tm(n.remoteStore,e)}return i}async function xg(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await am(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.sc(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s);return Pg(e,t.targetId,a.cc),a.snapshot}(e,t,n,r);const s=await am(e.localStore,t,!0),a=new gg(t,s.ir),o=a.sc(s.documents),l=qf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);Pg(e,n,c.cc);const u=new vg(t,n,a);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}async function kg(e,t){const n=vu(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter((e=>!Sh(e,t)))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await sm(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Im(n.remoteStore,r.targetId),Ig(n,r.targetId)})).catch(Ku)):(Ig(n,r.targetId),await sm(n.localStore,r.targetId,!0))}async function Ng(e,t){const n=vu(e);try{const e=await function(e,t){const n=vu(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];t.targetChanges.forEach(((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Bs.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.Bs.addMatchingKeys(e,s.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(fd.EMPTY_BYTE_STRING,Du.min()).withLastLimboFreeSnapshotVersion(Du.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Bs.updateTargetData(e,c))}));let o=Oh(),l=$h();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(nm(e,s,t.documentUpdates).next((e=>{o=e.nr,l=e.sr}))),!r.isEqual(Du.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next((t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return Gu.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.Ji=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.yc.get(t);r&&(gu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?gu(r.fc):e.removedDocuments.size>0&&(gu(r.fc),r.fc=!1))})),await Og(n,e,t)}catch(e){await Ku(e)}}function Eg(e,t,n){const r=vu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach(((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=vu(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)})),r&&hg(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function _g(e,t,n){const r=vu(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),s=i&&i.key;if(s){let e=new ad(Uu.comparator);e=e.insert(s,Bd.newNoDocument(s,Du.min()));const n=$h().add(s),i=new zf(Du.min(),new Map,new ad(Au),e,n);await Ng(r,i),r.gc=r.gc.remove(s),r.yc.delete(t),Dg(r)}else await sm(r.localStore,t,!1).then((()=>Ig(r,t,n))).catch(Ku)}async function Sg(e,t){const n=vu(e),r=t.batch.batchId;try{const e=await function(e,t){const n=vu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=Gu.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);gu(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=$h();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Tg(n,r,null),Cg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Og(n,e)}catch(e){await Ku(e)}}async function jg(e,t,n){const r=vu(e);try{const e=await function(e,t){const n=vu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(gu(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Tg(r,t,n),Cg(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Og(r,e)}catch(n){await Ku(n)}}function Cg(e,t){(e.Ec.get(t)||[]).forEach((e=>{e.resolve()})),e.Ec.delete(t)}function Tg(e,t,n){const r=vu(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function Ig(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((t=>{e.Ic.containsKey(t)||Ag(e,t)}))}function Ag(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(Im(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),Dg(e))}function Pg(e,t,n){for(const r of n)r instanceof pg?(e.Ic.addReference(r.key,t),Rg(e,r)):r instanceof mg?(du("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||Ag(e,r.key)):mu()}function Rg(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(du("SyncEngine","New document in limbo: "+n),e.mc.add(r),Dg(e))}function Dg(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new Uu(Lu.fromString(t)),r=e.Ac.next();e.yc.set(r,new yg(n)),e.gc=e.gc.insert(n,r),Tm(e.remoteStore,new Cp(Nh(vh(n.path)),r,"TargetPurposeLimboResolution",Yu.ct))}}async function Og(e,t,n){const r=vu(e),i=[],s=[],a=[];r.wc.isEmpty()||(r.wc.forEach(((e,o)=>{a.push(r.Rc(o,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Yp.Li(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.dc.nu(i),await async function(e,t){const n=vu(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Gu.forEach(t,(t=>Gu.forEach(t.Fi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Gu.forEach(t.Bi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Qu(e))throw e;du("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,s))}async function Lg(e,t){const n=vu(e);if(!n.currentUser.isEqual(t)){du("SyncEngine","User change. New user:",t.toKey());const e=await em(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach((e=>{e.forEach((e=>{e.reject(new bu(yu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Og(n,e.er)}}function Fg(e,t){const n=vu(e),r=n.yc.get(t);if(r&&r.fc)return $h().add(r.key);{let e=$h();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function Mg(e){const t=vu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ng.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Fg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_g.bind(null,t),t.dc.nu=ug.bind(null,t.eventManager),t.dc.Pc=dg.bind(null,t.eventManager),t}function Ug(e){const t=vu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Sg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=jg.bind(null,t),t}class Vg{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=bm(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Zp(this.persistence,new Xp,e.initialUser,this.serializer)}createPersistence(e){return new Kp(Qp.zs,this.serializer)}createSharedClientState(e){return new cm}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Bg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Eg(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Lg.bind(null,this.syncEngine),await Jm(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new og}createDatastore(e){const t=bm(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new vm(r));var r;return function(e,t,n,r){return new Em(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Eg(this.syncEngine,e,0),s=dm.D()?new dm:new um,new Sm(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new bg(e,t,n,r,i,s);return a&&(o.vc=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=vu(e);du("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await Cm(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class zg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):hu("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class qg{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ou.UNAUTHENTICATED,this.clientId=Iu.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{du("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(du("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new bu(yu.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(ex){const n=ng(ex,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function $g(e,t){e.asyncQueue.verifyOperationInProgress(),du("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await em(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Hg(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Kg(e);du("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>Xm(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Xm(t.remoteStore,n))),e._onlineComponents=t}function Wg(e){return"FirebaseError"===e.name?e.code===yu.FAILED_PRECONDITION||e.code===yu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Kg(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){du("FirestoreClient","Using user provided OfflineComponentProvider");try{await $g(e,e._uninitializedComponentsProvider._offline)}catch(ex){const n=ex;if(!Wg(n))throw n;fu("Error using user provided cache. Falling back to memory cache: "+n),await $g(e,new Vg)}}else du("FirestoreClient","Using default OfflineComponentProvider"),await $g(e,new Vg);return e._offlineComponents}async function Gg(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(du("FirestoreClient","Using user provided OnlineComponentProvider"),await Hg(e,e._uninitializedComponentsProvider._online)):(du("FirestoreClient","Using default OnlineComponentProvider"),await Hg(e,new Bg))),e._onlineComponents}function Qg(e){return Gg(e).then((e=>e.syncEngine))}async function Yg(e){const t=await Gg(e),n=t.eventManager;return n.onListen=wg.bind(null,t.syncEngine),n.onUnlisten=kg.bind(null,t.syncEngine),n}function Xg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new wu;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new zg({next:s=>{t.enqueueAndForget((()=>cg(e,a)));const o=s.docs.has(n);!o&&s.fromCache?i.reject(new bu(yu.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&s.fromCache&&r&&"server"===r.source?i.reject(new bu(yu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new fg(vh(n.path),s,{includeMetadataChanges:!0,Ku:!0});return lg(e,a)}(await Yg(e),e.asyncQueue,t,n,r))),r.promise}function Jg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new wu;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new zg({next:n=>{t.enqueueAndForget((()=>cg(e,a))),n.fromCache&&"server"===r.source?i.reject(new bu(yu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new fg(n,s,{includeMetadataChanges:!0,Ku:!0});return lg(e,a)}(await Yg(e),e.asyncQueue,t,n,r))),r.promise}function Zg(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const ev=new Map;function tv(e,t,n){if(!n)throw new bu(yu.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function nv(e){if(!Uu.isDocumentKey(e))throw new bu(yu.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function rv(e){if(Uu.isDocumentKey(e))throw new bu(yu.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function iv(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":mu()}function sv(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new bu(yu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=iv(e);throw new bu(yu.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class av{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new bu(yu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new bu(yu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new bu(yu.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zg(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new bu(yu.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new bu(yu.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new bu(yu.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class ov{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new av({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new bu(yu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new bu(yu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new av(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ku;switch(e.type){case"firstParty":return new Su(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new bu(yu.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ev.get(e);t&&(du("ComponentProvider","Removing Datastore"),ev.delete(e),t.terminate())}(this),Promise.resolve()}}class lv{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uv(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lv(this.firestore,e,this._key)}}class cv{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new cv(this.firestore,e,this._query)}}class uv extends cv{constructor(e,t,n){super(e,t,vh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lv(this.firestore,null,new Uu(e))}withConverter(e){return new uv(this.firestore,e,this._path)}}function dv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=st(e),tv("collection","path",t),e instanceof ov){const n=Lu.fromString(t,...r);return rv(n),new uv(e,null,n)}{if(!(e instanceof lv||e instanceof uv))throw new bu(yu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Lu.fromString(t,...r));return rv(n),new uv(e.firestore,null,n)}}function hv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=st(e),1===arguments.length&&(t=Iu.A()),tv("doc","path",t),e instanceof ov){const n=Lu.fromString(t,...r);return nv(n),new lv(e,null,new Uu(n))}{if(!(e instanceof lv||e instanceof uv))throw new bu(yu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Lu.fromString(t,...r));return nv(n),new lv(e.firestore,e instanceof uv?e.converter:null,new Uu(n))}}class fv{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new wm(this,"async_queue_retry"),this.Xc=()=>{const e=ym();e&&du("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=ym();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=ym();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const t=new wu;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Qu(e))throw e;du("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const t=this.Gc.then((()=>(this.Hc=!0,e().catch((e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw hu("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Hc=!1,e))))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=tg.createAndSchedule(this,e,t,n,(e=>this.na(e)));return this.zc.push(r),r}Zc(){this.Wc&&mu()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class pv extends ov{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new fv,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||gv(this),this._firestoreClient.terminate()}}function mv(e){return e._firestoreClient||gv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function gv(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new xd(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Zg(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new qg(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class vv{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vv(fd.fromBase64String(e))}catch(e){throw new bu(yu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new vv(fd.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class yv{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new bu(yu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mu(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bv{constructor(e){this._methodName=e}}class wv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new bu(yu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new bu(yu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Au(this._lat,e._lat)||Au(this._long,e._long)}}const xv=/^__.*__$/;class kv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new wf(e,this.data,this.fieldMask,t,this.fieldTransforms):new bf(e,this.data,t,this.fieldTransforms)}}class Nv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new wf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ev(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mu()}}class _v{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new _v(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Bv(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Ev(this.ca)&&xv.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Sv{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||bm(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new _v({ca:e,methodName:t,ga:n,path:Mu.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jv(e){const t=e._freezeSettings(),n=bm(e._databaseId);return new Sv(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Cv(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.ya(s.merge||s.mergeFields?2:0,t,n,i);Fv("Data must be an object, but it was:",a,r);const o=Ov(r,a);let l,c;if(s.merge)l=new dd(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Mv(t,r,n);if(!a.contains(i))throw new bu(yu.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);zv(e,i)||e.push(i)}l=new dd(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new kv(new Ud(o),l,c)}class Tv extends bv{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tv}}class Iv extends bv{_toFieldTransform(e){return new cf(e.path,new ef)}isEqual(e){return e instanceof Iv}}function Av(e,t,n,r){const i=e.ya(1,t,n);Fv("Data must be an object, but it was:",i,r);const s=[],a=Ud.empty();id(r,((e,r)=>{const o=Vv(t,e,n);r=st(r);const l=i.da(o);if(r instanceof Tv)s.push(o);else{const e=Dv(r,l);null!=e&&(s.push(o),a.set(o,e))}}));const o=new dd(s);return new Nv(a,o,i.fieldTransforms)}function Pv(e,t,n,r,i,s){const a=e.ya(1,t,n),o=[Mv(t,r,n)],l=[i];if(s.length%2!=0)throw new bu(yu.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)o.push(Mv(t,s[h])),l.push(s[h+1]);const c=[],u=Ud.empty();for(let h=o.length-1;h>=0;--h)if(!zv(c,o[h])){const e=o[h];let t=l[h];t=st(t);const n=a.da(e);if(t instanceof Tv)c.push(e);else{const r=Dv(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new dd(c);return new Nv(u,d,a.fieldTransforms)}function Rv(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Dv(n,e.ya(r?4:3,t))}function Dv(e,t){if(Lv(e=st(e)))return Fv("Unsupported field value:",t,e),Ov(e,t);if(e instanceof bv)return function(e,t){if(!Ev(t.ca))throw t._a(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t._a(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Dv(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=st(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Qh(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Ru.fromDate(e);return{timestampValue:np(t.serializer,n)}}if(e instanceof Ru){const n=new Ru(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:np(t.serializer,n)}}if(e instanceof wv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof vv)return{bytesValue:rp(t.serializer,e._byteString)};if(e instanceof lv){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:ap(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a(`Unsupported field value: ${iv(e)}`)}(e,t)}function Ov(e,t){const n={};return sd(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):id(e,((e,r)=>{const i=Dv(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Lv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ru||e instanceof wv||e instanceof vv||e instanceof lv||e instanceof bv)}function Fv(e,t,n){if(!Lv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=iv(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function Mv(e,t,n){if((t=st(t))instanceof yv)return t._internalPath;if("string"==typeof t)return Vv(e,t);throw Bv("Field path arguments must be of type string or ",e,!1,void 0,n)}const Uv=new RegExp("[~\\*/\\[\\]]");function Vv(e,t,n){if(t.search(Uv)>=0)throw Bv(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new yv(...t.split("."))._internalPath}catch(r){throw Bv(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Bv(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new bu(yu.INVALID_ARGUMENT,o+e+l)}function zv(e,t){return e.some((e=>e.isEqual(t)))}class qv{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new lv(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new $v(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Hv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class $v extends qv{data(){return super.data()}}function Hv(e,t){return"string"==typeof t?Vv(e,t):t instanceof yv?t._internalPath:t._delegate._internalPath}function Wv(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new bu(yu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kv{}class Gv extends Kv{}function Qv(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Kv&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Jv)).length,n=e.filter((e=>e instanceof Yv)).length;if(t>1||t>0&&n>0)throw new bu(yu.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Yv extends Gv{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Yv(e,t,n)}_apply(e){const t=this._parse(e);return ny(e._query,t),new cv(e.firestore,e.converter,Eh(e._query,t))}_parse(e){const t=jv(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new bu(yu.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){ty(a,s);const t=[];for(const n of a)t.push(ey(r,e,n));o={arrayValue:{values:t}}}else o=ey(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||ty(a,s),o=Rv(n,"where",a,"in"===s||"not-in"===s);return Gd.create(i,s,o)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Xv(e,t,n){const r=t,i=Hv("where",e);return Yv._create(i,r,n)}class Jv extends Kv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Jv(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Qd.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)ny(n,i),n=Eh(n,i)}(e._query,t),new cv(e.firestore,e.converter,Eh(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Zv extends Gv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Zv(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new bu(yu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new bu(yu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Hd(t,n);return function(e,t){if(null===bh(e)){const n=wh(e);null!==n&&ry(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new cv(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new mh(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function ey(e,t,n){if("string"==typeof(n=st(n))){if(""===n)throw new bu(yu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xh(t)&&-1!==n.indexOf("/"))throw new bu(yu.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Lu.fromString(n));if(!Uu.isDocumentKey(r))throw new bu(yu.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ad(e,new Uu(r))}if(n instanceof lv)return Ad(e,n._key);throw new bu(yu.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${iv(n)}.`)}function ty(e,t){if(!Array.isArray(e)||0===e.length)throw new bu(yu.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ny(e,t){if(t.isInequality()){const n=wh(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new bu(yu.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${r.toString()}'`);const i=bh(e);null!==i&&ry(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new bu(yu.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new bu(yu.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function ry(e,t,n){if(!n.isEqual(t))throw new bu(yu.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class iy{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ed(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw mu()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return id(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new wv(gd(e.latitude),gd(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=bd(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(wd(e));default:return null}}convertTimestamp(e){const t=md(e);return new Ru(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Lu.fromString(e);gu(jp(n));const r=new kd(n.get(1),n.get(3)),i=new Uu(n.popFirst(5));return r.isEqual(t)||hu(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function sy(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class ay{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oy extends qv{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new ly(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Hv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class ly extends oy{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class cy{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ay(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new ly(this._firestore,this._userDataWriter,n.key,n,new ay(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new bu(yu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new ly(e._firestore,e._userDataWriter,n.doc.key,n.doc,new ay(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new ly(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ay(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:uy(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function uy(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mu()}}function dy(e){e=sv(e,lv);const t=sv(e.firestore,pv);return Xg(mv(t),e._key).then((n=>by(t,e,n)))}class hy extends iy{constructor(e){super(),this.firestore=e}convertBytes(e){return new vv(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lv(this.firestore,null,t)}}function fy(e){e=sv(e,cv);const t=sv(e.firestore,pv),n=mv(t),r=new hy(t);return Wv(e._query),Jg(n,e._query).then((n=>new cy(t,r,e,n)))}function py(e,t,n){e=sv(e,lv);const r=sv(e.firestore,pv),i=sy(e.converter,t,n);return yy(r,[Cv(jv(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,df.none())])}function my(e,t,n){e=sv(e,lv);const r=sv(e.firestore,pv),i=jv(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=st(t))||t instanceof yv?Pv(i,"updateDoc",e._key,t,n,o):Av(i,"updateDoc",e._key,t),yy(r,[s.toMutation(e._key,df.exists(!0))])}function gy(e){return yy(sv(e.firestore,pv),[new Ef(e._key,df.none())])}function vy(e,t){const n=sv(e.firestore,pv),r=hv(e),i=sy(e.converter,t);return yy(n,[Cv(jv(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,df.exists(!1))]).then((()=>r))}function yy(e,t){return function(e,t){const n=new wu;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Ug(e);try{const e=await function(e,t){const n=vu(e),r=Ru.now(),i=t.reduce(((e,t)=>e.add(t.key)),$h());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Oh(),l=$h();return n.Zi.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=vf(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new wf(e.key,t,Vd(t.value.mapValue),df.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:Mh(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new ad(Au)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await Og(r,e.changes),await zm(r.remoteStore)}catch(e){const t=ng(e,"Failed to persist write");n.reject(t)}}(await Qg(e),t,n))),n.promise}(mv(e),t)}function by(e,t,n){const r=n.docs.get(t._key),i=new hy(e);return new oy(e,i,t._key,r,new ay(n.hasPendingWrites,n.fromCache),t.converter)}function wy(){return new Iv("serverTimestamp")}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){lu=e}(vn),fn(new at("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new pv(new Eu(e.getProvider("auth-internal")),new Cu(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new bu(yu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kd(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),wn(au,"3.13.0",e),wn(au,"3.13.0","esm2017")}();const xy="firebasestorage.googleapis.com",ky="storageBucket";class Ny extends Qe{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Sy(e),`Firebase Storage: ${t} (${Sy(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ny.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Sy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ey,_y;function Sy(e){return"storage/"+e}function jy(){return new Ny(Ey.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Cy(){return new Ny(Ey.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ty(){return new Ny(Ey.CANCELED,"User canceled the upload/download.")}function Iy(){return new Ny(Ey.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ay(e){return new Ny(Ey.INVALID_ARGUMENT,e)}function Py(){return new Ny(Ey.APP_DELETED,"The Firebase app was deleted.")}function Ry(e,t){return new Ny(Ey.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Dy(e){throw new Ny(Ey.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Ey||(Ey={}));class Oy{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Oy.makeFromUrl(e,t)}catch(ex){return new Oy(e,"")}if(""===n.path)return n;throw r=e,new Ny(Ey.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${a}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp(`^https?://${t===xy?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new Oy(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Ny(Ey.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Ly{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Fy(e){return"string"===typeof e||e instanceof String}function My(e){return Uy()&&e instanceof Blob}function Uy(){return"undefined"!==typeof Blob&&!Ke()}function Vy(e,t,n,r){if(r<t)throw Ay(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Ay(`Invalid value for '${e}'. Expected ${n} or less.`)}function By(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function zy(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function qy(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(_y||(_y={}));class $y{constructor(e,t,n,r,i,s,a,o,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new Hy(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===_y.NO_ERROR,i=n.getStatus();if(!t||qy(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===_y.ABORT;return void e(!1,new Hy(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new Hy(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(ex){r(ex)}else if(null!==i){const e=jy();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?Py():Ty())}else{r(Cy())}};this.canceled_?t(0,new Hy(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function h(){s&&clearTimeout(s)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===o?(o=2,s=0):s=1e3*(r+Math.random()),d(s)}let p=!1;function m(e){p||(p=!0,h(),c||(null!==i?(e||(o=2),clearTimeout(i),d(0)):e||(o=1)))}return d(0),s=setTimeout((()=>{a=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Hy{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Wy(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Ky(){const e=Wy();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Uy())return new Blob(n);throw new Ny(Ey.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Gy(e){if("undefined"===typeof atob)throw t="base-64",new Ny(Ey.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}const Qy="raw",Yy="base64",Xy="base64url",Jy="data_url";class Zy{constructor(e,t){this.data=e,this.contentType=t||null}}function eb(e,t){switch(e){case Qy:return new Zy(tb(t));case Yy:case Xy:return new Zy(nb(e,t));case Jy:return new Zy(function(e){const t=new rb(e);return t.base64?nb(Yy,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(ex){throw Ry(Jy,"Malformed data URL.")}return tb(t)}(t.rest)}(t),new rb(t).contentType)}throw jy()}function tb(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function nb(e,t){switch(e){case Yy:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw Ry(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case Xy:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw Ry(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Gy(t)}catch(ex){if(ex.message.includes("polyfill"))throw ex;throw Ry(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class rb{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Ry(Jy,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class ib{constructor(e,t){let n=0,r="";My(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(My(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new ib(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new ib(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Uy()){const e=t.map((e=>e instanceof ib?e.data_:e));return new ib(Ky.apply(null,e))}{const e=t.map((e=>Fy(e)?eb(Qy,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new ib(r,!0)}}uploadData(){return this.data_}}function sb(e){let t;try{t=JSON.parse(e)}catch(ex){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function ab(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function ob(e,t){return t}class lb{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||ob}}let cb=null;function ub(){if(cb)return cb;const e=[];e.push(new lb("bucket")),e.push(new lb("generation")),e.push(new lb("metageneration")),e.push(new lb("name","fullPath",!0));const t=new lb("name");t.xform=function(e,t){return function(e){return!Fy(e)||e.length<2?e:ab(e)}(t)},e.push(t);const n=new lb("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new lb("timeCreated")),e.push(new lb("updated")),e.push(new lb("md5Hash",null,!0)),e.push(new lb("cacheControl",null,!0)),e.push(new lb("contentDisposition",null,!0)),e.push(new lb("contentEncoding",null,!0)),e.push(new lb("contentLanguage",null,!0)),e.push(new lb("contentType",null,!0)),e.push(new lb("metadata","customMetadata",!0)),cb=e,cb}function db(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new Oy(n,r);return t._makeStorageReference(i)}})}(r,e),r}function hb(e,t,n){const r=sb(t);if(null===r)return null;return db(e,r,n)}function fb(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class pb{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function mb(e){if(!e)throw jy()}function gb(e,t){return function(n,r){const i=hb(e,r,t);return mb(null!==i),i}}function vb(e,t){return function(n,r){const i=hb(e,r,t);return mb(null!==i),function(e,t,n,r){const i=sb(t);if(null===i)return null;if(!Fy(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent;return s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return By("/b/"+a(i)+"/o/"+a(s),n,r)+zy({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function yb(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Ny(Ey.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Ny(Ey.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new Ny(Ey.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Ny(Ey.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function bb(e){const t=yb(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new Ny(Ey.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function wb(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function xb(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;const l=wb(t,r,i),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+fb(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+o+"--",d=ib.getBlob(c,r,u);if(null===d)throw Iy();const h={name:l.fullPath},f=By(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new pb(f,"POST",gb(e,n),p);return m.urlParams=h,m.headers=a,m.body=d.uploadData(),m.errorHandler=yb(t),m}class kb{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=_y.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=_y.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=_y.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw Dy("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Dy("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Dy("cannot .getStatus() before sending");try{return this.xhr_.status}catch(ex){return-1}}getResponse(){if(!this.sent_)throw Dy("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Dy("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Nb extends kb{initXhr(){this.xhr_.responseType="text"}}function Eb(){return new Nb}class _b{constructor(e,t){this._service=e,this._location=t instanceof Oy?t:Oy.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new _b(e,t)}get root(){const e=new Oy(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ab(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Oy(this._location.bucket,e);return new _b(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Ny(Ey.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Sb(e,t,n){e._throwIfRoot("uploadBytes");const r=xb(e.storage,e._location,ub(),new ib(t,!0),n);return e.storage.makeRequestWithTokens(r,Eb).then((t=>({metadata:t,ref:e})))}function jb(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=By(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new pb(r,"GET",vb(e,n),i);return s.errorHandler=bb(t),s}(e.storage,e._location,ub());return e.storage.makeRequestWithTokens(t,Eb).then((e=>{if(null===e)throw new Ny(Ey.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Cb(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Oy(e._location.bucket,n);return new _b(e.storage,r)}function Tb(e,t){if(e instanceof Pb){const n=e;if(null==n._bucket)throw new Ny(Ey.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ky+"' property when initializing the app?");const r=new _b(n,n._bucket);return null!=t?Tb(r,t):r}return void 0!==t?Cb(e,t):e}function Ib(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Pb)return new _b(e,t);throw Ay("To use ref(service, url), the first argument must be a Storage instance.")}return Tb(e,t)}function Ab(e,t){const n=null===t||void 0===t?void 0:t[ky];return null==n?null:Oy.makeFromBucketSpec(n,e)}class Pb{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=xy,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Oy.makeFromBucketSpec(r,this._host):Ab(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Oy.makeFromBucketSpec(this._url,e):this._bucket=Ab(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Vy("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Vy("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _b(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Ly(Py());{const s=function(e,t,n,r,i,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=zy(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new $y(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Rb="@firebase/storage",Db="0.11.2",Ob="storage";function Lb(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Pb(r,i,s,n,vn)}fn(new at(Ob,Lb,"PUBLIC").setMultipleInstances(!0)),wn(Rb,Db,""),wn(Rb,Db,"esm2017");const Fb=yn({apiKey:"AIzaSyAvXOapjqvQ2ru6JeG7jy5aMYuZ_bEpGxg",authDomain:"travelnest-app-1.firebaseapp.com",projectId:"travelnest-app-1",storageBucket:"travelnest-app-1.firebasestorage.app",messagingSenderId:"557240068663",appId:"1:557240068663:web:b82df76a646767db0b2db2",measurementId:"G-Q6H5YMQ67M"}),Mb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn();const t=pn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=pn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Je(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Fn(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Ps,persistence:[Hi,Ci,Ii]}),r=qe("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Ls)return;const r=null===t||void 0===t?void 0:t.token;Fs!==r&&(Fs=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){st(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){st(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}var i;const s=Ve("auth");return s&&Hr(n,`http://${s}`),n}(Fb),Ub=function(e,t){const n="string"==typeof e?e:t||"(default)",r=pn("object"==typeof e?e:bn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=Be("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=sv(e,ov))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==a&&fu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ou.MOCK_USER;else{t=He(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new bu(yu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ou(s)}e._authCredentials=new Nu(new xu(t,n))}}(r,...e)}return r}(Fb),Vb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn(),t=arguments.length>1?arguments[1]:void 0;e=st(e);const n=pn(e,Ob).getImmediate({identifier:t}),r=Be("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:He(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(Fb);var Bb=n(579);const zb=(0,i.createContext)(),qb=()=>(0,i.useContext)(zb),$b=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(null),[s,a]=(0,i.useState)(null),[o,l]=(0,i.useState)(!0);(0,i.useEffect)((()=>Ei(Mb,(async e=>{if(r(e),e)try{const t=await(async e=>{try{const t=await dy(hv(Ub,"users",e));if(t.exists())return{id:t.id,...t.data()};throw new Error("User not found")}catch(t){throw t}})(e.uid);a(t)}catch(t){console.error("Error fetching user profile:",t)}else a(null);l(!1)}))),[]);const c={currentUser:n,userProfile:s,isAdmin:"admin"===(null===s||void 0===s?void 0:s.role),loading:o};return(0,Bb.jsx)(zb.Provider,{value:c,children:!o&&t})},Hb=async(e,t)=>{try{const n=await function(e,t,n){return wi(st(e),si.credential(t,n))}(Mb,e,t);return n.user}catch(n){throw n}},Wb=async()=>{try{return await function(e){return st(e).signOut()}(Mb),!0}catch(e){throw e}},Kb=async e=>{try{return await async function(e,t,n){var r;const i=qr(e),s={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Vr(i,s,"getOobCode",!0);n&&xi(i,e,n),await Jr(i,e)}else n&&xi(i,s,n),await Jr(i,s).catch((async e=>{if("auth/missing-recaptcha-token"!==e.code)return Promise.reject(e);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const e=await Vr(i,s,"getOobCode",!0);n&&xi(i,e,n),await Jr(i,e)}}))}(Mb,e),!0}catch(t){throw t}},Gb=()=>{var e;const{currentUser:t,userProfile:n,isAdmin:r}=qb(),s=ne(),[a,o]=(0,i.useState)(!1),[l,c]=(0,i.useState)(!1),u=(0,i.useRef)(null),d=(0,i.useRef)(null);return(0,i.useEffect)((()=>{const e=e=>{u.current&&!u.current.contains(e.target)&&o(!1),d.current&&!d.current.contains(e.target)&&c(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]),(0,Bb.jsx)("nav",{className:"navbar",children:(0,Bb.jsxs)("div",{className:"navbar-container",children:[(0,Bb.jsxs)("div",{className:"left-section",children:[(0,Bb.jsx)(Ie,{to:"/",className:"navbar-logo",children:"Travelnest"}),(0,Bb.jsxs)("div",{className:"main-menu-container",ref:u,children:[(0,Bb.jsxs)("button",{className:"menu-toggle",onClick:e=>{e.stopPropagation(),o(!a),l&&c(!1)},children:["Menu ",(0,Bb.jsx)("span",{className:"dropdown-arrow",children:a?"\u25b4":"\u25be"})]}),a&&(0,Bb.jsxs)("div",{className:"main-dropdown-menu",children:[(0,Bb.jsx)(Ie,{to:"/",className:"dropdown-item",onClick:()=>o(!1),children:"Home"}),(0,Bb.jsx)(Ie,{to:"/packages",className:"dropdown-item",onClick:()=>o(!1),children:"Packages"}),(0,Bb.jsx)(Ie,{to:"/custom-package",className:"dropdown-item",onClick:()=>o(!1),children:"Custom Package"}),(0,Bb.jsx)(Ie,{to:"/about",className:"dropdown-item",onClick:()=>o(!1),children:"About"}),(0,Bb.jsx)(Ie,{to:"/contact",className:"dropdown-item",onClick:()=>o(!1),children:"Contact"})]})]})]}),(0,Bb.jsx)("div",{className:"right-section",children:(0,Bb.jsx)("div",{className:"user-menu-container",ref:d,children:t?(0,Bb.jsxs)(Bb.Fragment,{children:[(0,Bb.jsxs)("button",{className:"user-toggle",onClick:e=>{e.stopPropagation(),c(!l),a&&o(!1)},children:["Welcome, ",(null===n||void 0===n||null===(e=n.name)||void 0===e?void 0:e.split(" ")[0])||"User"," ",(0,Bb.jsx)("span",{className:"dropdown-arrow",children:l?"\u25b4":"\u25be"})]}),l&&(0,Bb.jsxs)("div",{className:"user-dropdown-menu",children:[(0,Bb.jsx)(Ie,{to:"/dashboard",className:"dropdown-item",onClick:()=>c(!1),children:"My Dashboard"}),r&&(0,Bb.jsx)(Ie,{to:"/admin",className:"dropdown-item",onClick:()=>c(!1),children:"Admin Panel"}),(0,Bb.jsx)("button",{onClick:()=>{(async()=>{try{await Wb(),s("/")}catch(e){console.error("Failed to log out:",e)}})(),c(!1)},className:"dropdown-item logout-button",children:"Logout"})]})]}):(0,Bb.jsxs)("div",{className:"auth-buttons",children:[(0,Bb.jsx)(Ie,{to:"/login",className:"btn-login",children:"Login"}),(0,Bb.jsx)(Ie,{to:"/register",className:"btn-register",children:"Sign Up"})]})})})]})})},Qb=()=>{const{currentUser:e}=qb();return(0,Bb.jsxs)("footer",{className:"site-footer",children:[(0,Bb.jsxs)("div",{className:"footer-container",children:[(0,Bb.jsxs)("div",{className:"footer-section",children:[(0,Bb.jsx)("h3",{children:"Travelnest"}),(0,Bb.jsx)("p",{children:"Discover amazing travel experiences with our all-inclusive packages."}),(0,Bb.jsxs)("div",{className:"social-icons",children:[(0,Bb.jsx)("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",children:(0,Bb.jsx)("i",{className:"fab fa-facebook"})}),(0,Bb.jsx)("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",children:(0,Bb.jsx)("i",{className:"fab fa-twitter"})}),(0,Bb.jsx)("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",children:(0,Bb.jsx)("i",{className:"fab fa-instagram"})})]})]}),(0,Bb.jsxs)("div",{className:"footer-section",children:[(0,Bb.jsx)("h3",{children:"Quick Links"}),(0,Bb.jsxs)("ul",{className:"footer-links",children:[(0,Bb.jsx)("li",{children:(0,Bb.jsx)(Ie,{to:"/",children:"Home"})}),(0,Bb.jsx)("li",{children:(0,Bb.jsx)(Ie,{to:"/packages",children:"Travel Packages"})}),(0,Bb.jsx)("li",{children:(0,Bb.jsx)(Ie,{to:"/about",children:"About Us"})}),(0,Bb.jsx)("li",{children:(0,Bb.jsx)(Ie,{to:"/contact",children:"Contact Us"})}),e&&(0,Bb.jsx)("li",{children:(0,Bb.jsx)(Ie,{to:"/dashboard",children:"My Dashboard"})}),!e&&(0,Bb.jsxs)(Bb.Fragment,{children:[(0,Bb.jsx)("li",{children:(0,Bb.jsx)(Ie,{to:"/login",children:"Login"})}),(0,Bb.jsx)("li",{children:(0,Bb.jsx)(Ie,{to:"/register",children:"Register"})})]})]})]}),(0,Bb.jsxs)("div",{className:"footer-section",children:[(0,Bb.jsx)("h3",{children:"For Travelers"}),(0,Bb.jsxs)("ul",{className:"footer-links",children:[(0,Bb.jsx)("li",{children:(0,Bb.jsx)(Ie,{to:"/packages",children:"Explore Packages"})}),(0,Bb.jsx)("li",{children:(0,Bb.jsx)(Ie,{to:"/custom-package",children:"Custom Packages"})}),e&&(0,Bb.jsx)("li",{children:(0,Bb.jsx)(Ie,{to:"/dashboard",children:"My Bookings"})})]})]}),(0,Bb.jsxs)("div",{className:"footer-section",children:[(0,Bb.jsx)("h3",{children:"For Service Providers"}),(0,Bb.jsxs)("ul",{className:"footer-links",children:[(0,Bb.jsx)("li",{children:(0,Bb.jsx)(Ie,{to:"/provider/register",children:"Join as Provider"})}),e?(0,Bb.jsx)("li",{children:(0,Bb.jsx)(Ie,{to:"/provider/dashboard",children:"Provider Dashboard"})}):(0,Bb.jsx)("li",{children:(0,Bb.jsx)(Ie,{to:"/login",children:"Provider Login"})}),(0,Bb.jsx)("li",{children:(0,Bb.jsx)(Ie,{to:"/provider/help",children:"Help Center"})})]})]})]}),(0,Bb.jsxs)("div",{className:"footer-bottom",children:[(0,Bb.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," Travelnest. All rights reserved."]}),(0,Bb.jsxs)("div",{className:"footer-bottom-links",children:[(0,Bb.jsx)(Ie,{to:"/privacy-policy",children:"Privacy Policy"}),(0,Bb.jsx)(Ie,{to:"/terms-of-service",children:"Terms of Service"})]})]})]})},Yb=()=>(0,Bb.jsxs)("div",{className:"home-page",children:[(0,Bb.jsx)("section",{className:"hero-section",children:(0,Bb.jsxs)("div",{className:"hero-content",children:[(0,Bb.jsx)("h1",{children:"Discover Amazing Places"}),(0,Bb.jsx)("p",{children:"Book all-inclusive travel packages with accommodations, tours, and transportation for a stress-free vacation experience."}),(0,Bb.jsx)(Ie,{to:"/packages",className:"btn-primary",children:"Explore Packages"})]})}),(0,Bb.jsxs)("section",{className:"features-section",children:[(0,Bb.jsx)("h2",{children:"Why Choose Travelnest?"}),(0,Bb.jsxs)("div",{className:"features-container",children:[(0,Bb.jsxs)("div",{className:"feature-card",children:[(0,Bb.jsx)("div",{className:"feature-icon",children:"\ud83c\udfe8"}),(0,Bb.jsx)("h3",{children:"All-Inclusive Packages"}),(0,Bb.jsx)("p",{children:"Our packages include accommodations, guided tours, transportation, and other essential services."})]}),(0,Bb.jsxs)("div",{className:"feature-card",children:[(0,Bb.jsx)("div",{className:"feature-icon",children:"\ud83c\udf0e"}),(0,Bb.jsx)("h3",{children:"Worldwide Destinations"}),(0,Bb.jsx)("p",{children:"Explore exciting destinations around the world with our carefully curated travel packages."})]}),(0,Bb.jsxs)("div",{className:"feature-card",children:[(0,Bb.jsx)("div",{className:"feature-icon",children:"\ud83d\udcb0"}),(0,Bb.jsx)("h3",{children:"Best Price Guarantee"}),(0,Bb.jsx)("p",{children:"We offer competitive prices for all our packages with no hidden fees."})]}),(0,Bb.jsxs)("div",{className:"feature-card",children:[(0,Bb.jsx)("div",{className:"feature-icon",children:"\ud83d\udee1"}),(0,Bb.jsx)("h3",{children:"Secure Booking"}),(0,Bb.jsx)("p",{children:"Book with confidence knowing your payments and personal information are secure."})]})]})]}),(0,Bb.jsxs)("section",{className:"popular-destinations",children:[(0,Bb.jsx)("h2",{children:"Popular Destinations"}),(0,Bb.jsxs)("div",{className:"destinations-grid",children:[(0,Bb.jsxs)("div",{className:"destination-card",children:[(0,Bb.jsx)("div",{className:"destination-image",style:{backgroundImage:"url(/images/europe.webp)"}}),(0,Bb.jsxs)("div",{className:"destination-content",children:[(0,Bb.jsx)("h3",{children:"Europe"}),(0,Bb.jsx)("p",{children:"Explore historic cities and scenic landscapes"}),(0,Bb.jsx)(Ie,{to:"/packages?region=Europe",className:"btn-view",children:"View Packages"})]})]}),(0,Bb.jsxs)("div",{className:"destination-card",children:[(0,Bb.jsx)("div",{className:"destination-image",style:{backgroundImage:"url(/images/asia.webp)"}}),(0,Bb.jsxs)("div",{className:"destination-content",children:[(0,Bb.jsx)("h3",{children:"Asia"}),(0,Bb.jsx)("p",{children:"Experience rich cultures and ancient traditions"}),(0,Bb.jsx)(Ie,{to:"/packages?region=Asia",className:"btn-view",children:"View Packages"})]})]}),(0,Bb.jsxs)("div",{className:"destination-card",children:[(0,Bb.jsx)("div",{className:"destination-image",style:{backgroundImage:"url(/images/north-america.webp)"}}),(0,Bb.jsxs)("div",{className:"destination-content",children:[(0,Bb.jsx)("h3",{children:"North America"}),(0,Bb.jsx)("p",{children:"Discover diverse cities and natural wonders"}),(0,Bb.jsx)(Ie,{to:"/packages?region=North%20America",className:"btn-view",children:"View Packages"})]})]}),(0,Bb.jsxs)("div",{className:"destination-card",children:[(0,Bb.jsx)("div",{className:"destination-image",style:{backgroundImage:"url(/images/australia.webp)"}}),(0,Bb.jsxs)("div",{className:"destination-content",children:[(0,Bb.jsx)("h3",{children:"Australia"}),(0,Bb.jsx)("p",{children:"Adventure through stunning landscapes"}),(0,Bb.jsx)(Ie,{to:"/packages?region=Australia",className:"btn-view",children:"View Packages"})]})]})]})]}),(0,Bb.jsxs)("section",{className:"testimonials-section",children:[(0,Bb.jsx)("h2",{children:"What Our Travelers Say"}),(0,Bb.jsxs)("div",{className:"testimonials-container",children:[(0,Bb.jsxs)("div",{className:"testimonial-card",children:[(0,Bb.jsx)("div",{className:"testimonial-rating",children:"\u2605\u2605\u2605\u2605\u2605"}),(0,Bb.jsx)("p",{className:"testimonial-text",children:'"Travelnest made our family vacation so easy. Everything was organized and we didn\'t have to worry about any details during our trip. Highly recommended!"'}),(0,Bb.jsx)("div",{className:"testimonial-author",children:"- Sarah J."})]}),(0,Bb.jsxs)("div",{className:"testimonial-card",children:[(0,Bb.jsx)("div",{className:"testimonial-rating",children:"\u2605\u2605\u2605\u2605\u2605"}),(0,Bb.jsx)("p",{className:"testimonial-text",children:'"The tour guides were exceptional and accommodations were top-notch. I\'ll definitely be booking my next adventure with Travelnest."'}),(0,Bb.jsx)("div",{className:"testimonial-author",children:"- Michael R."})]}),(0,Bb.jsxs)("div",{className:"testimonial-card",children:[(0,Bb.jsx)("div",{className:"testimonial-rating",children:"\u2605\u2605\u2605\u2605\u2605"}),(0,Bb.jsx)("p",{className:"testimonial-text",children:'"Seamless booking process and excellent customer service. Our Europe trip was perfectly planned and executed without any hassle."'}),(0,Bb.jsx)("div",{className:"testimonial-author",children:"- Emily T."})]})]})]}),(0,Bb.jsx)("section",{className:"cta-section",children:(0,Bb.jsxs)("div",{className:"cta-content",children:[(0,Bb.jsx)("h2",{children:"Ready to Start Your Adventure?"}),(0,Bb.jsx)("p",{children:"Browse our packages and book your dream vacation today!"}),(0,Bb.jsx)(Ie,{to:"/packages",className:"btn-primary",children:"Explore Packages"})]})})]}),Xb=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[s,a]=(0,i.useState)(""),[o,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),d=ne();return(0,Bb.jsx)("div",{className:"login-container",children:(0,Bb.jsxs)("div",{className:"login-form",children:[(0,Bb.jsx)("h2",{children:"Log In to Your Account"}),s&&(0,Bb.jsx)("div",{className:"error-message",children:s}),c&&(0,Bb.jsx)("div",{className:"success-message",children:"Password reset email sent. Check your inbox."}),(0,Bb.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{a(""),l(!0),await Hb(e,n),d("/dashboard")}catch(s){a("Failed to log in: "+s.message)}finally{l(!1)}},children:[(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"email",children:"Email"}),(0,Bb.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"password",children:"Password"}),(0,Bb.jsx)("input",{type:"password",id:"password",value:n,onChange:e=>r(e.target.value),required:!0})]}),(0,Bb.jsx)("button",{type:"submit",className:"btn-primary",disabled:o,children:o?"Logging in...":"Log In"})]}),(0,Bb.jsxs)("div",{className:"form-footer",children:[(0,Bb.jsx)("button",{onClick:async()=>{if(e)try{a(""),l(!0),await Kb(e),u(!0)}catch(s){a("Failed to send reset email: "+s.message)}finally{l(!1)}else a("Please enter your email address")},className:"btn-link",disabled:o,children:"Forgot Password?"}),(0,Bb.jsxs)("p",{children:["Don't have an account? ",(0,Bb.jsx)(Ie,{to:"/register",children:"Sign Up"})]})]})]})})},Jb=()=>(0,Bb.jsx)("div",{className:"page-container",children:(0,Bb.jsx)(Xb,{})}),Zb=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[s,a]=(0,i.useState)(""),[o,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(!1),f=ne();return(0,Bb.jsx)("div",{className:"register-container",children:(0,Bb.jsxs)("div",{className:"register-form",children:[(0,Bb.jsx)("h2",{children:"Create Your Account"}),c&&(0,Bb.jsx)("div",{className:"error-message",children:c}),(0,Bb.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),s!==o)return u("Passwords do not match");try{u(""),h(!0),await(async(e,t,n)=>{try{const r=(await ki(Mb,e,t)).user;return await Ni(r,{displayName:n}),await py(hv(Ub,"users",r.uid),{uid:r.uid,name:n,email:e,role:"user",createdAt:new Date}),r}catch(c){throw c}})(n,s,e),f("/dashboard")}catch(c){u("Failed to create an account: "+c.message)}finally{h(!1)}},children:[(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"name",children:"Full Name"}),(0,Bb.jsx)("input",{type:"text",id:"name",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"email",children:"Email"}),(0,Bb.jsx)("input",{type:"email",id:"email",value:n,onChange:e=>r(e.target.value),required:!0})]}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"password",children:"Password"}),(0,Bb.jsx)("input",{type:"password",id:"password",value:s,onChange:e=>a(e.target.value),required:!0})]}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,Bb.jsx)("input",{type:"password",id:"confirmPassword",value:o,onChange:e=>l(e.target.value),required:!0})]}),(0,Bb.jsx)("button",{type:"submit",className:"btn-primary",disabled:d,children:d?"Creating Account...":"Sign Up"})]}),(0,Bb.jsx)("div",{className:"form-footer",children:(0,Bb.jsxs)("p",{children:["Already have an account? ",(0,Bb.jsx)(Ie,{to:"/login",children:"Log In"})]})})]})})},ew=()=>(0,Bb.jsx)("div",{className:"page-container",children:(0,Bb.jsx)(Zb,{})}),tw=e=>{let{travelPackage:t}=e;if(!t)return null;const{id:n="",title:r="Unnamed Package",description:i="",price:s=0,duration:a=0,region:o="",imageUrl:l="/assets/images/package-placeholder.jpg"}=t;return(0,Bb.jsxs)("div",{className:"package-card",children:[(0,Bb.jsx)("div",{className:"package-image",children:(0,Bb.jsx)("img",{src:l,alt:r})}),(0,Bb.jsxs)("div",{className:"package-content",children:[(0,Bb.jsx)("h3",{children:r}),(0,Bb.jsx)("p",{className:"package-location",children:o}),(0,Bb.jsxs)("p",{className:"package-duration",children:[a," days"]}),(0,Bb.jsx)("p",{className:"package-description",children:i.length>100?i.substring(0,100)+"...":i}),(0,Bb.jsxs)("div",{className:"package-footer",children:[(0,Bb.jsxs)("span",{className:"package-price",children:["$",s]}),(0,Bb.jsx)(Ie,{to:`/packages/${n}`,className:"btn-view",children:"View Details"})]})]})]})},nw=async()=>{try{const e=dv(Ub,"packages");return(await fy(e)).docs.map((e=>({id:e.id,...e.data()})))}catch(e){throw e}},rw=async e=>{try{const t=await dy(hv(Ub,"packages",e));if(t.exists())return{id:t.id,...t.data()};throw new Error("Package not found")}catch(t){throw t}},iw=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!0),[s,a]=(0,i.useState)(""),[o,l]=(0,i.useState)({region:"",budget:"",duration:""});(0,i.useEffect)((()=>{(async()=>{try{r(!0);const e=await nw();t(e),a("")}catch(s){a("Failed to fetch packages: "+s.message)}finally{r(!1)}})()}),[]);const c=e=>{const{name:t,value:n}=e.target;l({...o,[t]:n})};return(0,Bb.jsxs)("div",{className:"package-list-container",children:[(0,Bb.jsx)("h2",{children:"Explore Travel Packages"}),(0,Bb.jsxs)("div",{className:"filter-container",children:[(0,Bb.jsxs)("div",{className:"filter-group",children:[(0,Bb.jsx)("label",{htmlFor:"region",children:"Destination"}),(0,Bb.jsxs)("select",{id:"region",name:"region",value:o.region,onChange:c,children:[(0,Bb.jsx)("option",{value:"",children:"All Destinations"}),(0,Bb.jsx)("option",{value:"Europe",children:"Europe"}),(0,Bb.jsx)("option",{value:"Asia",children:"Asia"}),(0,Bb.jsx)("option",{value:"Africa",children:"Africa"}),(0,Bb.jsx)("option",{value:"North America",children:"North America"}),(0,Bb.jsx)("option",{value:"South America",children:"South America"}),(0,Bb.jsx)("option",{value:"Australia",children:"Australia"})]})]}),(0,Bb.jsxs)("div",{className:"filter-group",children:[(0,Bb.jsx)("label",{htmlFor:"budget",children:"Max Budget"}),(0,Bb.jsx)("input",{type:"number",id:"budget",name:"budget",value:o.budget,onChange:c,placeholder:"Budget in $"})]}),(0,Bb.jsxs)("div",{className:"filter-group",children:[(0,Bb.jsx)("label",{htmlFor:"duration",children:"Max Duration (days)"}),(0,Bb.jsx)("input",{type:"number",id:"duration",name:"duration",value:o.duration,onChange:c,placeholder:"Days"})]}),(0,Bb.jsxs)("div",{className:"filter-buttons",children:[(0,Bb.jsx)("button",{onClick:async()=>{try{r(!0);const e=await(async e=>{try{const{region:t,budget:n,duration:r}=e;let i=dv(Ub,"packages");return t&&(i=Qv(i,Xv("region","==",t))),n&&(i=Qv(i,Xv("price","<=",n))),r&&(i=Qv(i,Xv("duration","<=",r))),(await fy(i)).docs.map((e=>({id:e.id,...e.data()})))}catch(s){throw s}})({region:o.region||null,budget:o.budget?parseFloat(o.budget):null,duration:o.duration?parseInt(o.duration):null});t(e),a("")}catch(s){a("Failed to filter packages: "+s.message)}finally{r(!1)}},className:"btn-filter",children:"Filter"}),(0,Bb.jsx)("button",{onClick:async()=>{l({region:"",budget:"",duration:""});try{r(!0);const e=await nw();t(e),a("")}catch(s){a("Failed to fetch packages: "+s.message)}finally{r(!1)}},className:"btn-reset",children:"Reset"})]})]}),s&&(0,Bb.jsx)("div",{className:"error-message",children:s}),n?(0,Bb.jsx)("div",{className:"loading",children:"Loading packages..."}):(0,Bb.jsxs)("div",{className:"packages-grid",children:[e.length>0?e.map((e=>(0,Bb.jsx)(tw,{travelPackage:e},e.id))):(0,Bb.jsx)("div",{className:"no-packages",children:"No packages found. Try adjusting your filters."}),(0,Bb.jsxs)("div",{className:"custom-package-banner",children:[(0,Bb.jsx)("h3",{children:"Not seeing what you've been looking for?"}),(0,Bb.jsx)("p",{children:"Let us help create a package just for you!"}),(0,Bb.jsx)(Ie,{to:"/custom-package",className:"btn-primary",children:"Create Custom Package"})]})]})]})},sw=()=>(0,Bb.jsx)("div",{className:"page-container",children:(0,Bb.jsx)(iw,{})}),aw=()=>{const{packageId:e}=re(),[t,n]=(0,i.useState)(null),[r,s]=(0,i.useState)(!0),[a,o]=(0,i.useState)(""),{currentUser:l}=qb(),c=ne();(0,i.useEffect)((()=>{(async()=>{try{s(!0);const t=await rw(e);n(t),o("")}catch(a){o("Failed to fetch package details: "+a.message)}finally{s(!1)}})()}),[e]);if(r)return(0,Bb.jsx)("div",{className:"loading",children:"Loading package details..."});if(a)return(0,Bb.jsx)("div",{className:"error-message",children:a});if(!t)return(0,Bb.jsx)("div",{className:"not-found",children:"Package not found"});const{title:u,description:d,price:h,duration:f,region:p,imageUrl:m,itinerary:g,included:v,excluded:y}=t;return(0,Bb.jsxs)("div",{className:"package-detail-container",children:[(0,Bb.jsxs)("div",{className:"package-header",children:[(0,Bb.jsx)("h1",{children:u}),(0,Bb.jsxs)("div",{className:"package-meta",children:[(0,Bb.jsx)("span",{className:"location",children:p}),(0,Bb.jsxs)("span",{className:"duration",children:[f," days"]}),(0,Bb.jsxs)("span",{className:"price",children:["$",h," per person"]})]})]}),(0,Bb.jsx)("div",{className:"package-gallery",children:(0,Bb.jsx)("img",{src:m||"/assets/images/package-placeholder.jpg",alt:u,className:"main-image"})}),(0,Bb.jsxs)("div",{className:"package-content",children:[(0,Bb.jsxs)("div",{className:"package-description",children:[(0,Bb.jsx)("h2",{children:"About This Package"}),(0,Bb.jsx)("p",{children:d})]}),(0,Bb.jsxs)("div",{className:"package-itinerary",children:[(0,Bb.jsx)("h2",{children:"Itinerary"}),(0,Bb.jsx)("div",{className:"itinerary-days",children:g&&g.map(((e,t)=>(0,Bb.jsxs)("div",{className:"itinerary-day",children:[(0,Bb.jsxs)("h3",{children:["Day ",t+1]}),(0,Bb.jsx)("p",{children:e})]},t)))})]}),(0,Bb.jsxs)("div",{className:"package-inclusions",children:[(0,Bb.jsxs)("div",{className:"included",children:[(0,Bb.jsx)("h2",{children:"What's Included"}),(0,Bb.jsx)("ul",{children:v&&v.map(((e,t)=>(0,Bb.jsx)("li",{children:e},t)))})]}),(0,Bb.jsxs)("div",{className:"excluded",children:[(0,Bb.jsx)("h2",{children:"What's Not Included"}),(0,Bb.jsx)("ul",{children:y&&y.map(((e,t)=>(0,Bb.jsx)("li",{children:e},t)))})]})]})]}),(0,Bb.jsxs)("div",{className:"booking-section",children:[(0,Bb.jsxs)("div",{className:"price-summary",children:[(0,Bb.jsx)("h3",{children:"Price Summary"}),(0,Bb.jsxs)("div",{className:"price-row",children:[(0,Bb.jsx)("span",{children:"Base Price"}),(0,Bb.jsxs)("span",{children:["$",h," per person"]})]}),(0,Bb.jsxs)("div",{className:"price-total",children:[(0,Bb.jsx)("span",{children:"Total"}),(0,Bb.jsxs)("span",{children:["$",h]})]})]}),(0,Bb.jsx)("button",{onClick:()=>{l?c(`/booking/${e}`):c("/login",{state:{from:`/packages/${e}`}})},className:"btn-book-now",children:"Book Now"})]})]})},ow=()=>(0,Bb.jsx)("div",{className:"page-container",children:(0,Bb.jsx)(aw,{})}),lw=async e=>{try{console.log("Service: Fetching booking document:",e);const t=await dy(hv(Ub,"bookings",e));if(console.log("Service: Document exists?",t.exists()),t.exists()){const e={id:t.id,...t.data()};return console.log("Service: Retrieved booking data:",e),e}throw console.error("Service: Booking document not found"),new Error("Booking not found")}catch(t){throw console.error("Service: Error getting booking:",t),t}},cw=()=>{const{packageId:e}=re(),{currentUser:t,userProfile:n}=qb(),r=ne(),[s,a]=(0,i.useState)(null),[o,l]=(0,i.useState)(1),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(""),[f,p]=(0,i.useState)(!0),[m,g]=(0,i.useState)(!1),[v,y]=(0,i.useState)("");(0,i.useEffect)((()=>{if(!t)return void r("/login");(async()=>{try{console.log("Fetching package with ID:",e);const t=await rw(e);console.log("Package data received:",t),a(t);const n=new Date;n.setDate(n.getDate()+30),u(n.toISOString().split("T")[0])}catch(v){console.error("Error fetching package:",v),y("Failed to fetch package: "+v.message)}finally{p(!1)}})()}),[e,t,r]);const b=()=>s?s.price*o:0;return f?(0,Bb.jsx)("div",{className:"loading",children:"Loading booking form..."}):s?(0,Bb.jsxs)("div",{className:"booking-form-container",children:[(0,Bb.jsx)("h2",{children:"Book Your Trip"}),(0,Bb.jsxs)("div",{className:"booking-package-summary",children:[(0,Bb.jsx)("h3",{children:s.title}),(0,Bb.jsxs)("p",{children:["Destination: ",s.region]}),(0,Bb.jsxs)("p",{children:["Duration: ",s.duration," days"]}),(0,Bb.jsxs)("p",{children:["Price: $",s.price," per person"]})]}),v&&(0,Bb.jsx)("div",{className:"error-message",children:v}),(0,Bb.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),s&&c)try{g(!0),y("");const r={packageId:e,packageTitle:s.title,packagePrice:s.price,travelers:o,totalPrice:b(),startDate:c,specialRequests:d,userId:t.uid,userName:n.name,userEmail:t.email,status:"pending",paymentStatus:"pending"};console.log("Creating booking with email:",t.email),console.log("Creating booking with data:",r);const i=await(async e=>{try{console.log("Creating booking...");const t={...e,status:"pending",createdAt:new Date,testField:"This is a test booking"},n=dv(Ub,"bookings"),r=await vy(n,t);return console.log("Booking created with ID:",r.id),r.id}catch(v){throw console.error("Error creating booking:",v),alert("Error creating booking: "+v.message),v}})(r);console.log("Booking created with ID:",i),localStorage.setItem("lastBookingId",i),alert(`Booking created! ID: ${i}`),window.location.href=`/payment/${i}`}catch(v){console.error("Error in handleSubmit:",v),y("Failed to create booking: "+v.message)}finally{g(!1)}else y("Please fill all required fields")},className:"booking-form",children:[(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"travelers",children:"Number of Travelers"}),(0,Bb.jsx)("input",{type:"number",id:"travelers",min:"1",max:"10",value:o,onChange:e=>l(parseInt(e.target.value)),required:!0})]}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"startDate",children:"Start Date"}),(0,Bb.jsx)("input",{type:"date",id:"startDate",value:c,onChange:e=>u(e.target.value),min:(new Date).toISOString().split("T")[0],required:!0})]}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"specialRequests",children:"Special Requests (Optional)"}),(0,Bb.jsx)("textarea",{id:"specialRequests",value:d,onChange:e=>h(e.target.value),rows:"4"})]}),(0,Bb.jsxs)("div",{className:"booking-summary",children:[(0,Bb.jsx)("h3",{children:"Booking Summary"}),(0,Bb.jsxs)("div",{className:"summary-row",children:[(0,Bb.jsx)("span",{children:"Package Price"}),(0,Bb.jsxs)("span",{children:["$",s.price," \xd7 ",o," traveler(s)"]})]}),(0,Bb.jsxs)("div",{className:"summary-total",children:[(0,Bb.jsx)("span",{children:"Total"}),(0,Bb.jsxs)("span",{children:["$",b()]})]})]}),(0,Bb.jsx)("div",{className:"custom-package-note",children:(0,Bb.jsxs)("p",{children:["Looking for more customization options? ",(0,Bb.jsx)("a",{href:"/custom-package",children:"Create a custom travel package"})," instead."]})}),(0,Bb.jsx)("button",{type:"submit",className:"btn-continue",disabled:m,children:m?"Processing...":"Continue to Payment"})]})]}):(0,Bb.jsx)("div",{className:"error-message",children:"Package not found"})},uw=()=>(0,Bb.jsx)("div",{className:"page-container",children:(0,Bb.jsx)(cw,{})});class dw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Network Error";this.status=e,this.text=t}}const hw={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:(()=>{if("undefined"!==typeof localStorage)return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}})()},fw=e=>e?"string"===typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{},pw=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=await fetch(hw.origin+e,{method:"POST",headers:n,body:t}),i=await r.text(),s=new dw(r.status,i);if(r.ok)return s;throw s},mw=(e,t,n)=>{if(!e||"string"!==typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!==typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||"string"!==typeof n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},gw=e=>e.webdriver||!e.languages||0===e.languages.length,vw=()=>new dw(451,"Unavailable For Headless Browser"),yw=(e,t)=>{if((e=>!e.list?.length||!e.watchVariable)(e))return!1;((e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!==typeof t)throw"The BlockList watchVariable has to be a string"})(e.list,e.watchVariable);const n=((e,t)=>e instanceof FormData?e.get(t):e[t])(t,e.watchVariable);return"string"===typeof n&&e.list.includes(n)},bw=()=>new dw(403,"Forbidden"),ww=async(e,t,n)=>{if(!t.throttle||!n)return!1;((e,t)=>{if("number"!==typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!==typeof t)throw"The LimitRate ID has to be a non-empty string"})(t.throttle,t.id);const r=t.id||e,i=await(async(e,t,n)=>{const r=Number(await n.get(e)||0);return t-Date.now()+r})(r,t.throttle,n);return i>0||(await n.set(r,Date.now().toString()),!1)},xw=()=>new dw(429,"Too Many Requests"),kw=async(e,t,n,r)=>{const i=fw(r),s=i.publicKey||hw.publicKey,a=i.blockHeadless||hw.blockHeadless,o=i.storageProvider||hw.storageProvider,l={...hw.blockList,...i.blockList},c={...hw.limitRate,...i.limitRate};if(a&&gw(navigator))return Promise.reject(vw());if(mw(s,e,t),(e=>{if(e&&"[object Object]"!==e.toString())throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"})(n),n&&yw(l,n))return Promise.reject(bw());if(await ww(location.pathname,c,o))return Promise.reject(xw());const u={lib_version:"4.4.1",user_id:s,service_id:e,template_id:t,template_params:n};return pw("/api/v1.0/email/send",JSON.stringify(u),{"Content-type":"application/json"})};(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://api.emailjs.com";if(!e)return;const n=fw(e);hw.publicKey=n.publicKey,hw.blockHeadless=n.blockHeadless,hw.storageProvider=n.storageProvider,hw.blockList=n.blockList,hw.limitRate=n.limitRate,hw.origin=n.origin||t})("66XU7wP3JCGlL3Pqw");const Nw=async e=>{try{const t={booking_id:e.id||"",package_title:e.packageTitle||"",start_date:e.startDate?new Date(e.startDate).toLocaleDateString():"",travelers:e.travelers||"",total_price:e.totalPrice||""};console.log("Email Template Params:",t);const n=await kw("service_w0fs8q5","template_babx52t",t);return console.log("EmailJs response:",n),{success:!0}}catch(t){return console.error("EmailJs error:",t),{success:!1,error:t}}},Ew=()=>{const{bookingId:e}=re(),{currentUser:t}=qb(),n=ne(),[r,s]=(0,i.useState)(null),[a,o]=(0,i.useState)(""),[l,c]=(0,i.useState)(""),[u,d]=(0,i.useState)(""),[h,f]=(0,i.useState)(""),[p,m]=(0,i.useState)(!0),[g,v]=(0,i.useState)(!1),[y,b]=(0,i.useState)("");(0,i.useEffect)((()=>{if(!t)return void n("/login");(async()=>{try{const n=e||localStorage.getItem("lastBookingId");if(console.log("Attempting to fetch booking with ID:",n),!n)return b("No booking ID found. Please try creating a booking again."),void m(!1);const r=await lw(e);if(console.log("Retrieved booking data:",r),console.log("User email from booking:",r.userEmail),r.userId!==t.uid)return console.error("Unauthorized: Booking belongs to user",r.userId),void b("Unauthorized access to this booking");s(r)}catch(y){console.error("Detailed error:",y),b("Failed to fetch booking: "+y.message)}finally{m(!1)}})()}),[e,t,n]);return p?(0,Bb.jsx)("div",{className:"loading",children:"Loading payment information..."}):y&&!r?(0,Bb.jsxs)("div",{className:"payment-form-container",children:[(0,Bb.jsx)("div",{className:"error-message",children:y}),(0,Bb.jsxs)("div",{className:"manual-booking-entry",children:[(0,Bb.jsx)("h3",{children:"Enter Booking ID Manually"}),(0,Bb.jsx)("p",{children:"If you know your booking ID, you can enter it below:"}),(0,Bb.jsx)("input",{type:"text",placeholder:"Enter booking ID",onChange:e=>{localStorage.setItem("lastBookingId",e.target.value)}}),(0,Bb.jsx)("button",{onClick:()=>{const e=localStorage.getItem("lastBookingId");e&&(window.location.href=`/payment/${e}`)},children:"Load Booking"})]})]}):r?(0,Bb.jsxs)("div",{className:"payment-form-container",children:[(0,Bb.jsx)("h2",{children:"Payment Information"}),(0,Bb.jsxs)("div",{className:"booking-summary",children:[(0,Bb.jsx)("h3",{children:"Booking Summary"}),(0,Bb.jsxs)("p",{children:[(0,Bb.jsx)("strong",{children:"Booking ID:"})," ",r.id]}),(0,Bb.jsxs)("p",{children:[(0,Bb.jsx)("strong",{children:"Package:"})," ",r.packageTitle]}),(0,Bb.jsxs)("p",{children:[(0,Bb.jsx)("strong",{children:"Start Date:"})," ",new Date(r.startDate).toLocaleDateString()]}),(0,Bb.jsxs)("p",{children:[(0,Bb.jsx)("strong",{children:"Travelers:"})," ",r.travelers]}),(0,Bb.jsxs)("p",{children:[(0,Bb.jsx)("strong",{children:"Total Amount:"})," $",r.totalPrice]})]}),y&&(0,Bb.jsx)("div",{className:"error-message",children:y}),(0,Bb.jsxs)("form",{onSubmit:async t=>{t.preventDefault();const i=(null===r||void 0===r?void 0:r.id)||e||localStorage.getItem("lastBookingId");if(i)if(a&&l&&u&&h)if(16===l.replace(/\s/g,"").length)try{v(!0),b(""),console.log("Processing payment for booking:",i);const e={cardName:a,cardLast4:l.slice(-4),paymentDate:(new Date).toISOString()};await(async(e,t)=>{try{console.log("Service: Processing payment for booking:",e);const n=hv(Ub,"bookings",e);return await my(n,{paymentStatus:"paid",paymentDetails:t,status:"confirmed",updatedAt:new Date}),console.log("Service: Payment processed and booking updated"),!0}catch(y){throw console.error("Service: Error processing payment:",y),y}})(i,e),console.log("Payment processed successfully");localStorage.setItem("lastBookingId",i),n(`/confirmation/${i}`)}catch(y){console.error("Payment processing error:",y),b("Payment processing failed: "+y.message)}finally{v(!1)}else b("Invalid card number. Please enter a 16-digit card number.");else b("Please fill all payment fields");else b("Booking information not available")},className:"payment-form",children:[(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"cardName",children:"Cardholder Name"}),(0,Bb.jsx)("input",{type:"text",id:"cardName",value:a,onChange:e=>o(e.target.value),placeholder:"Name on card",required:!0})]}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"cardNumber",children:"Card Number"}),(0,Bb.jsx)("input",{type:"text",id:"cardNumber",value:l,onChange:e=>c(e.target.value.replace(/\D/g,"").slice(0,16)),placeholder:"1234 5678 9012 3456",required:!0})]}),(0,Bb.jsxs)("div",{className:"form-row",children:[(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"expiryDate",children:"Expiry Date"}),(0,Bb.jsx)("input",{type:"text",id:"expiryDate",value:u,onChange:e=>d(e.target.value),placeholder:"MM/YY",required:!0})]}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"cvv",children:"CVV"}),(0,Bb.jsx)("input",{type:"text",id:"cvv",value:h,onChange:e=>f(e.target.value.replace(/\D/g,"").slice(0,3)),placeholder:"123",required:!0})]})]}),(0,Bb.jsxs)("div",{className:"total-payment",children:[(0,Bb.jsx)("span",{children:"Total Payment"}),(0,Bb.jsxs)("span",{children:["$",r.totalPrice]})]}),(0,Bb.jsx)("div",{className:"payment-note",children:(0,Bb.jsx)("p",{children:(0,Bb.jsx)("small",{children:"Note: This is a demo application. No actual payment will be processed and no real card information should be entered."})})}),(0,Bb.jsx)("button",{type:"submit",className:"btn-pay-now",disabled:g,children:g?"Processing Payment...":"Complete Payment"})]})]}):(0,Bb.jsx)("div",{className:"error-message",children:"Booking not found"})},_w=()=>(0,Bb.jsx)("div",{className:"page-container",children:(0,Bb.jsx)(Ew,{})}),Sw=()=>{const{bookingId:e}=re(),{currentUser:t}=qb(),[n,r]=(0,i.useState)(null),[s,a]=(0,i.useState)(!0),[o,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{(async()=>{try{const n=await lw(e);if(console.log("Complete booking data:",JSON.stringify(n,null,2)),n.userId!==t.uid)return void l("Unauthorized access to this booking");if(r(n),n&&!n.confirmationEmailSent){(await Nw(n)).success&&u(!0)}else u(!0)}catch(o){console.error("Error details:",o),l("Failed to fetch booking confirmation: "+o.message)}finally{a(!1)}})()}),[e,t]),(0,i.useEffect)((()=>{(async()=>{try{const n=e||localStorage.getItem("lastBookingId");if(console.log("Fetching confirmation for booking ID:",n),!n)return l("No booking ID found. Please try creating a booking again."),void a(!1);const i=await lw(n);if(console.log("Confirmation data received:",i),i.userId!==t.uid)return console.error("Unauthorized: Booking belongs to user",i.userId),void l("Unauthorized access to this booking");r(i)}catch(o){console.error("Confirmation error details:",o),l("Failed to fetch booking confirmation: "+o.message)}finally{a(!1)}})()}),[e,t]),s?(0,Bb.jsx)("div",{className:"loading",children:"Loading confirmation details..."}):o?(0,Bb.jsx)("div",{className:"error-message",children:o}):n?(0,Bb.jsxs)("div",{className:"confirmation-container",children:[(0,Bb.jsxs)("div",{className:"confirmation-header",children:[(0,Bb.jsx)("div",{className:"confirmation-icon",children:(0,Bb.jsx)("span",{role:"img","aria-label":"success",children:"\u2705"})}),(0,Bb.jsx)("h2",{children:"Booking Confirmed!"}),(0,Bb.jsx)("p",{children:"Thank you for booking with Travenest. Your reservation is confirmed."})]}),(0,Bb.jsxs)("div",{className:"confirmation-details",children:[(0,Bb.jsxs)("div",{className:"confirmation-number",children:[(0,Bb.jsx)("h3",{children:"Booking Reference"}),(0,Bb.jsx)("p",{children:n.id})]}),(0,Bb.jsxs)("div",{className:"confirmation-info",children:[(0,Bb.jsx)("h3",{children:"Booking Details"}),(0,Bb.jsxs)("div",{className:"detail-item",children:[(0,Bb.jsx)("span",{children:"Package:"}),(0,Bb.jsx)("span",{children:n.packageTitle})]}),(0,Bb.jsxs)("div",{className:"detail-item",children:[(0,Bb.jsx)("span",{children:"Start Date:"}),(0,Bb.jsx)("span",{children:new Date(n.startDate).toLocaleDateString()})]}),(0,Bb.jsxs)("div",{className:"detail-item",children:[(0,Bb.jsx)("span",{children:"Number of Travelers:"}),(0,Bb.jsx)("span",{children:n.travelers})]}),(0,Bb.jsxs)("div",{className:"detail-item",children:[(0,Bb.jsx)("span",{children:"Total Amount:"}),(0,Bb.jsxs)("span",{children:["$",n.totalPrice]})]}),(0,Bb.jsxs)("div",{className:"detail-item",children:[(0,Bb.jsx)("span",{children:"Payment Status:"}),(0,Bb.jsx)("span",{className:"status paid",children:"Paid"})]})]}),(0,Bb.jsxs)("div",{className:"confirmation-customer",children:[(0,Bb.jsx)("h3",{children:"Customer Information"}),(0,Bb.jsxs)("div",{className:"detail-item",children:[(0,Bb.jsx)("span",{children:"Name:"}),(0,Bb.jsx)("span",{children:n.userName})]}),(0,Bb.jsxs)("div",{className:"detail-item",children:[(0,Bb.jsx)("span",{children:"Email:"}),(0,Bb.jsx)("span",{children:n.userEmail})]})]}),n.specialRequests&&(0,Bb.jsxs)("div",{className:"confirmation-requests",children:[(0,Bb.jsx)("h3",{children:"Special Requests"}),(0,Bb.jsx)("p",{children:n.specialRequests})]})]}),(0,Bb.jsx)("div",{className:"confirmation-message",children:(0,Bb.jsxs)("p",{children:["We have sent a confirmation email to ",n.userEmail," with all the details of your booking. If you have any questions, please contact our customer support."]})}),(0,Bb.jsxs)("div",{className:"confirmation-actions",children:[(0,Bb.jsx)(Ie,{to:"/dashboard",className:"btn-primary",children:"Go to My Bookings"}),(0,Bb.jsx)(Ie,{to:"/packages",className:"btn-secondary",children:"Browse More Packages"}),(0,Bb.jsx)("button",{onClick:()=>{Nw({}).then((e=>{console.log("Email test result:",e)}))},className:"btn-secondary",style:{marginTop:"10px"},children:"Send Test Email"})]})]}):(0,Bb.jsx)("div",{className:"error-message",children:"Booking not found"})},jw=()=>(0,Bb.jsx)("div",{className:"page-container",children:(0,Bb.jsx)(Sw,{})}),Cw=e=>{let{bookings:t}=e;const n=[...t].sort(((e,t)=>new Date(t.createdAt)-new Date(e.createdAt))),r=e=>{switch(e){case"confirmed":return"status-confirmed";case"pending":return"status-pending";case"cancelled":return"status-cancelled";case"completed":return"status-completed";default:return""}};return(0,Bb.jsxs)("div",{className:"booking-history",children:[(0,Bb.jsx)("h2",{children:"My Bookings"}),(0,Bb.jsx)("div",{className:"booking-list",children:n.map((e=>(0,Bb.jsxs)("div",{className:"booking-card",children:[(0,Bb.jsxs)("div",{className:"booking-header",children:[(0,Bb.jsx)("h3",{children:e.packageTitle}),(0,Bb.jsx)("span",{className:`booking-status ${r(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),(0,Bb.jsxs)("div",{className:"booking-details",children:[(0,Bb.jsxs)("div",{className:"detail-row",children:[(0,Bb.jsx)("span",{children:"Booking Reference:"}),(0,Bb.jsx)("span",{children:e.id})]}),(0,Bb.jsxs)("div",{className:"detail-row",children:[(0,Bb.jsx)("span",{children:"Start Date:"}),(0,Bb.jsx)("span",{children:new Date(e.startDate).toLocaleDateString()})]}),(0,Bb.jsxs)("div",{className:"detail-row",children:[(0,Bb.jsx)("span",{children:"Travelers:"}),(0,Bb.jsx)("span",{children:e.travelers})]}),(0,Bb.jsxs)("div",{className:"detail-row",children:[(0,Bb.jsx)("span",{children:"Total:"}),(0,Bb.jsxs)("span",{children:["$",e.totalPrice]})]}),(0,Bb.jsxs)("div",{className:"detail-row",children:[(0,Bb.jsx)("span",{children:"Payment:"}),(0,Bb.jsx)("span",{className:"paid"===e.paymentStatus?"status-paid":"status-pending",children:e.paymentStatus.charAt(0).toUpperCase()+e.paymentStatus.slice(1)})]})]}),(0,Bb.jsxs)("div",{className:"booking-actions",children:[(0,Bb.jsx)(Ie,{to:`/confirmation/${e.id}`,className:"btn-view-details",children:"View Details"}),(0,Bb.jsx)(Ie,{to:`/payment/${e.id}`,className:"btn-view-details",children:"Process Payment \xa0           \xa0"}),"pending"===e.status&&(0,Bb.jsx)("button",{className:"btn-cancel",children:"Cancel Booking"})]})]},e.id)))})]})},Tw=()=>{const{currentUser:e,userProfile:t}=qb(),[n,r]=(0,i.useState)(""),[s,a]=(0,i.useState)(""),[o,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(""),[f,p]=(0,i.useState)(!1);(0,i.useEffect)((()=>{t&&(r(t.name||""),a(t.phone||""),l(t.address||""))}),[t]);return(0,Bb.jsx)("div",{className:"profile-container",children:(0,Bb.jsxs)("div",{className:"profile-form",children:[(0,Bb.jsx)("h2",{children:"Your Profile"}),c&&(0,Bb.jsx)("div",{className:"error-message",children:c}),d&&(0,Bb.jsx)("div",{className:"success-message",children:d}),(0,Bb.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{u(""),h(""),p(!0),await(async(e,t)=>{try{const n=hv(Ub,"users",e);return await my(n,{...t,updatedAt:new Date}),!0}catch(c){throw c}})(e.uid,{name:n,phone:s,address:o}),h("Profile updated successfully")}catch(c){u("Failed to update profile: "+c.message)}finally{p(!1)}},children:[(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"email",children:"Email"}),(0,Bb.jsx)("input",{type:"email",id:"email",value:e.email,disabled:!0}),(0,Bb.jsx)("small",{children:"Email cannot be changed"})]}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"name",children:"Full Name"}),(0,Bb.jsx)("input",{type:"text",id:"name",value:n,onChange:e=>r(e.target.value),required:!0})]}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"phone",children:"Phone Number"}),(0,Bb.jsx)("input",{type:"tel",id:"phone",value:s,onChange:e=>a(e.target.value)})]}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"address",children:"Address"}),(0,Bb.jsx)("textarea",{id:"address",value:o,onChange:e=>l(e.target.value),rows:"3"})]}),(0,Bb.jsx)("button",{type:"submit",className:"btn-primary",disabled:f,children:f?"Updating...":"Update Profile"})]})]})})},Iw=()=>{const{currentUser:e,userProfile:t}=qb(),[n,r]=(0,i.useState)("bookings"),[s,a]=(0,i.useState)([]),[o,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)("");return(0,i.useEffect)((()=>{(async()=>{try{const t=await(async e=>{try{console.log("Service: Getting bookings for user:",e);const t=Qv(dv(Ub,"bookings"),Xv("userId","==",e)),n=(await fy(t)).docs.map((e=>({id:e.id,...e.data()})));return console.log("Service: Retrieved",n.length,"bookings"),n}catch(c){throw console.error("Service: Error getting user bookings:",c),c}})(e.uid);a(t)}catch(c){u("Failed to fetch bookings: "+c.message)}finally{l(!1)}})()}),[e]),(0,Bb.jsxs)("div",{className:"dashboard-container",children:[(0,Bb.jsxs)("div",{className:"dashboard-header",children:[(0,Bb.jsx)("h1",{children:"My Dashboard"}),(0,Bb.jsxs)("p",{children:["Welcome back, ",(null===t||void 0===t?void 0:t.name)||e.email,"!"]})]}),(0,Bb.jsxs)("div",{className:"dashboard-tabs",children:[(0,Bb.jsx)("button",{className:"tab "+("bookings"===n?"active":""),onClick:()=>r("bookings"),children:"My Bookings"}),(0,Bb.jsx)("button",{className:"tab "+("profile"===n?"active":""),onClick:()=>r("profile"),children:"My Profile"})]}),(0,Bb.jsx)("div",{className:"dashboard-highlight-action",children:(0,Bb.jsxs)("div",{className:"highlight-card",children:[(0,Bb.jsx)("div",{className:"highlight-icon",children:"\u2728"}),(0,Bb.jsx)("h3",{children:"Create Your Dream Vacation"}),(0,Bb.jsx)("p",{children:"Tell us what you're looking for and we'll craft a custom travel package just for you."}),(0,Bb.jsx)(Ie,{to:"/custom-package",className:"btn-primary",children:"Custom Package Request"}),"\xa0\xa0"]})}),(0,Bb.jsxs)("div",{className:"dashboard-content",children:["bookings"===n&&(0,Bb.jsxs)(Bb.Fragment,{children:[c&&(0,Bb.jsx)("div",{className:"error-message",children:c}),o?(0,Bb.jsx)("div",{className:"loading",children:"Loading your bookings..."}):(0,Bb.jsx)(Bb.Fragment,{children:s.length>0?(0,Bb.jsx)(Cw,{bookings:s}):(0,Bb.jsxs)("div",{className:"no-bookings",children:[(0,Bb.jsx)("p",{children:"You haven't made any bookings yet."}),(0,Bb.jsx)(Ie,{to:"/packages",className:"btn-browse",children:"Browse Travel Packages"})]})})]}),"profile"===n&&(0,Bb.jsx)(Tw,{})]})]})},Aw=()=>{const{currentUser:e,loading:t}=qb();return t?(0,Bb.jsx)("div",{className:"loading",children:"Loading..."}):e?(0,Bb.jsx)("div",{className:"page-container",children:(0,Bb.jsx)(Iw,{})}):(0,Bb.jsx)(ye,{to:"/login"})},Pw=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!0),[s,a]=(0,i.useState)("");(0,i.useEffect)((()=>{(async()=>{try{r(!0);const e=await(async()=>{try{const e=dv(Ub,"users");return(await fy(e)).docs.map((e=>({id:e.id,...e.data()})))}catch(s){throw s}})();t(e)}catch(s){a("Failed to fetch users: "+s.message)}finally{r(!1)}})()}),[]);const o=async(n,r)=>{try{await(async(e,t)=>{try{const n=hv(Ub,"users",e);return await my(n,{role:t,updatedAt:new Date}),!0}catch(s){throw s}})(n,r),t(e.map((e=>e.id===n?{...e,role:r}:e))),a("")}catch(s){a("Failed to update user role: "+s.message)}},l=async n=>{if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{await(async e=>{try{return await gy(hv(Ub,"users",e)),!0}catch(s){throw s}})(n),t(e.filter((e=>e.id!==n))),a("")}catch(s){a("Failed to delete user: "+s.message)}};return n?(0,Bb.jsx)("div",{className:"loading",children:"Loading users..."}):(0,Bb.jsxs)("div",{className:"user-management",children:[(0,Bb.jsx)("h2",{children:"User Management"}),s&&(0,Bb.jsx)("div",{className:"error-message",children:s}),(0,Bb.jsxs)("div",{className:"user-table-container",children:[(0,Bb.jsxs)("table",{className:"user-table",children:[(0,Bb.jsx)("thead",{children:(0,Bb.jsxs)("tr",{children:[(0,Bb.jsx)("th",{children:"Name"}),(0,Bb.jsx)("th",{children:"Email"}),(0,Bb.jsx)("th",{children:"Role"}),(0,Bb.jsx)("th",{children:"Created"}),(0,Bb.jsx)("th",{children:"Actions"})]})}),(0,Bb.jsx)("tbody",{children:e.map((e=>(0,Bb.jsxs)("tr",{children:[(0,Bb.jsx)("td",{children:e.name}),(0,Bb.jsx)("td",{children:e.email}),(0,Bb.jsx)("td",{children:(0,Bb.jsxs)("select",{value:e.role,onChange:t=>o(e.id,t.target.value),children:[(0,Bb.jsx)("option",{value:"user",children:"User"}),(0,Bb.jsx)("option",{value:"admin",children:"Admin"})]})}),(0,Bb.jsx)("td",{children:new Date(1e3*e.createdAt.seconds).toLocaleDateString()}),(0,Bb.jsx)("td",{children:(0,Bb.jsx)("button",{onClick:()=>l(e.id),className:"btn-delete",children:"Delete"})})]},e.id)))})]}),0===e.length&&(0,Bb.jsx)("div",{className:"no-users",children:"No users found"})]})]})},Rw=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!0),[s,a]=(0,i.useState)(""),[o,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)({title:"",description:"",price:"",duration:"",region:"",imageUrl:"",itinerary:[""],included:[""],excluded:[""]});(0,i.useEffect)((()=>{(async()=>{try{r(!0);const e=await nw();t(e)}catch(s){a("Failed to fetch packages: "+s.message)}finally{r(!1)}})()}),[]);const f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(u(e),h({title:e.title||"",description:e.description||"",price:e.price||"",duration:e.duration||"",region:e.region||"",imageUrl:e.imageUrl||"",itinerary:e.itinerary||[""],included:e.included||[""],excluded:e.excluded||[""]})):(u(null),h({title:"",description:"",price:"",duration:"",region:"",imageUrl:"",itinerary:[""],included:[""],excluded:[""]})),l(!0)},p=()=>{l(!1),u(null)},m=e=>{const{name:t,value:n}=e.target;h({...d,[t]:"price"===t||"duration"===t?parseFloat(n):n})},g=(e,t,n)=>{const r=e.target.value,i=[...d[n]];i[t]=r,h({...d,[n]:i})},v=e=>{h({...d,[e]:[...d[e],""]})},y=(e,t)=>{const n=[...d[t]];n.splice(e,1),h({...d,[t]:n})},b=async n=>{if(window.confirm("Are you sure you want to delete this package? This action cannot be undone."))try{await(async e=>{try{return await gy(hv(Ub,"packages",e)),!0}catch(s){throw s}})(n),t(e.filter((e=>e.id!==n))),a("")}catch(s){a("Failed to delete package: "+s.message)}};return n?(0,Bb.jsx)("div",{className:"loading",children:"Loading packages..."}):(0,Bb.jsxs)("div",{className:"package-management",children:[(0,Bb.jsxs)("div",{className:"management-header",children:[(0,Bb.jsx)("h2",{children:"Package Management"}),(0,Bb.jsx)("button",{onClick:()=>f(),className:"btn-add",children:"Add New Package"})]}),s&&(0,Bb.jsx)("div",{className:"error-message",children:s}),(0,Bb.jsxs)("div",{className:"package-table-container",children:[(0,Bb.jsxs)("table",{className:"package-table",children:[(0,Bb.jsx)("thead",{children:(0,Bb.jsxs)("tr",{children:[(0,Bb.jsx)("th",{children:"Title"}),(0,Bb.jsx)("th",{children:"Region"}),(0,Bb.jsx)("th",{children:"Duration"}),(0,Bb.jsx)("th",{children:"Price"}),(0,Bb.jsx)("th",{children:"Actions"})]})}),(0,Bb.jsx)("tbody",{children:e.map((e=>(0,Bb.jsxs)("tr",{children:[(0,Bb.jsx)("td",{children:e.title}),(0,Bb.jsx)("td",{children:e.region}),(0,Bb.jsxs)("td",{children:[e.duration," days"]}),(0,Bb.jsxs)("td",{children:["$",e.price]}),(0,Bb.jsxs)("td",{children:[(0,Bb.jsx)("button",{onClick:()=>f(e),className:"btn-edit",children:"Edit"}),(0,Bb.jsx)("button",{onClick:()=>b(e.id),className:"btn-delete",children:"Delete"})]})]},e.id)))})]}),0===e.length&&(0,Bb.jsx)("div",{className:"no-packages",children:"No packages found"})]}),o&&(0,Bb.jsx)("div",{className:"modal-overlay",children:(0,Bb.jsxs)("div",{className:"modal-content",children:[(0,Bb.jsxs)("div",{className:"modal-header",children:[(0,Bb.jsx)("h3",{children:c?"Edit Package":"Add New Package"}),(0,Bb.jsx)("button",{onClick:p,className:"btn-close",children:"\xd7"})]}),(0,Bb.jsxs)("form",{onSubmit:async n=>{n.preventDefault();try{if(c)await(async(e,t)=>{try{const n=hv(Ub,"packages",e);return await my(n,{...t,updatedAt:new Date}),!0}catch(s){throw s}})(c.id,d),t(e.map((e=>e.id===c.id?{...e,...d}:e)));else{const n=await(async e=>{try{const t=dv(Ub,"packages");return(await vy(t,{...e,createdAt:new Date})).id}catch(s){throw s}})(d);t([...e,{id:n,...d}])}p(),a("")}catch(s){a("Failed to save package: "+s.message)}},className:"package-form",children:[(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"title",children:"Package Title"}),(0,Bb.jsx)("input",{type:"text",id:"title",name:"title",value:d.title,onChange:m,required:!0})]}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"description",children:"Description"}),(0,Bb.jsx)("textarea",{id:"description",name:"description",value:d.description,onChange:m,rows:"4",required:!0})]}),(0,Bb.jsxs)("div",{className:"form-row",children:[(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"price",children:"Price ($)"}),(0,Bb.jsx)("input",{type:"number",id:"price",name:"price",value:d.price,onChange:m,min:"0",step:"0.01",required:!0})]}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"duration",children:"Duration (days)"}),(0,Bb.jsx)("input",{type:"number",id:"duration",name:"duration",value:d.duration,onChange:m,min:"1",required:!0})]}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"region",children:"Region"}),(0,Bb.jsxs)("select",{id:"region",name:"region",value:d.region,onChange:m,required:!0,children:[(0,Bb.jsx)("option",{value:"",children:"Select Region"}),(0,Bb.jsx)("option",{value:"Europe",children:"Europe"}),(0,Bb.jsx)("option",{value:"Asia",children:"Asia"}),(0,Bb.jsx)("option",{value:"Africa",children:"Africa"}),(0,Bb.jsx)("option",{value:"North America",children:"North America"}),(0,Bb.jsx)("option",{value:"South America",children:"South America"}),(0,Bb.jsx)("option",{value:"Australia",children:"Australia"})]})]})]}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"imageUrl",children:"Image URL"}),(0,Bb.jsx)("input",{type:"url",id:"imageUrl",name:"imageUrl",value:d.imageUrl,onChange:m,placeholder:"https://example.com/image.jpg"})]}),(0,Bb.jsxs)("div",{className:"form-section",children:[(0,Bb.jsx)("label",{children:"Itinerary (Day by Day)"}),d.itinerary.map(((e,t)=>(0,Bb.jsxs)("div",{className:"array-input-row",children:[(0,Bb.jsx)("textarea",{value:e,onChange:e=>g(e,t,"itinerary"),placeholder:`Day ${t+1}`,rows:"2"}),(0,Bb.jsx)("button",{type:"button",onClick:()=>y(t,"itinerary"),className:"btn-remove",disabled:d.itinerary.length<=1,children:"Remove"})]},t))),(0,Bb.jsx)("button",{type:"button",onClick:()=>v("itinerary"),className:"btn-add-item",children:"Add Day"})]}),(0,Bb.jsxs)("div",{className:"form-row",children:[(0,Bb.jsxs)("div",{className:"form-section",children:[(0,Bb.jsx)("label",{children:"What's Included"}),d.included.map(((e,t)=>(0,Bb.jsxs)("div",{className:"array-input-row",children:[(0,Bb.jsx)("input",{type:"text",value:e,onChange:e=>g(e,t,"included"),placeholder:"E.g., Accommodation"}),(0,Bb.jsx)("button",{type:"button",onClick:()=>y(t,"included"),className:"btn-remove",disabled:d.included.length<=1,children:"Remove"})]},t))),(0,Bb.jsx)("button",{type:"button",onClick:()=>v("included"),className:"btn-add-item",children:"Add Item"})]}),(0,Bb.jsxs)("div",{className:"form-section",children:[(0,Bb.jsx)("label",{children:"What's Not Included"}),d.excluded.map(((e,t)=>(0,Bb.jsxs)("div",{className:"array-input-row",children:[(0,Bb.jsx)("input",{type:"text",value:e,onChange:e=>g(e,t,"excluded"),placeholder:"E.g., Flights"}),(0,Bb.jsx)("button",{type:"button",onClick:()=>y(t,"excluded"),className:"btn-remove",disabled:d.excluded.length<=1,children:"Remove"})]},t))),(0,Bb.jsx)("button",{type:"button",onClick:()=>v("excluded"),className:"btn-add-item",children:"Add Item"})]})]}),(0,Bb.jsxs)("div",{className:"form-actions",children:[(0,Bb.jsx)("button",{type:"button",onClick:p,className:"btn-cancel",children:"Cancel"}),(0,Bb.jsx)("button",{type:"submit",className:"btn-save",children:c?"Update Package":"Create Package"})]})]})]})})]})},Dw=()=>{const{userProfile:e,isAdmin:t}=qb(),[n,r]=(0,i.useState)("packages"),s=ne();return(0,i.useEffect)((()=>{t||s("/dashboard")}),[t,s]),t?(0,Bb.jsxs)("div",{className:"admin-dashboard-container",children:[(0,Bb.jsxs)("div",{className:"admin-dashboard-header",children:[(0,Bb.jsx)("h1",{children:"Admin Dashboard"}),(0,Bb.jsxs)("p",{children:["Welcome, ",null===e||void 0===e?void 0:e.name,"!"]})]}),(0,Bb.jsxs)("div",{className:"admin-dashboard-tabs",children:[(0,Bb.jsx)("button",{className:"tab "+("packages"===n?"active":""),onClick:()=>r("packages"),children:"Manage Packages"}),(0,Bb.jsx)("button",{className:"tab "+("users"===n?"active":""),onClick:()=>r("users"),children:"Manage Users"}),(0,Bb.jsx)("button",{className:"tab "+("bookings"===n?"active":""),onClick:()=>r("bookings"),children:"Manage Bookings"})]}),(0,Bb.jsxs)("div",{className:"admin-dashboard-content",children:["packages"===n&&(0,Bb.jsx)(Rw,{}),"users"===n&&(0,Bb.jsx)(Pw,{}),"bookings"===n&&(0,Bb.jsxs)("div",{children:[(0,Bb.jsx)("h2",{children:"Booking Management"}),(0,Bb.jsx)("p",{children:"Feature coming soon..."})]})]})]}):(0,Bb.jsx)("div",{className:"loading",children:"Checking credentials..."})},Ow=()=>{const{currentUser:e,isAdmin:t,loading:n}=qb();return n?(0,Bb.jsx)("div",{className:"loading",children:"Loading..."}):e?t?(0,Bb.jsx)("div",{className:"page-container",children:(0,Bb.jsx)(Dw,{})}):(0,Bb.jsx)(ye,{to:"/dashboard"}):(0,Bb.jsx)(ye,{to:"/login"})},Lw=()=>(0,Bb.jsx)("div",{className:"not-found-page",children:(0,Bb.jsxs)("div",{className:"not-found-content",children:[(0,Bb.jsx)("h1",{children:"404"}),(0,Bb.jsx)("h2",{children:"Page Not Found"}),(0,Bb.jsx)("p",{children:"The page you are looking for doesn't exist or has been moved."}),(0,Bb.jsx)(Ie,{to:"/",className:"btn-primary",children:"Go to Homepage"})]})}),Fw=()=>{const[e,t]=(0,i.useState)(""),n=ne();return(0,Bb.jsxs)("div",{className:"page-container",children:[(0,Bb.jsx)("h2",{children:"Payment Test Page"}),(0,Bb.jsxs)("form",{onSubmit:t=>{t.preventDefault(),e&&n(`/payment/${e}`)},children:[(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"bookingId",children:"Enter Booking ID:"}),(0,Bb.jsx)("input",{type:"text",id:"bookingId",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,Bb.jsx)("button",{type:"submit",className:"btn-primary",children:"Go to Payment Page"})]})]})},Mw=()=>{const{currentUser:e,userProfile:t,loading:n}=qb(),r=ne();(0,i.useEffect)((()=>{console.log("CustomPackageQuestionnaire - Current User",e),console.log("CustomPackageQuestionnaire - User Profile",t),console.log("CustomPackageQuestionnaire - Loading",n),n||e||(console.log("Redirecting to login from questionnaire"),r("/login",{state:{from:"/custom-package"}}))}),[e,t,n,r]);const[s,a]=(0,i.useState)({fullName:(null===t||void 0===t?void 0:t.name)||"",email:(null===e||void 0===e?void 0:e.email)||"",phone:"",numTravelers:1,travelDates:"",primaryDestination:"",secondaryDestinations:"",tripDuration:"",accommodationLevel:"",accommodationRequests:[],otherAccommodationRequests:"",diningExperiences:[],dietaryRequirements:[],otherDietaryNeeds:"",activities:[],activityLevel:"",transportationModes:[],flightClass:"",budgetPerPerson:"",budgetPriorities:{accommodation:0,dining:0,activities:0,transportation:0,shopping:0},specialOccasions:[],otherSpecialOccasion:"",specialRequests:"",addOns:[]}),[o,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(!1),f=e=>{const{name:t,value:n}=e.target;a({...s,[t]:n})},p=(e,t)=>{const{name:n,checked:r}=e.target;a(r?{...s,[t]:[...s[t],n]}:{...s,[t]:s[t].filter((e=>e!==n))})},m=e=>{const{name:t,value:n}=e.target;a({...s,budgetPriorities:{...s.budgetPriorities,[t]:parseInt(n)}})};return d?(0,Bb.jsxs)("div",{className:"success-container",children:[(0,Bb.jsx)("div",{className:"success-icon",children:"\u2713"}),(0,Bb.jsx)("h2",{children:"Thank You for Your Custom Package Request!"}),(0,Bb.jsx)("p",{children:"Your questionnaire has been submitted successfully. A Travenest travel specialist will contact you within 48 hours to discuss your custom travel package and provide pricing options based on your preferences."}),(0,Bb.jsxs)("div",{className:"success-actions",children:[(0,Bb.jsx)("button",{onClick:()=>r("/dashboard"),className:"btn-primary",children:"Go to Dashboard"}),(0,Bb.jsx)("button",{onClick:()=>r("/packages"),className:"btn-secondary",children:"Browse Packages"})]})]}):(0,Bb.jsxs)("div",{className:"questionnaire-container",children:[(0,Bb.jsx)("h1",{children:"Custom Travel Package Questionnaire"}),(0,Bb.jsx)("p",{className:"questionnaire-intro",children:"Thank you for choosing Travenest for your next adventure! To create your perfect custom travel package, please complete the following questionnaire."}),c&&(0,Bb.jsx)("div",{className:"error-message",children:c}),(0,Bb.jsxs)("form",{onSubmit:async n=>{if(n.preventDefault(),e)try{l(!0),u("");const n={...s,userId:e.uid,userName:(null===t||void 0===t?void 0:t.name)||"User",userEmail:e.email,status:"pending",createdAt:new Date},r=await vy(dv(Ub,"customPackageRequests"),n);console.log("Custom package request submitted with ID:",r.id),h(!0);const i=await sendCustomPackageRequestEmail({...s,id:r.id,email:e.email,fullName:(null===t||void 0===t?void 0:t.name)||s.fullName});i.success?console.log("Confirmation email sent successfully"):console.warn("Failed to send confirmation email",i.error),h(!0),window.scrollTo(0,0)}catch(c){console.error("Error submitting questionnaire:",c),u("Failed to submit questionnaire: "+c.message)}finally{l(!1)}else r("/login",{state:{from:"/custom-package"}})},className:"questionnaire-form",children:[(0,Bb.jsxs)("section",{className:"form-section",children:[(0,Bb.jsx)("h2",{children:"Personal Information"}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"fullName",children:"Full Name"}),(0,Bb.jsx)("input",{type:"text",id:"fullName",name:"fullName",value:s.fullName,onChange:f,required:!0})]}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,Bb.jsx)("input",{type:"email",id:"email",name:"email",value:s.email,onChange:f,required:!0})]}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"phone",children:"Phone Number"}),(0,Bb.jsx)("input",{type:"tel",id:"phone",name:"phone",value:s.phone,onChange:f,required:!0})]}),(0,Bb.jsxs)("div",{className:"form-row",children:[(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"numTravelers",children:"Number of Travelers"}),(0,Bb.jsx)("input",{type:"number",id:"numTravelers",name:"numTravelers",value:s.numTravelers,onChange:f,min:"1",required:!0})]}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"travelDates",children:"Preferred Travel Dates"}),(0,Bb.jsx)("input",{type:"text",id:"travelDates",name:"travelDates",value:s.travelDates,onChange:f,placeholder:"MM/YYYY or specific dates",required:!0})]})]})]}),(0,Bb.jsxs)("section",{className:"form-section",children:[(0,Bb.jsx)("h2",{children:"Destination Preferences"}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"primaryDestination",children:"Primary Destination"}),(0,Bb.jsx)("input",{type:"text",id:"primaryDestination",name:"primaryDestination",value:s.primaryDestination,onChange:f,required:!0})]}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"secondaryDestinations",children:"Secondary Destinations (if any)"}),(0,Bb.jsx)("input",{type:"text",id:"secondaryDestinations",name:"secondaryDestinations",value:s.secondaryDestinations,onChange:f})]}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"tripDuration",children:"Trip Duration (number of days)"}),(0,Bb.jsx)("input",{type:"number",id:"tripDuration",name:"tripDuration",value:s.tripDuration,onChange:f,min:"1",required:!0})]})]}),(0,Bb.jsxs)("section",{className:"form-section",children:[(0,Bb.jsx)("h2",{children:"Accommodation Preferences"}),(0,Bb.jsxs)("div",{className:"form-group radio-group",children:[(0,Bb.jsx)("p",{className:"label-heading",children:"Please select your preferred accommodation level:"}),(0,Bb.jsxs)("div",{className:"radio-option",children:[(0,Bb.jsx)("input",{type:"radio",id:"standard",name:"accommodationLevel",value:"Standard",checked:"Standard"===s.accommodationLevel,onChange:f}),(0,Bb.jsxs)("label",{htmlFor:"standard",children:[(0,Bb.jsx)("strong",{children:"Standard:"})," Comfortable, clean accommodations with basic amenities ($)"]})]}),(0,Bb.jsxs)("div",{className:"radio-option",children:[(0,Bb.jsx)("input",{type:"radio",id:"premium",name:"accommodationLevel",value:"Premium",checked:"Premium"===s.accommodationLevel,onChange:f}),(0,Bb.jsxs)("label",{htmlFor:"premium",children:[(0,Bb.jsx)("strong",{children:"Premium:"})," Higher quality accommodations with additional amenities and better locations ($$)"]})]}),(0,Bb.jsxs)("div",{className:"radio-option",children:[(0,Bb.jsx)("input",{type:"radio",id:"luxury",name:"accommodationLevel",value:"Luxury",checked:"Luxury"===s.accommodationLevel,onChange:f}),(0,Bb.jsxs)("label",{htmlFor:"luxury",children:[(0,Bb.jsx)("strong",{children:"Luxury:"})," High-end accommodations with premium amenities, exceptional service, and prime locations ($$$)"]})]}),(0,Bb.jsxs)("div",{className:"radio-option",children:[(0,Bb.jsx)("input",{type:"radio",id:"ultraLuxury",name:"accommodationLevel",value:"Ultra-Luxury",checked:"Ultra-Luxury"===s.accommodationLevel,onChange:f}),(0,Bb.jsxs)("label",{htmlFor:"ultraLuxury",children:[(0,Bb.jsx)("strong",{children:"Ultra-Luxury:"})," Exclusive 5-star properties, private villas, or resorts with personalized service and exceptional experiences ($$$$)"]})]})]}),(0,Bb.jsxs)("div",{className:"form-group checkbox-group",children:[(0,Bb.jsx)("p",{className:"label-heading",children:"Specific accommodation requests:"}),(0,Bb.jsxs)("div",{className:"checkbox-grid",children:[(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"oceanView",name:"Ocean/water view",checked:s.accommodationRequests.includes("Ocean/water view"),onChange:e=>p(e,"accommodationRequests")}),(0,Bb.jsx)("label",{htmlFor:"oceanView",children:"Ocean/water view"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"mountainView",name:"Mountain view",checked:s.accommodationRequests.includes("Mountain view"),onChange:e=>p(e,"accommodationRequests")}),(0,Bb.jsx)("label",{htmlFor:"mountainView",children:"Mountain view"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"cityCenter",name:"City center location",checked:s.accommodationRequests.includes("City center location"),onChange:e=>p(e,"accommodationRequests")}),(0,Bb.jsx)("label",{htmlFor:"cityCenter",children:"City center location"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"privatePool",name:"Private pool/hot tub",checked:s.accommodationRequests.includes("Private pool/hot tub"),onChange:e=>p(e,"accommodationRequests")}),(0,Bb.jsx)("label",{htmlFor:"privatePool",children:"Private pool/hot tub"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"familyFriendly",name:"Family-friendly",checked:s.accommodationRequests.includes("Family-friendly"),onChange:e=>p(e,"accommodationRequests")}),(0,Bb.jsx)("label",{htmlFor:"familyFriendly",children:"Family-friendly"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"adultOnly",name:"Adult-only",checked:s.accommodationRequests.includes("Adult-only"),onChange:e=>p(e,"accommodationRequests")}),(0,Bb.jsx)("label",{htmlFor:"adultOnly",children:"Adult-only"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"ecoFriendly",name:"Eco-friendly/Sustainable",checked:s.accommodationRequests.includes("Eco-friendly/Sustainable"),onChange:e=>p(e,"accommodationRequests")}),(0,Bb.jsx)("label",{htmlFor:"ecoFriendly",children:"Eco-friendly/Sustainable"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"historicProperty",name:"Historic property",checked:s.accommodationRequests.includes("Historic property"),onChange:e=>p(e,"accommodationRequests")}),(0,Bb.jsx)("label",{htmlFor:"historicProperty",children:"Historic property"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"boutiqueHotel",name:"Boutique hotel",checked:s.accommodationRequests.includes("Boutique hotel"),onChange:e=>p(e,"accommodationRequests")}),(0,Bb.jsx)("label",{htmlFor:"boutiqueHotel",children:"Boutique hotel"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"allInclusive",name:"All-inclusive resort",checked:s.accommodationRequests.includes("All-inclusive resort"),onChange:e=>p(e,"accommodationRequests")}),(0,Bb.jsx)("label",{htmlFor:"allInclusive",children:"All-inclusive resort"})]})]})]}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"otherAccommodationRequests",children:"Other accommodation requests"}),(0,Bb.jsx)("textarea",{id:"otherAccommodationRequests",name:"otherAccommodationRequests",value:s.otherAccommodationRequests,onChange:f,rows:"3"})]})]}),(0,Bb.jsxs)("section",{className:"form-section",children:[(0,Bb.jsx)("h2",{children:"Dining & Culinary Preferences"}),(0,Bb.jsxs)("div",{className:"form-group checkbox-group",children:[(0,Bb.jsx)("p",{className:"label-heading",children:"What types of dining experiences are you interested in?"}),(0,Bb.jsxs)("div",{className:"checkbox-grid",children:[(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"localCuisine",name:"Local authentic cuisine",checked:s.diningExperiences.includes("Local authentic cuisine"),onChange:e=>p(e,"diningExperiences")}),(0,Bb.jsx)("label",{htmlFor:"localCuisine",children:"Local authentic cuisine"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"fineDining",name:"Fine dining experiences",checked:s.diningExperiences.includes("Fine dining experiences"),onChange:e=>p(e,"diningExperiences")}),(0,Bb.jsx)("label",{htmlFor:"fineDining",children:"Fine dining experiences"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"streetFood",name:"Street food exploration",checked:s.diningExperiences.includes("Street food exploration"),onChange:e=>p(e,"diningExperiences")}),(0,Bb.jsx)("label",{htmlFor:"streetFood",children:"Street food exploration"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"cookingClasses",name:"Cooking classes/culinary workshops",checked:s.diningExperiences.includes("Cooking classes/culinary workshops"),onChange:e=>p(e,"diningExperiences")}),(0,Bb.jsx)("label",{htmlFor:"cookingClasses",children:"Cooking classes/culinary workshops"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"foodTours",name:"Food tours",checked:s.diningExperiences.includes("Food tours"),onChange:e=>p(e,"diningExperiences")}),(0,Bb.jsx)("label",{htmlFor:"foodTours",children:"Food tours"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"michelinStarred",name:"Michelin-starred restaurants",checked:s.diningExperiences.includes("Michelin-starred restaurants"),onChange:e=>p(e,"diningExperiences")}),(0,Bb.jsx)("label",{htmlFor:"michelinStarred",children:"Michelin-starred restaurants"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"farmToTable",name:"Farm-to-table experiences",checked:s.diningExperiences.includes("Farm-to-table experiences"),onChange:e=>p(e,"diningExperiences")}),(0,Bb.jsx)("label",{htmlFor:"farmToTable",children:"Farm-to-table experiences"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"tastings",name:"Wine/beer/spirits tastings",checked:s.diningExperiences.includes("Wine/beer/spirits tastings"),onChange:e=>p(e,"diningExperiences")}),(0,Bb.jsx)("label",{htmlFor:"tastings",children:"Wine/beer/spirits tastings"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"foodMarkets",name:"Food markets and festivals",checked:s.diningExperiences.includes("Food markets and festivals"),onChange:e=>p(e,"diningExperiences")}),(0,Bb.jsx)("label",{htmlFor:"foodMarkets",children:"Food markets and festivals"})]})]})]}),(0,Bb.jsxs)("div",{className:"form-group checkbox-group",children:[(0,Bb.jsx)("p",{className:"label-heading",children:"Do you have any dietary requirements or preferences?"}),(0,Bb.jsxs)("div",{className:"checkbox-grid",children:[(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"vegetarian",name:"Vegetarian",checked:s.dietaryRequirements.includes("Vegetarian"),onChange:e=>p(e,"dietaryRequirements")}),(0,Bb.jsx)("label",{htmlFor:"vegetarian",children:"Vegetarian"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"vegan",name:"Vegan",checked:s.dietaryRequirements.includes("Vegan"),onChange:e=>p(e,"dietaryRequirements")}),(0,Bb.jsx)("label",{htmlFor:"vegan",children:"Vegan"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"glutenFree",name:"Gluten-free",checked:s.dietaryRequirements.includes("Gluten-free"),onChange:e=>p(e,"dietaryRequirements")}),(0,Bb.jsx)("label",{htmlFor:"glutenFree",children:"Gluten-free"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"halal",name:"Halal",checked:s.dietaryRequirements.includes("Halal"),onChange:e=>p(e,"dietaryRequirements")}),(0,Bb.jsx)("label",{htmlFor:"halal",children:"Halal"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"kosher",name:"Kosher",checked:s.dietaryRequirements.includes("Kosher"),onChange:e=>p(e,"dietaryRequirements")}),(0,Bb.jsx)("label",{htmlFor:"kosher",children:"Kosher"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"foodAllergies",name:"Food allergies",checked:s.dietaryRequirements.includes("Food allergies"),onChange:e=>p(e,"dietaryRequirements")}),(0,Bb.jsx)("label",{htmlFor:"foodAllergies",children:"Food allergies"})]})]})]}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"otherDietaryNeeds",children:"Other dietary needs (please specify food allergies here)"}),(0,Bb.jsx)("textarea",{id:"otherDietaryNeeds",name:"otherDietaryNeeds",value:s.otherDietaryNeeds,onChange:f,rows:"3"})]}),"\xa0\xa0\xa0\xa0\xa0\xa0"]}),(0,Bb.jsxs)("section",{className:"form-section",children:[(0,Bb.jsx)("h2",{children:"Activities & Experiences"}),(0,Bb.jsxs)("div",{className:"form-group checkbox-group",children:[(0,Bb.jsx)("p",{className:"label-heading",children:"What types of experiences interest you?"}),(0,Bb.jsxs)("div",{className:"checkbox-grid",children:[(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"cultural",name:"Cultural (museums, historical sites, local customs)",checked:s.activities.includes("Cultural (museums, historical sites, local customs)"),onChange:e=>p(e,"activities")}),(0,Bb.jsx)("label",{htmlFor:"cultural",children:"Cultural (museums, historical sites, local customs)"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"adventure",name:"Adventure (hiking, water sports, zip-lining, etc.)",checked:s.activities.includes("Adventure (hiking, water sports, zip-lining, etc.)"),onChange:e=>p(e,"activities")}),(0,Bb.jsx)("label",{htmlFor:"adventure",children:"Adventure (hiking, water sports, zip-lining, etc.)"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"relaxation",name:"Relaxation (spa, beaches, wellness)",checked:s.activities.includes("Relaxation (spa, beaches, wellness)"),onChange:e=>p(e,"activities")}),(0,Bb.jsx)("label",{htmlFor:"relaxation",children:"Relaxation (spa, beaches, wellness)"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"natureWildlife",name:"Nature & Wildlife",checked:s.activities.includes("Nature & Wildlife"),onChange:e=>p(e,"activities")}),(0,Bb.jsx)("label",{htmlFor:"natureWildlife",children:"Nature & Wildlife"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"shopping",name:"Shopping",checked:s.activities.includes("Shopping"),onChange:e=>p(e,"activities")}),(0,Bb.jsx)("label",{htmlFor:"shopping",children:"Shopping"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"nightlife",name:"Nightlife & Entertainment",checked:s.activities.includes("Nightlife & Entertainment"),onChange:e=>p(e,"activities")}),(0,Bb.jsx)("label",{htmlFor:"nightlife",children:"Nightlife & Entertainment"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"artsMusic",name:"Arts & Music",checked:s.activities.includes("Arts & Music"),onChange:e=>p(e,"activities")}),(0,Bb.jsx)("label",{htmlFor:"artsMusic",children:"Arts & Music"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"photography",name:"Photography",checked:s.activities.includes("Photography"),onChange:e=>p(e,"activities")}),(0,Bb.jsx)("label",{htmlFor:"photography",children:"Photography"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"localCommunity",name:"Local community engagement/volunteering",checked:s.activities.includes("Local community engagement/volunteering"),onChange:e=>p(e,"activities")}),(0,Bb.jsx)("label",{htmlFor:"localCommunity",children:"Local community engagement/volunteering"})]})]})]}),(0,Bb.jsxs)("div",{className:"form-group radio-group",children:[(0,Bb.jsx)("p",{className:"label-heading",children:"What is your preferred activity level?"}),(0,Bb.jsxs)("div",{className:"radio-option",children:[(0,Bb.jsx)("input",{type:"radio",id:"lowActivity",name:"activityLevel",value:"Low",checked:"Low"===s.activityLevel,onChange:f}),(0,Bb.jsx)("label",{htmlFor:"lowActivity",children:"Low (primarily relaxation with minimal physical activity)"})]}),(0,Bb.jsxs)("div",{className:"radio-option",children:[(0,Bb.jsx)("input",{type:"radio",id:"moderateActivity",name:"activityLevel",value:"Moderate",checked:"Moderate"===s.activityLevel,onChange:f}),(0,Bb.jsx)("label",{htmlFor:"moderateActivity",children:"Moderate (balanced mix of activities and downtime)"})]}),(0,Bb.jsxs)("div",{className:"radio-option",children:[(0,Bb.jsx)("input",{type:"radio",id:"highActivity",name:"activityLevel",value:"High",checked:"High"===s.activityLevel,onChange:f}),(0,Bb.jsx)("label",{htmlFor:"highActivity",children:"High (active itinerary with full days of exploration)"})]})]}),"\xa0\xa0\xa0\xa0\xa0\xa0"]}),(0,Bb.jsxs)("section",{className:"form-section",children:[(0,Bb.jsx)("h2",{children:"Transportation Preferences"}),(0,Bb.jsxs)("div",{className:"form-group checkbox-group",children:[(0,Bb.jsx)("p",{className:"label-heading",children:"How would you like to get around at your destination?"}),(0,Bb.jsxs)("div",{className:"checkbox-grid",children:[(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"privateTransfers",name:"Private transfers",checked:s.transportationModes.includes("Private transfers"),onChange:e=>p(e,"transportationModes")}),(0,Bb.jsx)("label",{htmlFor:"privateTransfers",children:"Private transfers"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"rentalCar",name:"Rental car",checked:s.transportationModes.includes("Rental car"),onChange:e=>p(e,"transportationModes")}),(0,Bb.jsx)("label",{htmlFor:"rentalCar",children:"Rental car"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"publicTransport",name:"Public transportation",checked:s.transportationModes.includes("Public transportation"),onChange:e=>p(e,"transportationModes")}),(0,Bb.jsx)("label",{htmlFor:"publicTransport",children:"Public transportation"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"walkingBiking",name:"Walking/biking where possible",checked:s.transportationModes.includes("Walking/biking where possible"),onChange:e=>p(e,"transportationModes")}),(0,Bb.jsx)("label",{htmlFor:"walkingBiking",children:"Walking/biking where possible"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"combinationOptions",name:"Combination of options",checked:s.transportationModes.includes("Combination of options"),onChange:e=>p(e,"transportationModes")}),(0,Bb.jsx)("label",{htmlFor:"combinationOptions",children:"Combination of options"})]})]})]}),(0,Bb.jsxs)("div",{className:"form-group radio-group",children:[(0,Bb.jsx)("p",{className:"label-heading",children:"For flights:"}),(0,Bb.jsxs)("div",{className:"radio-option",children:[(0,Bb.jsx)("input",{type:"radio",id:"economy",name:"flightClass",value:"Economy",checked:"Economy"===s.flightClass,onChange:f}),(0,Bb.jsx)("label",{htmlFor:"economy",children:"Economy"})]}),(0,Bb.jsxs)("div",{className:"radio-option",children:[(0,Bb.jsx)("input",{type:"radio",id:"premiumEconomy",name:"flightClass",value:"Premium Economy",checked:"Premium Economy"===s.flightClass,onChange:f}),(0,Bb.jsx)("label",{htmlFor:"premiumEconomy",children:"Premium Economy"})]}),(0,Bb.jsxs)("div",{className:"radio-option",children:[(0,Bb.jsx)("input",{type:"radio",id:"businessClass",name:"flightClass",value:"Business Class",checked:"Business Class"===s.flightClass,onChange:f}),(0,Bb.jsx)("label",{htmlFor:"businessClass",children:"Business Class"})]}),(0,Bb.jsxs)("div",{className:"radio-option",children:[(0,Bb.jsx)("input",{type:"radio",id:"firstClass",name:"flightClass",value:"First Class",checked:"First Class"===s.flightClass,onChange:f}),(0,Bb.jsx)("label",{htmlFor:"firstClass",children:"First Class"})]})]}),"\xa0\xa0\xa0\xa0\xa0\xa0"]}),(0,Bb.jsxs)("section",{className:"form-section",children:[(0,Bb.jsx)("h2",{children:"Budget Considerations"}),(0,Bb.jsxs)("div",{className:"form-group radio-group",children:[(0,Bb.jsx)("p",{className:"label-heading",children:"What is your approximate budget per person (excluding flights)?"}),(0,Bb.jsxs)("div",{className:"radio-option",children:[(0,Bb.jsx)("input",{type:"radio",id:"budget1",name:"budgetPerPerson",value:"$100-200 per day",checked:"$100-200 per day"===s.budgetPerPerson,onChange:f}),(0,Bb.jsx)("label",{htmlFor:"budget1",children:"$100-200 per day"})]}),(0,Bb.jsxs)("div",{className:"radio-option",children:[(0,Bb.jsx)("input",{type:"radio",id:"budget2",name:"budgetPerPerson",value:"$200-350 per day",checked:"$200-350 per day"===s.budgetPerPerson,onChange:f}),(0,Bb.jsx)("label",{htmlFor:"budget2",children:"$200-350 per day"})]}),(0,Bb.jsxs)("div",{className:"radio-option",children:[(0,Bb.jsx)("input",{type:"radio",id:"budget3",name:"budgetPerPerson",value:"$350-500 per day",checked:"$350-500 per day"===s.budgetPerPerson,onChange:f}),(0,Bb.jsx)("label",{htmlFor:"budget3",children:"$350-500 per day"})]}),(0,Bb.jsxs)("div",{className:"radio-option",children:[(0,Bb.jsx)("input",{type:"radio",id:"budget4",name:"budgetPerPerson",value:"$500-750 per day",checked:"$500-750 per day"===s.budgetPerPerson,onChange:f}),(0,Bb.jsx)("label",{htmlFor:"budget4",children:"$500-750 per day"})]}),(0,Bb.jsxs)("div",{className:"radio-option",children:[(0,Bb.jsx)("input",{type:"radio",id:"budget5",name:"budgetPerPerson",value:"$750-1000 per day",checked:"$750-1000 per day"===s.budgetPerPerson,onChange:f}),(0,Bb.jsx)("label",{htmlFor:"budget5",children:"$750-1000 per day"})]}),(0,Bb.jsxs)("div",{className:"radio-option",children:[(0,Bb.jsx)("input",{type:"radio",id:"budget6",name:"budgetPerPerson",value:"$1000+ per day",checked:"$1000+ per day"===s.budgetPerPerson,onChange:f}),(0,Bb.jsx)("label",{htmlFor:"budget6",children:"$1000+ per day"})]})]}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("p",{className:"label-heading",children:"What aspects of your trip would you prioritize for spending? (Rank from 1-5, with 1 being highest priority)"}),(0,Bb.jsxs)("div",{className:"priority-ranking",children:[(0,Bb.jsxs)("div",{className:"priority-item",children:[(0,Bb.jsx)("label",{htmlFor:"priorityAccommodation",children:"Accommodation"}),(0,Bb.jsxs)("select",{id:"priorityAccommodation",name:"accommodation",value:s.budgetPriorities.accommodation,onChange:m,children:[(0,Bb.jsx)("option",{value:"0",children:"Select"}),(0,Bb.jsx)("option",{value:"1",children:"1 (Highest)"}),(0,Bb.jsx)("option",{value:"2",children:"2"}),(0,Bb.jsx)("option",{value:"3",children:"3"}),(0,Bb.jsx)("option",{value:"4",children:"4"}),(0,Bb.jsx)("option",{value:"5",children:"5 (Lowest)"})]})]}),(0,Bb.jsxs)("div",{className:"priority-item",children:[(0,Bb.jsx)("label",{htmlFor:"priorityDining",children:"Dining/Food"}),(0,Bb.jsxs)("select",{id:"priorityDining",name:"dining",value:s.budgetPriorities.dining,onChange:m,children:[(0,Bb.jsx)("option",{value:"0",children:"Select"}),(0,Bb.jsx)("option",{value:"1",children:"1 (Highest)"}),(0,Bb.jsx)("option",{value:"2",children:"2"}),(0,Bb.jsx)("option",{value:"3",children:"3"}),(0,Bb.jsx)("option",{value:"4",children:"4"}),(0,Bb.jsx)("option",{value:"5",children:"5 (Lowest)"})]})]}),(0,Bb.jsxs)("div",{className:"priority-item",children:[(0,Bb.jsx)("label",{htmlFor:"priorityActivities",children:"Activities/Experiences"}),(0,Bb.jsxs)("select",{id:"priorityActivities",name:"activities",value:s.budgetPriorities.activities,onChange:m,children:[(0,Bb.jsx)("option",{value:"0",children:"Select"}),(0,Bb.jsx)("option",{value:"1",children:"1 (Highest)"}),(0,Bb.jsx)("option",{value:"2",children:"2"}),(0,Bb.jsx)("option",{value:"3",children:"3"}),(0,Bb.jsx)("option",{value:"4",children:"4"}),(0,Bb.jsx)("option",{value:"5",children:"5 (Lowest)"})]})]}),(0,Bb.jsxs)("div",{className:"priority-item",children:[(0,Bb.jsx)("label",{htmlFor:"priorityTransportation",children:"Transportation"}),(0,Bb.jsxs)("select",{id:"priorityTransportation",name:"transportation",value:s.budgetPriorities.transportation,onChange:m,children:[(0,Bb.jsx)("option",{value:"0",children:"Select"}),(0,Bb.jsx)("option",{value:"1",children:"1 (Highest)"}),(0,Bb.jsx)("option",{value:"2",children:"2"}),(0,Bb.jsx)("option",{value:"3",children:"3"}),(0,Bb.jsx)("option",{value:"4",children:"4"}),(0,Bb.jsx)("option",{value:"5",children:"5 (Lowest)"})]})]}),(0,Bb.jsxs)("div",{className:"priority-item",children:[(0,Bb.jsx)("label",{htmlFor:"priorityShopping",children:"Shopping/Souvenirs"}),(0,Bb.jsxs)("select",{id:"priorityShopping",name:"shopping",value:s.budgetPriorities.shopping,onChange:m,children:[(0,Bb.jsx)("option",{value:"0",children:"Select"}),(0,Bb.jsx)("option",{value:"1",children:"1 (Highest)"}),(0,Bb.jsx)("option",{value:"2",children:"2"}),(0,Bb.jsx)("option",{value:"3",children:"3"}),(0,Bb.jsx)("option",{value:"4",children:"4"}),(0,Bb.jsx)("option",{value:"5",children:"5 (Lowest)"})]})]})]})]}),"\xa0\xa0\xa0\xa0\xa0\xa0"]}),(0,Bb.jsxs)("section",{className:"form-section",children:[(0,Bb.jsx)("h2",{children:"Special Occasions & Requests"}),(0,Bb.jsxs)("div",{className:"form-group checkbox-group",children:[(0,Bb.jsx)("p",{className:"label-heading",children:"Are you celebrating any special occasions during this trip?"}),(0,Bb.jsxs)("div",{className:"checkbox-grid",children:[(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"birthday",name:"Birthday",checked:s.specialOccasions.includes("Birthday"),onChange:e=>p(e,"specialOccasions")}),(0,Bb.jsx)("label",{htmlFor:"birthday",children:"Birthday"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"anniversary",name:"Anniversary",checked:s.specialOccasions.includes("Anniversary"),onChange:e=>p(e,"specialOccasions")}),(0,Bb.jsx)("label",{htmlFor:"anniversary",children:"Anniversary"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"honeymoon",name:"Honeymoon",checked:s.specialOccasions.includes("Honeymoon"),onChange:e=>p(e,"specialOccasions")}),(0,Bb.jsx)("label",{htmlFor:"honeymoon",children:"Honeymoon"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"proposal",name:"Proposal",checked:s.specialOccasions.includes("Proposal"),onChange:e=>p(e,"specialOccasions")}),(0,Bb.jsx)("label",{htmlFor:"proposal",children:"Proposal"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"graduation",name:"Graduation",checked:s.specialOccasions.includes("Graduation"),onChange:e=>p(e,"specialOccasions")}),(0,Bb.jsx)("label",{htmlFor:"graduation",children:"Graduation"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"retirement",name:"Retirement",checked:s.specialOccasions.includes("Retirement"),onChange:e=>p(e,"specialOccasions")}),(0,Bb.jsx)("label",{htmlFor:"retirement",children:"Retirement"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"otherOccasion",name:"Other",checked:s.specialOccasions.includes("Other"),onChange:e=>p(e,"specialOccasions")}),(0,Bb.jsx)("label",{htmlFor:"otherOccasion",children:"Other"})]})]})]}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"otherSpecialOccasion",children:"If you selected 'Other' above, please specify:"}),(0,Bb.jsx)("input",{type:"text",id:"otherSpecialOccasion",name:"otherSpecialOccasion",value:s.otherSpecialOccasion,onChange:f})]}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"specialRequests",children:"Any other special requests or information you'd like us to know?"}),(0,Bb.jsx)("textarea",{id:"specialRequests",name:"specialRequests",value:s.specialRequests,onChange:f,rows:"4"})]})]}),(0,Bb.jsxs)("section",{className:"form-section",children:[(0,Bb.jsx)("h2",{children:"Package Add-Ons"}),(0,Bb.jsxs)("div",{className:"form-group checkbox-group",children:[(0,Bb.jsx)("p",{className:"label-heading",children:"Would you be interested in any of these additional services? (Additional fees apply)"}),(0,Bb.jsxs)("div",{className:"checkbox-grid",children:[(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"airportLounge",name:"Airport lounge access",checked:s.addOns.includes("Airport lounge access"),onChange:e=>p(e,"addOns")}),(0,Bb.jsx)("label",{htmlFor:"childcare",children:"Child care/babysitting services"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"specialEvents",name:"Special event tickets (concerts, sporting events, etc.)",checked:s.addOns.includes("Special event tickets (concerts, sporting events, etc.)"),onChange:e=>p(e,"addOns")}),(0,Bb.jsx)("label",{htmlFor:"specialEvents",children:"Special event tickets (concerts, sporting events, etc.)"})]}),(0,Bb.jsxs)("div",{className:"checkbox-option",children:[(0,Bb.jsx)("input",{type:"checkbox",id:"privateTours",name:"Private tours with expert guides",checked:s.addOns.includes("Private tours with expert guides"),onChange:e=>p(e,"addOns")}),(0,Bb.jsx)("label",{htmlFor:"privateTours",children:"Private tours with expert guides"})]})]})]})]}),(0,Bb.jsx)("div",{className:"form-actions",children:(0,Bb.jsx)("button",{type:"submit",className:"btn-primary",disabled:o,children:o?"Submitting...":"Submit Questionnaire"})}),(0,Bb.jsx)("div",{className:"form-disclaimer",children:(0,Bb.jsx)("p",{children:"Thank you for completing our questionnaire! A Travenest travel specialist will contact you within 48 hours to discuss your custom travel package and provide pricing options based on your preferences."})})]})]})},Uw=()=>(0,Bb.jsx)("div",{className:"page-container",children:(0,Bb.jsx)(Mw,{})}),Vw=()=>{const{currentUser:e}=qb(),[t,n]=(0,i.useState)([]),[r,s]=(0,i.useState)(!0),[a,o]=(0,i.useState)("");(0,i.useEffect)((()=>{e&&l()}),[e]);const l=async()=>{try{s(!0);const t=Qv(dv(Ub,"bookings"),Xv("userId","==",e.uid),Xv("status","==","completed"),function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Hv("orderBy",e);return Zv._create(n,t)}("startDate","desc")),r=await fy(t),i=[];r.forEach((e=>{i.push({id:e.id,...e.data()})})),n(i)}catch(a){console.error("Error fetching completed bookings:",a),o("Failed to load completed bookings")}finally{s(!1)}},c=e=>{if(!e)return"N/A";const t=e.toDate();return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(t)};return(0,Bb.jsxs)("div",{className:"completed-bookings-container",children:[(0,Bb.jsxs)("div",{className:"page-header",children:[(0,Bb.jsx)("h1",{children:"Your Completed Trips"}),(0,Bb.jsx)("p",{className:"page-subtitle",children:"Share your experiences and help other travelers plan their perfect getaway!"})]}),r?(0,Bb.jsx)("div",{className:"loading",children:"Loading your completed trips..."}):a?(0,Bb.jsx)("div",{className:"error-message",children:a}):0===t.length?(0,Bb.jsx)("div",{className:"no-bookings",children:(0,Bb.jsxs)("div",{className:"empty-state",children:[(0,Bb.jsx)("div",{className:"empty-icon",children:"\u2708"}),(0,Bb.jsx)("h2",{children:"No completed trips yet"}),(0,Bb.jsx)("p",{children:"Once you've completed a trip with Travenest, you'll be able to share your experience here."}),(0,Bb.jsx)(Ie,{to:"/packages",className:"btn-primary",children:"Explore Travel Packages"})]})}):(0,Bb.jsxs)(Bb.Fragment,{children:[(0,Bb.jsx)("div",{className:"completed-bookings-list",children:t.map((e=>(0,Bb.jsxs)("div",{className:"completed-booking-card",children:[(0,Bb.jsx)("div",{className:"booking-image",children:(0,Bb.jsx)("img",{src:e.packageImage||"/placeholder-trip.jpg",alt:e.packageTitle})}),(0,Bb.jsxs)("div",{className:"booking-content",children:[(0,Bb.jsxs)("div",{className:"booking-header",children:[(0,Bb.jsx)("h2",{className:"booking-title",children:e.packageTitle}),(0,Bb.jsx)("div",{className:"booking-status completed",children:"Completed"})]}),(0,Bb.jsxs)("div",{className:"booking-details",children:[(0,Bb.jsxs)("div",{className:"booking-detail",children:[(0,Bb.jsx)("span",{className:"detail-label",children:"Travel Date:"}),(0,Bb.jsx)("span",{className:"detail-value",children:c(e.startDate)})]}),(0,Bb.jsxs)("div",{className:"booking-detail",children:[(0,Bb.jsx)("span",{className:"detail-label",children:"Duration:"}),(0,Bb.jsxs)("span",{className:"detail-value",children:[e.duration||"N/A"," days"]})]}),(0,Bb.jsxs)("div",{className:"booking-detail",children:[(0,Bb.jsx)("span",{className:"detail-label",children:"Travelers:"}),(0,Bb.jsxs)("span",{className:"detail-value",children:[e.travelers," people"]})]})]}),(0,Bb.jsxs)("div",{className:"booking-actions",children:[(0,Bb.jsx)(Ie,{to:`/packages/${e.packageId}`,className:"btn-secondary",children:"View Package"}),(0,Bb.jsxs)(Ie,{to:`/booking/${e.id}/review`,className:"btn-review-large",children:[(0,Bb.jsx)("span",{className:"review-icon-large",children:"\u2605"}),"Write Your Review"]})]})]})]},e.id)))}),(0,Bb.jsx)("div",{className:"back-link",children:(0,Bb.jsx)(Ie,{to:"/dashboard",className:"text-link",children:"\u2190 Back to Dashboard"})})]})]})},Bw=()=>{const[e,t]=(0,i.useState)({businessName:"",businessType:"",contactName:"",email:"",phone:"",address:{street:"",city:"",state:"",country:"",zipCode:""},description:"",website:""}),[n,r]=(0,i.useState)(!1),s=e=>{const{name:n,value:r}=e.target;if(n.startsWith("address.")){const e=n.split(".")[1];t((t=>({...t,address:{...t.address,[e]:r}})))}else t((e=>({...e,[n]:r})))};return(0,Bb.jsxs)("div",{className:"p-6 max-w-2xl mx-auto",children:[(0,Bb.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Bb.jsx)("h1",{className:"text-3xl font-bold",children:"Provider Profile"}),(0,Bb.jsx)("button",{onClick:()=>r(!n),className:`\n            px-4 py-2 rounded\n            ${n?"bg-gray-200":"bg-blue-600 text-white"}\n          `,children:n?"Cancel":"Edit Profile"})]}),(0,Bb.jsxs)("form",{onSubmit:t=>{t.preventDefault(),console.log("Updated Profile:",e),r(!1)},className:"space-y-4",children:[(0,Bb.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Bb.jsxs)("div",{children:[(0,Bb.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Business Name"}),(0,Bb.jsx)("input",{type:"text",name:"businessName",value:e.businessName,onChange:s,disabled:!n,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3",required:!0})]}),(0,Bb.jsxs)("div",{children:[(0,Bb.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Business Type"}),(0,Bb.jsxs)("select",{name:"businessType",value:e.businessType,onChange:s,disabled:!n,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3",required:!0,children:[(0,Bb.jsx)("option",{value:"tour_operator",children:"Tour Operator"}),(0,Bb.jsx)("option",{value:"hotel",children:"Hotel"}),(0,Bb.jsx)("option",{value:"travel_agency",children:"Travel Agency"}),(0,Bb.jsx)("option",{value:"transportation",children:"Transportation"}),(0,Bb.jsx)("option",{value:"other",children:"Other"})]})]})]}),(0,Bb.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Bb.jsxs)("div",{children:[(0,Bb.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Contact Name"}),(0,Bb.jsx)("input",{type:"text",name:"contactName",value:e.contactName,onChange:s,disabled:!n,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3",required:!0})]}),(0,Bb.jsxs)("div",{children:[(0,Bb.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,Bb.jsx)("input",{type:"email",name:"email",value:e.email,onChange:s,disabled:!n,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3",required:!0})]})]}),(0,Bb.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Bb.jsxs)("div",{children:[(0,Bb.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),(0,Bb.jsx)("input",{type:"tel",name:"phone",value:e.phone,onChange:s,disabled:!n,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3",required:!0})]}),(0,Bb.jsxs)("div",{children:[(0,Bb.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Website"}),(0,Bb.jsx)("input",{type:"url",name:"website",value:e.website,onChange:s,disabled:!n,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"})]})]}),(0,Bb.jsxs)("div",{children:[(0,Bb.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Business Description"}),(0,Bb.jsx)("textarea",{name:"description",value:e.description,onChange:s,disabled:!n,rows:4,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3",required:!0})]}),n&&(0,Bb.jsx)("div",{className:"flex justify-end",children:(0,Bb.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Save Changes"})})]})]})},zw=()=>(0,Bb.jsx)("div",{className:"container mx-auto",children:(0,Bb.jsx)(Bw,{})}),qw=()=>{const[e,t]=(0,i.useState)({businessName:"",businessType:"",contactName:"",email:"",phone:"",website:"",description:"",address:{street:"",city:"",state:"",country:"",zipCode:""}}),[n,r]=(0,i.useState)(!1),[s,a]=(0,i.useState)(!0),[o,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(null);(0,i.useEffect)((()=>{(async()=>{try{const e=Mb.currentUser;if(!e)return void l("User not authenticated");const n=hv(Ub,"serviceProviders",e.uid),r=await dy(n);r.exists()?t(r.data()):l("No provider profile found")}catch(o){l("Error fetching profile: "+o.message)}finally{a(!1)}})()}),[]);const d=e=>{const{name:n,value:r}=e.target;if(n.startsWith("address.")){const e=n.split(".")[1];t((t=>({...t,address:{...t.address,[e]:r}})))}else t((e=>({...e,[n]:r})))};return s?(0,Bb.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,Bb.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-blue-500"})}):(0,Bb.jsxs)("div",{className:"max-w-4xl mx-auto p-6 bg-white shadow-md rounded-lg",children:[o&&(0,Bb.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:o}),c&&(0,Bb.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4",role:"alert",children:c}),(0,Bb.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,Bb.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Provider Profile"}),(0,Bb.jsx)("button",{onClick:()=>r(!n),className:`\n            px-4 py-2 rounded-md transition-colors duration-300\n            ${n?"bg-gray-200 text-gray-800 hover:bg-gray-300":"bg-blue-600 text-white hover:bg-blue-700"}\n          `,children:n?"Cancel":"Edit Profile"})]}),(0,Bb.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),l(null),u(null);try{const t=Mb.currentUser;if(!t)return void l("User not authenticated");const n=hv(Ub,"serviceProviders",t.uid);await my(n,e),u("Profile updated successfully"),r(!1)}catch(o){l("Error updating profile: "+o.message)}},className:"space-y-6",children:[(0,Bb.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,Bb.jsxs)("div",{children:[(0,Bb.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Name"}),(0,Bb.jsx)("input",{type:"text",name:"businessName",value:e.businessName,onChange:d,disabled:!n,className:`\n                w-full px-3 py-2 border rounded-md \n                ${n?"border-gray-300 focus:ring-blue-500 focus:border-blue-500":"bg-gray-100 cursor-not-allowed"}\n              `,required:!0})]}),(0,Bb.jsxs)("div",{children:[(0,Bb.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Type"}),(0,Bb.jsxs)("select",{name:"businessType",value:e.businessType,onChange:d,disabled:!n,className:`\n                w-full px-3 py-2 border rounded-md \n                ${n?"border-gray-300 focus:ring-blue-500 focus:border-blue-500":"bg-gray-100 cursor-not-allowed"}\n              `,required:!0,children:[(0,Bb.jsx)("option",{value:"",children:"Select Business Type"}),(0,Bb.jsx)("option",{value:"tour_operator",children:"Tour Operator"}),(0,Bb.jsx)("option",{value:"hotel",children:"Hotel"}),(0,Bb.jsx)("option",{value:"travel_agency",children:"Travel Agency"}),(0,Bb.jsx)("option",{value:"transportation",children:"Transportation"}),(0,Bb.jsx)("option",{value:"other",children:"Other"})]})]})]}),(0,Bb.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,Bb.jsxs)("div",{children:[(0,Bb.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Name"}),(0,Bb.jsx)("input",{type:"text",name:"contactName",value:e.contactName,onChange:d,disabled:!n,className:`\n                w-full px-3 py-2 border rounded-md \n                ${n?"border-gray-300 focus:ring-blue-500 focus:border-blue-500":"bg-gray-100 cursor-not-allowed"}\n              `,required:!0})]}),(0,Bb.jsxs)("div",{children:[(0,Bb.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,Bb.jsx)("input",{type:"email",name:"email",value:e.email,onChange:d,disabled:!n,className:`\n                w-full px-3 py-2 border rounded-md \n                ${n?"border-gray-300 focus:ring-blue-500 focus:border-blue-500":"bg-gray-100 cursor-not-allowed"}\n              `,required:!0})]})]}),(0,Bb.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,Bb.jsxs)("div",{children:[(0,Bb.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street"}),(0,Bb.jsx)("input",{type:"text",name:"address.street",value:e.address.street,onChange:d,disabled:!n,className:`\n                w-full px-3 py-2 border rounded-md \n                ${n?"border-gray-300 focus:ring-blue-500 focus:border-blue-500":"bg-gray-100 cursor-not-allowed"}\n              `,required:!0})]}),(0,Bb.jsxs)("div",{children:[(0,Bb.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),(0,Bb.jsx)("input",{type:"text",name:"address.city",value:e.address.city,onChange:d,disabled:!n,className:`\n                w-full px-3 py-2 border rounded-md \n                ${n?"border-gray-300 focus:ring-blue-500 focus:border-blue-500":"bg-gray-100 cursor-not-allowed"}\n              `,required:!0})]})]}),(0,Bb.jsxs)("div",{children:[(0,Bb.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Description"}),(0,Bb.jsx)("textarea",{name:"description",value:e.description,onChange:d,disabled:!n,rows:4,className:`\n              w-full px-3 py-2 border rounded-md \n              ${n?"border-gray-300 focus:ring-blue-500 focus:border-blue-500":"bg-gray-100 cursor-not-allowed"}\n            `,required:!0})]}),n&&(0,Bb.jsx)("div",{className:"flex justify-end",children:(0,Bb.jsx)("button",{type:"submit",className:"\r bg-green-600 text-white \r px-6 py-2 rounded-md \r hover:bg-green-700 \r transition-colors duration-300\r focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2\r ",children:"Save Profile"})})]})]})},$w=()=>(0,Bb.jsx)("div",{className:"container mx-auto",children:(0,Bb.jsx)(qw,{})}),Hw=()=>{const e=ne(),[t,n]=(0,i.useState)(1),[r,s]=(0,i.useState)(!1),[a,o]=(0,i.useState)(""),[l,c]=(0,i.useState)({email:"",password:"",confirmPassword:""}),[u,d]=(0,i.useState)({businessName:"",businessType:"",contactPhone:"",website:"",description:""}),[h,f]=(0,i.useState)({street:"",city:"",state:"",zipCode:"",country:""}),[p,m]=(0,i.useState)({businessLicense:null,identityProof:null}),g=e=>{const{name:t,value:n}=e.target;c((e=>({...e,[t]:n})))},v=e=>{const{name:t,value:n}=e.target;d((e=>({...e,[t]:n})))},y=e=>{const{name:t,value:n}=e.target;f((e=>({...e,[t]:n})))},b=e=>{const{name:t,files:n}=e.target;n&&n[0]&&m((e=>({...e,[t]:n[0]})))},w=()=>{if(1===t){if(!l.email||!l.password||!l.confirmPassword)return void o("Please fill in all fields");if(l.password!==l.confirmPassword)return void o("Passwords do not match");if(l.password.length<6)return void o("Password must be at least 6 characters")}2!==t||u.businessName&&u.businessType&&u.contactPhone&&u.description?3!==t||h.street&&h.city&&h.state&&h.zipCode&&h.country?(o(""),n((e=>e+1))):o("Please fill in all address fields"):o("Please fill in all required fields")},x=()=>{n((e=>e-1))},k=async(e,t,n)=>{const r=(i=Vb,s=`verificationDocuments/${t}/${n}_${e.name}`,Ib(i=st(i),s));var i,s;return await function(e,t,n){return Sb(e=st(e),t,n)}(r,e),function(e){return jb(e=st(e))}(r)};return(0,Bb.jsx)("div",{className:"provider-registration-container",children:(0,Bb.jsxs)("div",{className:"provider-registration-card",children:[(0,Bb.jsx)("h2",{className:"provider-registration-title",children:"Service Provider Registration"}),(0,Bb.jsxs)("div",{className:"progress-steps",children:[(0,Bb.jsxs)("div",{className:"progress-step "+(t>=1?"active":""),children:[(0,Bb.jsx)("div",{className:"step-number",children:"1"}),(0,Bb.jsx)("div",{className:"step-label",children:"Account"})]}),(0,Bb.jsx)("div",{className:"progress-line"}),(0,Bb.jsxs)("div",{className:"progress-step "+(t>=2?"active":""),children:[(0,Bb.jsx)("div",{className:"step-number",children:"2"}),(0,Bb.jsx)("div",{className:"step-label",children:"Business"})]}),(0,Bb.jsx)("div",{className:"progress-line"}),(0,Bb.jsxs)("div",{className:"progress-step "+(t>=3?"active":""),children:[(0,Bb.jsx)("div",{className:"step-number",children:"3"}),(0,Bb.jsx)("div",{className:"step-label",children:"Address"})]}),(0,Bb.jsx)("div",{className:"progress-line"}),(0,Bb.jsxs)("div",{className:"progress-step "+(t>=4?"active":""),children:[(0,Bb.jsx)("div",{className:"step-number",children:"4"}),(0,Bb.jsx)("div",{className:"step-label",children:"Verification"})]})]}),a&&(0,Bb.jsx)("div",{className:"error-message",children:a}),(0,Bb.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),s(!0),o("");try{const t=(await ki(Mb,l.email,l.password)).user.uid,n={};p.businessLicense&&(n.businessLicense=await k(p.businessLicense,t,"business_license")),p.identityProof&&(n.identityProof=await k(p.identityProof,t,"identity_proof")),await py(hv(Ub,"users",t),{name:u.businessName,email:l.email,role:"provider",createdAt:wy()}),await py(hv(Ub,"serviceProviders",t),{userId:t,businessName:u.businessName,businessType:u.businessType,address:{street:h.street,city:h.city,state:h.state,zipCode:h.zipCode,country:h.country},contactPhone:u.contactPhone,website:u.website||"",description:u.description,verificationDocuments:n,isVerified:!1,verificationStatus:"pending",verificationNotes:"",createdAt:wy(),updatedAt:wy()}),e("/provider/verification-pending")}catch(a){console.error("Error during registration:",a),o(a.message)}finally{s(!1)}},children:[1===t&&(0,Bb.jsxs)("div",{className:"form-step",children:[(0,Bb.jsx)("h3",{className:"step-title",children:"Account Information"}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"email",children:"Email Address *"}),(0,Bb.jsx)("input",{type:"email",id:"email",name:"email",value:l.email,onChange:g,required:!0})]}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"password",children:"Password *"}),(0,Bb.jsx)("input",{type:"password",id:"password",name:"password",value:l.password,onChange:g,required:!0})]}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password *"}),(0,Bb.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:l.confirmPassword,onChange:g,required:!0})]}),(0,Bb.jsx)("div",{className:"form-actions",children:(0,Bb.jsx)("button",{type:"button",className:"btn-next",onClick:w,children:"Next"})})]}),2===t&&(0,Bb.jsxs)("div",{className:"form-step",children:[(0,Bb.jsx)("h3",{className:"step-title",children:"Business Information"}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"businessName",children:"Business Name *"}),(0,Bb.jsx)("input",{type:"text",id:"businessName",name:"businessName",value:u.businessName,onChange:v,required:!0})]}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"businessType",children:"Business Type *"}),(0,Bb.jsxs)("select",{id:"businessType",name:"businessType",value:u.businessType,onChange:v,required:!0,children:[(0,Bb.jsx)("option",{value:"",children:"Select Business Type"}),(0,Bb.jsx)("option",{value:"hotel",children:"Hotel/Accommodation"}),(0,Bb.jsx)("option",{value:"tour",children:"Tour Operator"}),(0,Bb.jsx)("option",{value:"transport",children:"Transportation"}),(0,Bb.jsx)("option",{value:"activity",children:"Activity Provider"}),(0,Bb.jsx)("option",{value:"other",children:"Other"})]})]}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"contactPhone",children:"Contact Phone *"}),(0,Bb.jsx)("input",{type:"tel",id:"contactPhone",name:"contactPhone",value:u.contactPhone,onChange:v,required:!0})]}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"website",children:"Website (Optional)"}),(0,Bb.jsx)("input",{type:"url",id:"website",name:"website",value:u.website,onChange:v})]}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"description",children:"Business Description *"}),(0,Bb.jsx)("textarea",{id:"description",name:"description",value:u.description,onChange:v,rows:"4",required:!0})]}),(0,Bb.jsxs)("div",{className:"form-actions",children:[(0,Bb.jsx)("button",{type:"button",className:"btn-prev",onClick:x,children:"Previous"}),(0,Bb.jsx)("button",{type:"button",className:"btn-next",onClick:w,children:"Next"})]})]}),3===t&&(0,Bb.jsxs)("div",{className:"form-step",children:[(0,Bb.jsx)("h3",{className:"step-title",children:"Address Information"}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"street",children:"Street Address *"}),(0,Bb.jsx)("input",{type:"text",id:"street",name:"street",value:h.street,onChange:y,required:!0})]}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"city",children:"City *"}),(0,Bb.jsx)("input",{type:"text",id:"city",name:"city",value:h.city,onChange:y,required:!0})]}),(0,Bb.jsxs)("div",{className:"form-row",children:[(0,Bb.jsxs)("div",{className:"form-group half",children:[(0,Bb.jsx)("label",{htmlFor:"state",children:"State/Province *"}),(0,Bb.jsx)("input",{type:"text",id:"state",name:"state",value:h.state,onChange:y,required:!0})]}),(0,Bb.jsxs)("div",{className:"form-group half",children:[(0,Bb.jsx)("label",{htmlFor:"zipCode",children:"Zip/Postal Code *"}),(0,Bb.jsx)("input",{type:"text",id:"zipCode",name:"zipCode",value:h.zipCode,onChange:y,required:!0})]})]}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"country",children:"Country *"}),(0,Bb.jsx)("input",{type:"text",id:"country",name:"country",value:h.country,onChange:y,required:!0})]}),(0,Bb.jsxs)("div",{className:"form-actions",children:[(0,Bb.jsx)("button",{type:"button",className:"btn-prev",onClick:x,children:"Previous"}),(0,Bb.jsx)("button",{type:"button",className:"btn-next",onClick:w,children:"Next"})]})]}),4===t&&(0,Bb.jsxs)("div",{className:"form-step",children:[(0,Bb.jsx)("h3",{className:"step-title",children:"Verification Documents"}),(0,Bb.jsx)("p",{className:"verification-info",children:"Please upload the required documents to verify your business. Your application will be reviewed by our team, and you will be notified once approved."}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"businessLicense",children:"Business License *"}),(0,Bb.jsxs)("div",{className:"file-upload",children:[(0,Bb.jsx)("input",{type:"file",id:"businessLicense",name:"businessLicense",onChange:b,accept:".pdf,.jpg,.jpeg,.png",required:!0}),(0,Bb.jsx)("div",{className:"file-upload-info",children:p.businessLicense?(0,Bb.jsx)("span",{className:"file-name",children:p.businessLicense.name}):(0,Bb.jsx)("span",{className:"upload-prompt",children:"Upload a copy of your business license"})})]})]}),(0,Bb.jsxs)("div",{className:"form-group",children:[(0,Bb.jsx)("label",{htmlFor:"identityProof",children:"Identity Proof *"}),(0,Bb.jsxs)("div",{className:"file-upload",children:[(0,Bb.jsx)("input",{type:"file",id:"identityProof",name:"identityProof",onChange:b,accept:".pdf,.jpg,.jpeg,.png",required:!0}),(0,Bb.jsx)("div",{className:"file-upload-info",children:p.identityProof?(0,Bb.jsx)("span",{className:"file-name",children:p.identityProof.name}):(0,Bb.jsx)("span",{className:"upload-prompt",children:"Upload a valid ID proof (passport, driver's license)"})})]})]}),(0,Bb.jsxs)("div",{className:"form-actions",children:[(0,Bb.jsx)("button",{type:"button",className:"btn-prev",onClick:x,children:"Previous"}),(0,Bb.jsx)("button",{type:"submit",className:"btn-submit",disabled:r||!p.businessLicense||!p.identityProof,children:r?"Submitting...":"Submit Application"})]})]})]})]})})},Ww=()=>(0,Bb.jsx)("div",{className:"provider-registration-page",children:(0,Bb.jsxs)("div",{className:"container",children:[(0,Bb.jsx)("h1",{className:"page-title",children:"Provider Registration"}),(0,Bb.jsx)("div",{className:"provider-registration-container",children:(0,Bb.jsx)(Hw,{})})]})}),Kw=()=>{const[e,t]=(0,i.useState)({totalRevenue:0,totalBookings:0,topPackages:[],monthlyRevenue:[]}),[n,r]=(0,i.useState)(!0),[s,a]=(0,i.useState)(null);return(0,i.useEffect)((()=>{(async()=>{try{const e=Mb.currentUser;if(!e)return void a("User not authenticated");const n=Qv(dv(Ub,"packages"),Xv("providerId","==",e.uid)),r=(await fy(n)).docs.map((e=>({id:e.id,...e.data()}))),i=Qv(dv(Ub,"bookings"),Xv("providerId","==",e.uid)),s=(await fy(i)).docs.map((e=>({id:e.id,...e.data()}))),o=s.reduce(((e,t)=>e+t.totalPrice),0),l=r.map((e=>({...e,bookingCount:s.filter((t=>t.packageId===e.id)).length}))).sort(((e,t)=>t.bookingCount-e.bookingCount)),c=s.reduce(((e,t)=>{const n=new Date(t.createdAt.toDate()).toLocaleString("default",{month:"short"});return e[n]=(e[n]||0)+t.totalPrice,e}),{});t({totalRevenue:o,totalBookings:s.length,topPackages:l.slice(0,3),monthlyRevenue:Object.entries(c).map((e=>{let[t,n]=e;return{month:t,revenue:n}}))})}catch(s){a("Error fetching analytics: "+s.message)}finally{r(!1)}})()}),[]),n?(0,Bb.jsx)("div",{children:"Loading analytics..."}):s?(0,Bb.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded relative",role:"alert",children:s}):(0,Bb.jsx)("div",{className:"container mx-auto p-6"})},Gw=()=>(0,Bb.jsx)("div",{className:"container mx-auto",children:(0,Bb.jsx)(Kw,{})}),Qw=()=>{var e;const t=ne(),[n,r]=(0,i.useState)(null),[s,a]=(0,i.useState)(!0);if((0,i.useEffect)((()=>{const e=Ei(Mb,(async e=>{if(e)try{const n=await dy(hv(Ub,"serviceProviders",e.uid));n.exists()?(r(n.data()),n.data().isVerified&&t("/provider/dashboard")):t("/provider/register")}catch(n){console.error("Error fetching provider data:",n)}finally{a(!1)}else t("/login")}));return()=>e()}),[t]),s)return(0,Bb.jsx)("div",{className:"verification-pending-container",children:(0,Bb.jsx)("div",{className:"loading-spinner"})});return(0,Bb.jsx)("div",{className:"verification-pending-container",children:(0,Bb.jsxs)("div",{className:"verification-pending-card",children:[(0,Bb.jsx)("div",{className:"status-icon pending"}),(0,Bb.jsx)("h2",{className:"verification-title",children:"Verification In Progress"}),(0,Bb.jsxs)("div",{className:"verification-info",children:[(0,Bb.jsx)("p",{children:"Thank you for registering as a service provider with Travenest. Our team is currently reviewing your application and verification documents."}),(0,Bb.jsxs)("div",{className:"status-details",children:[(0,Bb.jsxs)("div",{className:"status-item",children:[(0,Bb.jsx)("span",{className:"status-label",children:"Business Name:"}),(0,Bb.jsx)("span",{className:"status-value",children:null===n||void 0===n?void 0:n.businessName})]}),(0,Bb.jsxs)("div",{className:"status-item",children:[(0,Bb.jsx)("span",{className:"status-label",children:"Application Date:"}),(0,Bb.jsx)("span",{className:"status-value",children:(e=>{if(!e)return"N/A";const t=e.toDate();return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)})(null===n||void 0===n?void 0:n.createdAt)})]}),(0,Bb.jsxs)("div",{className:"status-item",children:[(0,Bb.jsx)("span",{className:"status-label",children:"Status:"}),(0,Bb.jsx)("span",{className:"status-badge pending",children:null===n||void 0===n||null===(e=n.verificationStatus)||void 0===e?void 0:e.toUpperCase()})]})]}),(0,Bb.jsx)("p",{className:"verification-note",children:"The verification process typically takes 1-3 business days. You will be notified via email once your application has been reviewed."})]}),(0,Bb.jsxs)("div",{className:"verification-steps",children:[(0,Bb.jsx)("h3",{children:"What's Next?"}),(0,Bb.jsxs)("div",{className:"step",children:[(0,Bb.jsx)("div",{className:"step-icon active",children:"1"}),(0,Bb.jsxs)("div",{className:"step-content",children:[(0,Bb.jsx)("h4",{children:"Application Submitted"}),(0,Bb.jsx)("p",{children:"Your application has been received by our team."})]})]}),(0,Bb.jsxs)("div",{className:"step",children:[(0,Bb.jsx)("div",{className:"step-icon",children:"2"}),(0,Bb.jsxs)("div",{className:"step-content",children:[(0,Bb.jsx)("h4",{children:"Document Verification"}),(0,Bb.jsx)("p",{children:"We are reviewing your submitted documents."})]})]}),(0,Bb.jsxs)("div",{className:"step",children:[(0,Bb.jsx)("div",{className:"step-icon",children:"3"}),(0,Bb.jsxs)("div",{className:"step-content",children:[(0,Bb.jsx)("h4",{children:"Account Approval"}),(0,Bb.jsx)("p",{children:"Once approved, you can start creating travel packages."})]})]})]}),(0,Bb.jsxs)("div",{className:"contact-support",children:[(0,Bb.jsx)("h3",{children:"Need Help?"}),(0,Bb.jsx)("p",{children:"If you have any questions regarding your application or need to update your information, please contact our support team."}),(0,Bb.jsx)("button",{className:"support-btn",children:"Contact Support"})]})]})})},Yw=()=>{var e,t;const[n,r]=(0,i.useState)([]),[s,a]=(0,i.useState)(null),[o,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(!1),[f,p]=(0,i.useState)("");(0,i.useEffect)((()=>{m()}),[]);const m=async()=>{l(!0);try{const e=Qv(dv(Ub,"serviceProviders"),Xv("verificationStatus","==","pending")),t=await fy(e),n=[];t.forEach((e=>{n.push({id:e.id,...e.data()})})),r(n)}catch(e){console.error("Error fetching pending providers:",e)}finally{l(!1)}},g=async e=>{if(s){h(!0);try{const t=hv(Ub,"serviceProviders",s.id);await my(t,{isVerified:"approve"===e,verificationStatus:"approve"===e?"approved":"rejected",verificationNotes:c,updatedAt:wy()}),r((e=>e.filter((e=>e.id!==s.id)))),p(`Provider ${"approve"===e?"approved":"rejected"} successfully.)`),a(null)}catch(t){console.error(`Error ${e}ing provider:, error)`)}finally{h(!1)}}},v=e=>{if(!e)return"N/A";const t=e.toDate();return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)};return(0,Bb.jsxs)("div",{className:"admin-verification-container",children:[(0,Bb.jsx)("h2",{className:"admin-section-title",children:"Service Provider Verification"}),f&&(0,Bb.jsx)("div",{className:"success-message",children:f}),(0,Bb.jsxs)("div",{className:"verification-panel",children:[(0,Bb.jsxs)("div",{className:"providers-list",children:[(0,Bb.jsx)("h3",{children:"Pending Verifications"}),o?(0,Bb.jsx)("div",{className:"loading-spinner"}):0===n.length?(0,Bb.jsx)("div",{className:"empty-state",children:(0,Bb.jsx)("p",{children:"No pending verification requests."})}):(0,Bb.jsx)("ul",{className:"providers-list-items",children:n.map((e=>(0,Bb.jsxs)("li",{className:"provider-list-item "+((null===s||void 0===s?void 0:s.id)===e.id?"active":""),onClick:()=>(e=>{a(e),u(""),p("")})(e),children:[(0,Bb.jsxs)("div",{className:"provider-list-content",children:[(0,Bb.jsx)("h4",{children:e.businessName}),(0,Bb.jsxs)("p",{children:["Applied: ",v(e.createdAt)]})]}),(0,Bb.jsx)("span",{className:"chevron",children:"\u203a"})]},e.id)))})]}),(0,Bb.jsx)("div",{className:"provider-details",children:s?(0,Bb.jsxs)("div",{className:"provider-detail-content",children:[(0,Bb.jsx)("h3",{children:"Business Details"}),(0,Bb.jsxs)("div",{className:"detail-section",children:[(0,Bb.jsxs)("div",{className:"detail-item",children:[(0,Bb.jsx)("span",{className:"detail-label",children:"Business Name"}),(0,Bb.jsx)("span",{className:"detail-value",children:s.businessName})]}),(0,Bb.jsxs)("div",{className:"detail-item",children:[(0,Bb.jsx)("span",{className:"detail-label",children:"Business Type"}),(0,Bb.jsx)("span",{className:"detail-value",children:s.businessType})]}),(0,Bb.jsxs)("div",{className:"detail-item",children:[(0,Bb.jsx)("span",{className:"detail-label",children:"Contact Phone"}),(0,Bb.jsx)("span",{className:"detail-value",children:s.contactPhone})]}),s.website&&(0,Bb.jsxs)("div",{className:"detail-item",children:[(0,Bb.jsx)("span",{className:"detail-label",children:"Website"}),(0,Bb.jsx)("span",{className:"detail-value",children:(0,Bb.jsx)("a",{href:s.website,target:"_blank",rel:"noopener noreferrer",children:s.website})})]})]}),(0,Bb.jsxs)("div",{className:"detail-section",children:[(0,Bb.jsx)("h4",{children:"Address"}),(0,Bb.jsx)("div",{className:"detail-item",children:(0,Bb.jsxs)("span",{className:"detail-value address",children:[s.address.street,", ",s.address.city,", ",s.address.state,", ",s.address.zipCode,", ",s.address.country]})})]}),(0,Bb.jsxs)("div",{className:"detail-section",children:[(0,Bb.jsx)("h4",{children:"Business Description"}),(0,Bb.jsx)("p",{className:"description-text",children:s.description})]}),(0,Bb.jsxs)("div",{className:"detail-section",children:[(0,Bb.jsx)("h4",{children:"Verification Documents"}),(0,Bb.jsxs)("div",{className:"documents-container",children:[(null===(e=s.verificationDocuments)||void 0===e?void 0:e.businessLicense)&&(0,Bb.jsxs)("div",{className:"document-item",children:[(0,Bb.jsx)("span",{className:"document-label",children:"Business License"}),(0,Bb.jsx)("a",{href:s.verificationDocuments.businessLicense,target:"_blank",rel:"noopener noreferrer",className:"document-link",children:"View Document"})]}),(null===(t=s.verificationDocuments)||void 0===t?void 0:t.identityProof)&&(0,Bb.jsxs)("div",{className:"document-item",children:[(0,Bb.jsx)("span",{className:"document-label",children:"Identity Proof"}),(0,Bb.jsx)("a",{href:s.verificationDocuments.identityProof,target:"_blank",rel:"noopener noreferrer",className:"document-link",children:"View Document"})]})]})]}),(0,Bb.jsxs)("div",{className:"verification-actions",children:[(0,Bb.jsxs)("div",{className:"verification-notes",children:[(0,Bb.jsx)("label",{htmlFor:"verificationNote",children:"Verification Notes"}),(0,Bb.jsx)("textarea",{id:"verificationNote",value:c,onChange:e=>u(e.target.value),placeholder:"Add verification notes or feedback for the provider...",rows:"4"})]}),(0,Bb.jsxs)("div",{className:"action-buttons",children:[(0,Bb.jsx)("button",{className:"reject-btn",onClick:()=>g("reject"),disabled:d,children:d?"Processing...":"Reject Application"}),(0,Bb.jsx)("button",{className:"approve-btn",onClick:()=>g("approve"),disabled:d,children:d?"Processing...":"Approve Provider"})]})]})]}):(0,Bb.jsx)("div",{className:"empty-details-state",children:(0,Bb.jsx)("p",{children:"Select a provider from the list to view details."})})})]})]})},Xw=()=>(0,Bb.jsxs)(xe,{children:[(0,Bb.jsx)(be,{path:"/",element:(0,Bb.jsx)(Yb,{})}),(0,Bb.jsx)(be,{path:"/login",element:(0,Bb.jsx)(Jb,{})}),(0,Bb.jsx)(be,{path:"/register",element:(0,Bb.jsx)(ew,{})}),(0,Bb.jsx)(be,{path:"/packages",element:(0,Bb.jsx)(sw,{})}),(0,Bb.jsx)(be,{path:"/packages/:packageId",element:(0,Bb.jsx)(ow,{})}),(0,Bb.jsx)(be,{path:"/booking/:packageId",element:(0,Bb.jsx)(uw,{})}),(0,Bb.jsx)(be,{path:"/payment/:bookingId",element:(0,Bb.jsx)(_w,{})}),(0,Bb.jsx)(be,{path:"/payment-test",element:(0,Bb.jsx)(Fw,{})}),(0,Bb.jsx)(be,{path:"/confirmation/:bookingId",element:(0,Bb.jsx)(jw,{})}),(0,Bb.jsx)(be,{path:"/dashboard",element:(0,Bb.jsx)(Aw,{})}),(0,Bb.jsx)(be,{path:"/dashboard/completed-bookings",element:(0,Bb.jsx)(Vw,{})})," ",(0,Bb.jsx)(be,{path:"/provider/dashboard",element:(0,Bb.jsx)(zw,{})}),(0,Bb.jsx)(be,{path:"/provider/profile",element:(0,Bb.jsx)($w,{})}),(0,Bb.jsx)(be,{path:"/provider/analytics",element:(0,Bb.jsx)(Gw,{})}),(0,Bb.jsx)(be,{path:"/provider/register",element:(0,Bb.jsx)(Ww,{})}),(0,Bb.jsx)(be,{path:"/provider/verification-pending",element:(0,Bb.jsx)(Qw,{})}),(0,Bb.jsx)(be,{path:"/admin",element:(0,Bb.jsx)(Ow,{})}),(0,Bb.jsx)(be,{path:"/admin/providers/verification",element:(0,Bb.jsx)(Yw,{})}),(0,Bb.jsx)(be,{path:"/custom-package",element:(0,Bb.jsx)(Uw,{})}),(0,Bb.jsx)(be,{path:"*",element:(0,Bb.jsx)(Lw,{})})]});const Jw=function(){const{pathname:e}=ee();return(0,i.useEffect)((()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})}),[e]),null},Zw=()=>(0,Bb.jsx)(je,{children:(0,Bb.jsxs)($b,{children:[(0,Bb.jsx)(Jw,{}),(0,Bb.jsxs)("div",{className:"app",children:[(0,Bb.jsx)(Gb,{}),(0,Bb.jsx)("main",{className:"main-content",children:(0,Bb.jsx)(Xw,{})}),(0,Bb.jsx)(Qb,{})]})]})});a.createRoot(document.getElementById("root")).render((0,Bb.jsx)(i.StrictMode,{children:(0,Bb.jsx)(Zw,{})}))})();
//# sourceMappingURL=main.c6fd0330.js.map