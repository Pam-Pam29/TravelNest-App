/*! For license information please see main.a14c8e3b.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,k=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:E.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function j(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+T(l,0):s,x(a)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),j(a,t,i,"",(function(e){return e}))):null!=a&&(_(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var u=s+T(o=e[c],c);l+=j(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=j(o=o.value,t,i,u=s+T(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],i=0;return j(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:E};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=E.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=N,t.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,R(k);else{var t=r(u);null!==t&&D(x,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,y(_),_=-1),p=!0;var s=f;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!j());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(c)&&i(c),w(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&D(x,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,N=null,_=-1,C=5,T=-1;function j(){return!(t.unstable_now()-T<C)}function I(){if(null!==N){var e=t.unstable_now();T=e;var n=!0;try{n=N(!0,e)}finally{n?E():(S=!1,N=null)}}else S=!1}if("function"===typeof b)E=function(){b(I)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=I,E=function(){P.postMessage(null)}}else E=function(){v(I,0)};function R(e){N=e,S||(S=!0,E())}function D(e,n){_=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(_),_=-1):g=!0,D(x,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,R(k))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),k=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,F=Object.assign;function M(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(zs){var r=zs}Reflect.construct(e,[],t)}else{try{t.call()}catch(zs){r=zs}e.call(t.prototype)}else{try{throw Error()}catch(zs){r=zs}e()}}catch(zs){if(zs&&r&&"string"===typeof zs.stack){for(var i=zs.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function z(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case k:return"Portal";case N:return"Profiler";case S:return"StrictMode";case j:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function $(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(iu){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function se(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Ee=null,Se=null;function Ne(e){if(e=bi(e)){if("function"!==typeof ke)throw Error(s(280));var t=e.stateNode;t&&(t=xi(t),ke(e.stateNode,e.type,t))}}function _e(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function Ce(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Te(e,t){return e(t)}function je(){}var Ie=!1;function Ae(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Te(e,t,n)}finally{Ie=!1,(null!==Ee||null!==Se)&&(je(),Ce())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Re=!1}function Oe(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Fe=null,Me=!1,Ue=null,Ve={onError:function(e){Le=!0,Fe=e}};function ze(e,t,n,r,i,s,a,o,l){Le=!1,Fe=null,Oe.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Be(e)!==e)throw Error(s(188))}function He(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return $e(i),e;if(a===r)return $e(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ht(o):0!==(s&=a)&&(r=ht(s))}else 0!==(a=n&~i)?r=ht(a):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,kt,Et,St,Nt,_t=!1,Ct=[],Tt=null,jt=null,It=null,At=new Map,Pt=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Nt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Mt(e)&&n.delete(t)}function Vt(){_t=!1,null!==Tt&&Mt(Tt)&&(Tt=null),null!==jt&&Mt(jt)&&(jt=null),null!==It&&Mt(It)&&(It=null),At.forEach(Ut),Pt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&zt(Tt,e),null!==jt&&zt(jt,e),null!==It&&zt(It,e),At.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var qt=w.ReactCurrentBatchConfig,$t=!0;function Ht(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Wt(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Kt(e,t,n,r){if($t){var i=Qt(e,t,n,r);if(null===i)$r(e,t,r,Gt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Lt(Tt,e,t,n,r,i),!0;case"dragenter":return jt=Lt(jt,e,t,n,r,i),!0;case"mouseover":return It=Lt(It,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return At.set(s,Lt(At.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pt.set(s,Lt(Pt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&xt(s),null===(s=Qt(e,t,n,r))&&$r(e,t,r,Gt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else $r(e,t,r,null,n)}}var Gt=null;function Qt(e,t,n,r){if(Gt=null,null!==(e=yi(e=xe(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=F({},cn,{view:0,detail:0}),dn=sn(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(F({},fn,{dataTransfer:0})),gn=sn(F({},hn,{relatedTarget:0})),vn=sn(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(F({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Nn(){return Sn}var _n=F({},hn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(_n),Tn=sn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=sn(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),In=sn(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=sn(An),Rn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Ln=u&&"TextEvent"in window&&!On,Fn=u&&(!Dn||On&&8<On&&11>=On),Mn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){_e(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Gn(e){Mr(e,0)}function Qn(e){if(K(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Kn=Wn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Hn(t,Kn,e,xe(e)),Ae(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function sr(e,t){if("click"===e)return Qn(t)}function ar(e,t){if("input"===e||"change"===e)return Qn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Er={},Sr={};function Nr(e){if(Er[e])return Er[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var _r=Nr("animationend"),Cr=Nr("animationiteration"),Tr=Nr("animationstart"),jr=Nr("transitionend"),Ir=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ir.set(e,t),l(t,[e])}for(var Rr=0;Rr<Ar.length;Rr++){var Dr=Ar[Rr];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(_r,"onAnimationEnd"),Pr(Cr,"onAnimationIteration"),Pr(Tr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(jr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=Fe;Le=!1,Fe=null,Me||(Me=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,o,c),s=l}}}if(Me)throw e=Ue,Me=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $r(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=yi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Ae((function(){var r=s,i=xe(n),a=[];e:{var o=Ir.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=jn;break;case _r:case Cr:case Tr:l=vn;break;case jr:l=In;break;case"scroll":l=dn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Pe(p,d))&&u.push(Hr(p,m,f)))),h)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(h=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:wi(l),f=null==c?o:wi(c),(o=new u(m,p+"leave",l,n,i)).target=h,o.relatedTarget=f,m=null,yi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=d;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)d=Kr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Kr(u),d=Kr(d)}u=null}else u=null;null!==l&&Gr(a,o,l,u,!1),null!==c&&null!==h&&Gr(a,h,c,u,!0)}if("select"===(l=(o=r?wi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Yn;else if($n(o))if(Xn)g=ar;else{g=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Hn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?wi(r):window,e){case"focusin":($n(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(v=Wr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Mn);case"textInput":return(e=t.data)===Mn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Mr(a,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pe(e,n))&&r.unshift(Hr(e,s,i)),null!=(s=Pe(e,t))&&r.push(Hr(e,s,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Pe(n,s))&&a.unshift(Hr(n,l,o)):i||null!=(l=Pe(n,s))&&a.push(Hr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function xi(e){return e[fi]||null}var ki=[],Ei=-1;function Si(e){return{current:e}}function Ni(e){0>Ei||(e.current=ki[Ei],ki[Ei]=null,Ei--)}function _i(e,t){Ei++,ki[Ei]=e.current,e.current=t}var Ci={},Ti=Si(Ci),ji=Si(!1),Ii=Ci;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ni(ji),Ni(Ti)}function Di(e,t,n){if(Ti.current!==Ci)throw Error(s(168));_i(Ti,t),_i(ji,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ii=Ti.current,_i(Ti,e),_i(ji,ji.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Oi(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,Ni(ji),Ni(Ti),_i(Ti,e)):Ni(ji),_i(ji,n)}var Mi=null,Ui=!1,Vi=!1;function zi(e){null===Mi?Mi=[e]:Mi.push(e)}function Bi(){if(!Vi&&null!==Mi){Vi=!0;var e=0,t=bt;try{var n=Mi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Mi=null,Ui=!1}catch(i){throw null!==Mi&&(Mi=Mi.slice(e+1)),Ke(Ze,Bi),i}finally{bt=t,Vi=!1}}return null}var qi=[],$i=0,Hi=null,Wi=0,Ki=[],Gi=0,Qi=null,Yi=1,Xi="";function Ji(e,t){qi[$i++]=Wi,qi[$i++]=Hi,Hi=e,Wi=t}function Zi(e,t,n){Ki[Gi++]=Yi,Ki[Gi++]=Xi,Ki[Gi++]=Qi,Qi=e;var r=Yi;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Xi=s+e}else Yi=1<<s|n<<i|r,Xi=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===Hi;)Hi=qi[--$i],qi[$i]=null,Wi=qi[--$i],qi[$i]=null;for(;e===Qi;)Qi=Ki[--Gi],Ki[Gi]=null,Xi=Ki[--Gi],Ki[Gi]=null,Yi=Ki[--Gi],Ki[Gi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Lc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Lc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)as(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Bc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===E?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&ys(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Uc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Vc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Uc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case k:return(t=qc(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Vc(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case k:return n.key===i?u(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:h(e,t,n,r,null);vs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return h(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,o[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=a(v,s,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===o.length)return n(i,h),is&&Ji(i,m),c;if(null===h){for(;m<o.length;m++)null!==(h=d(i,o[m],l))&&(s=a(h,s,m),null===u?c=h:u.sibling=h,u=h);return is&&Ji(i,m),c}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),is&&Ji(i,m),c}function g(i,o,l,c){var u=O(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===h?u=b:h.sibling=b,h=b,m=v}if(y.done)return n(i,m),is&&Ji(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,c))&&(o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return is&&Ji(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),is&&Ji(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===E){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&ys(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=gs(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===E?((s=Vc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Uc(a.type,a.key,a.props,null,r.mode,l)).ref=gs(r,s,a),l.return=r,r=l)}return o(r);case k:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=qc(a,r.mode,l)).return=r,r=s}return o(r);case P:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(O(a))return g(r,s,a,l);vs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Bc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var ws=bs(!0),xs=bs(!1),ks=Si(null),Es=null,Ss=null,Ns=null;function _s(){Ns=Ss=Es=null}function Cs(e){var t=ks.current;Ni(ks),e._currentValue=t}function Ts(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function js(e,t){Es=e,Ns=Ss=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Eo=!0),e.firstContext=null)}function Is(e){var t=e._currentValue;if(Ns!==e)if(e={context:e,memoizedValue:t,next:null},null===Ss){if(null===Es)throw Error(s(308));Ss=e,Es.dependencies={lanes:0,firstContext:e}}else Ss=Ss.next=e;return t}var As=null;function Ps(e){null===As?As=[e]:As.push(e)}function Rs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ps(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ds(e,r)}function Ds(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Os=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ms(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Us(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Rl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ds(e,n)}return null===(i=r.interleaved)?(t.next=t,Ps(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ds(e,n)}function Bs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function qs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $s(e,t,n,r){var i=e.updateQueue;Os=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(a=0,u=c=l=null,o=s;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:Os=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,a|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);zl|=a,e.lanes=a,e.memoizedState=h}}function Hs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Ws={},Ks=Si(Ws),Gs=Si(Ws),Qs=Si(Ws);function Xs(e){if(e===Ws)throw Error(s(174));return e}function Js(e,t){switch(_i(Qs,t),_i(Gs,e),_i(Ks,Ws),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ni(Ks),_i(Ks,t)}function Zs(){Ni(Ks),Ni(Gs),Ni(Qs)}function ta(e){Xs(Qs.current);var t=Xs(Ks.current),n=le(t,e.type);t!==n&&(_i(Gs,e),_i(Ks,n))}function na(e){Gs.current===e&&(Ni(Ks),Ni(Gs))}var ra=Si(0);function ia(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sa=[];function aa(){for(var e=0;e<sa.length;e++)sa[e]._workInProgressVersionPrimary=null;sa.length=0}var oa=w.ReactCurrentDispatcher,la=w.ReactCurrentBatchConfig,ca=0,ua=null,ha=null,da=null,fa=!1,pa=!1,ma=0,ga=0;function va(){throw Error(s(321))}function ya(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ba(e,t,n,r,i,a){if(ca=a,ua=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=null===e||null===e.memoizedState?no:ro,e=n(r,i),pa){a=0;do{if(pa=!1,ma=0,25<=a)throw Error(s(301));a+=1,da=ha=null,t.updateQueue=null,oa.current=io,e=n(r,i)}while(pa)}if(oa.current=to,t=null!==ha&&null!==ha.next,ca=0,da=ha=ua=null,fa=!1,t)throw Error(s(300));return e}function wa(){var e=0!==ma;return ma=0,e}function xa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===da?ua.memoizedState=da=e:da=da.next=e,da}function ka(){if(null===ha){var e=ua.alternate;e=null!==e?e.memoizedState:null}else e=ha.next;var t=null===da?ua.memoizedState:da.next;if(null!==t)da=t,ha=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ha=e).memoizedState,baseState:ha.baseState,baseQueue:ha.baseQueue,queue:ha.queue,next:null},null===da?ua.memoizedState=da=e:da=da.next=e}return da}function Ea(e,t){return"function"===typeof t?t(e):t}function Sa(e){var t=ka(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ha,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var h=u.lane;if((ca&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,o=r):c=c.next=d,ua.lanes|=h,zl|=h}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(Eo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ua.lanes|=a,zl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Na(e){var t=ka(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(Eo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function _a(){}function Ca(e,t){var n=ua,r=ka(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,Eo=!0),r=r.queue,Ua(Ia.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==da&&1&da.memoizedState.tag){if(n.flags|=2048,Da(9,ja.bind(null,n,r,i,t),void 0,null),null===Dl)throw Error(s(349));0!==(30&ca)||Ta(n,t,i)}return i}function Ta(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ua.updateQueue)?(t={lastEffect:null,stores:null},ua.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ja(e,t,n,r){t.value=n,t.getSnapshot=r,Aa(t)&&Pa(e)}function Ia(e,t,n){return n((function(){Aa(t)&&Pa(e)}))}function Aa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Pa(e){var t=Ds(e,1);null!==t&&oc(t,e,1,-1)}function Ra(e){var t=xa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:e},t.queue=e,e=e.dispatch=Xa.bind(null,ua,e),[t.memoizedState,e]}function Da(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ua.updateQueue)?(t={lastEffect:null,stores:null},ua.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Oa(){return ka().memoizedState}function La(e,t,n,r){var i=xa();ua.flags|=e,i.memoizedState=Da(1|t,n,void 0,void 0===r?null:r)}function Fa(e,t,n,r){var i=ka();r=void 0===r?null:r;var s=void 0;if(null!==ha){var a=ha.memoizedState;if(s=a.destroy,null!==r&&ya(r,a.deps))return void(i.memoizedState=Da(t,n,s,r))}ua.flags|=e,i.memoizedState=Da(1|t,n,s,r)}function Ma(e,t){return La(8390656,8,e,t)}function Ua(e,t){return Fa(2048,8,e,t)}function Va(e,t){return Fa(4,2,e,t)}function za(e,t){return Fa(4,4,e,t)}function Ba(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fa(4,4,Ba.bind(null,t,e),n)}function $a(){}function Ha(e,t){var n=ka();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ya(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wa(e,t){var n=ka();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ya(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ka(e,t,n){return 0===(21&ca)?(e.baseState&&(e.baseState=!1,Eo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),ua.lanes|=n,zl|=n,e.baseState=!0),t)}function Ga(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=la.transition;la.transition={};try{e(!1),t()}finally{bt=n,la.transition=r}}function Qa(){return ka().memoizedState}function Ya(e,t,n){var r=ac(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ja(e))Za(t,n);else if(null!==(n=Rs(e,t,n,r))){oc(n,e,r,sc()),eo(n,t,r)}}function Xa(e,t,n){var r=ac(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ja(e))Za(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Ps(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(zs){}null!==(n=Rs(e,t,i,r))&&(oc(n,e,r,i=sc()),eo(n,t,r))}}function Ja(e){var t=e.alternate;return e===ua||null!==t&&t===ua}function Za(e,t){pa=fa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var to={readContext:Is,useCallback:va,useContext:va,useEffect:va,useImperativeHandle:va,useInsertionEffect:va,useLayoutEffect:va,useMemo:va,useReducer:va,useRef:va,useState:va,useDebugValue:va,useDeferredValue:va,useTransition:va,useMutableSource:va,useSyncExternalStore:va,useId:va,unstable_isNewReconciler:!1},no={readContext:Is,useCallback:function(e,t){return xa().memoizedState=[e,void 0===t?null:t],e},useContext:Is,useEffect:Ma,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,La(4194308,4,Ba.bind(null,t,e),n)},useLayoutEffect:function(e,t){return La(4194308,4,e,t)},useInsertionEffect:function(e,t){return La(4,2,e,t)},useMemo:function(e,t){var n=xa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ya.bind(null,ua,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xa().memoizedState=e},useState:Ra,useDebugValue:$a,useDeferredValue:function(e){return xa().memoizedState=e},useTransition:function(){var e=Ra(!1),t=e[0];return e=Ga.bind(null,e[1]),xa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ua,i=xa();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Dl)throw Error(s(349));0!==(30&ca)||Ta(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ma(Ia.bind(null,r,a,e),[e]),r.flags|=2048,Da(9,ja.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=xa(),t=Dl.identifierPrefix;if(is){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=ma++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ga++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ro={readContext:Is,useCallback:Ha,useContext:Is,useEffect:Ua,useImperativeHandle:qa,useInsertionEffect:Va,useLayoutEffect:za,useMemo:Wa,useReducer:Sa,useRef:Oa,useState:function(){return Sa(Ea)},useDebugValue:$a,useDeferredValue:function(e){return Ka(ka(),ha.memoizedState,e)},useTransition:function(){return[Sa(Ea)[0],ka().memoizedState]},useMutableSource:_a,useSyncExternalStore:Ca,useId:Qa,unstable_isNewReconciler:!1},io={readContext:Is,useCallback:Ha,useContext:Is,useEffect:Ua,useImperativeHandle:qa,useInsertionEffect:Va,useLayoutEffect:za,useMemo:Wa,useReducer:Na,useRef:Oa,useState:function(){return Na(Ea)},useDebugValue:$a,useDeferredValue:function(e){var t=ka();return null===ha?t.memoizedState=e:Ka(t,ha.memoizedState,e)},useTransition:function(){return[Na(Ea)[0],ka().memoizedState]},useMutableSource:_a,useSyncExternalStore:Ca,useId:Qa,unstable_isNewReconciler:!1};function so(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ao(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var oo={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=sc(),i=ac(e),s=Us(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Vs(e,s,i))&&(oc(t,e,i,r),Bs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=sc(),i=ac(e),s=Us(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Vs(e,s,i))&&(oc(t,e,i,r),Bs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=sc(),r=ac(e),i=Us(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Vs(e,i,r))&&(oc(t,e,r,n),Bs(t,e,r))}};function lo(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function co(e,t,n){var r=!1,i=Ci,s=t.contextType;return"object"===typeof s&&null!==s?s=Is(s):(i=Pi(t)?Ii:Ti.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ci),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function uo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oo.enqueueReplaceState(t,t.state,null)}function ho(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Is(s):(s=Pi(t)?Ii:Ti.current,i.context=Ai(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ao(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&oo.enqueueReplaceState(i,i.state,null),$s(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function fo(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function po(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function mo(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var go="function"===typeof WeakMap?WeakMap:Map;function vo(e,t,n){(n=Us(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ql||(Ql=!0,Yl=r),mo(0,t)},n}function yo(e,t,n){(n=Us(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){mo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){mo(0,t),"function"!==typeof r&&(null===Xl?Xl=new Set([this]):Xl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function bo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new go;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function wo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Us(-1,1)).tag=2,Vs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ko=w.ReactCurrentOwner,Eo=!1;function No(e,t,n,r){t.child=null===e?xs(t,null,n,r):ws(t,e.child,n,r)}function _o(e,t,n,r,i){n=n.render;var s=t.ref;return js(t,i),r=ba(e,t,n,r,s,i),n=wa(),null===e||Eo?(is&&n&&es(t),t.flags|=1,No(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qo(e,t,i))}function Co(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Fc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Uc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,To(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Qo(e,t,i)}return t.flags|=1,(e=Mc(s,r)).ref=t.ref,e.return=t,t.child=e}function To(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(Eo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Qo(e,t,i);0!==(131072&e.flags)&&(Eo=!0)}}return Ao(e,t,n,r,i)}function jo(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_i(Ml,Fl),Fl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_i(Ml,Fl),Fl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,_i(Ml,Fl),Fl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,_i(Ml,Fl),Fl|=r;return No(e,t,i,n),t.child}function Io(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ao(e,t,n,r,i){var s=Pi(n)?Ii:Ti.current;return s=Ai(t,s),js(t,i),n=ba(e,t,n,r,s,i),r=wa(),null===e||Eo?(is&&r&&es(t),t.flags|=1,No(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qo(e,t,i))}function Po(e,t,n,r,i){if(Pi(n)){var s=!0;Li(t)}else s=!1;if(js(t,i),null===t.stateNode)Go(e,t),co(t,n,r),ho(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Is(c):c=Ai(t,c=Pi(n)?Ii:Ti.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&uo(t,a,r,c),Os=!1;var d=t.memoizedState;a.state=d,$s(t,r,a,i),l=t.memoizedState,o!==r||d!==l||ji.current||Os?("function"===typeof u&&(ao(t,n,u,r),l=t.memoizedState),(o=Os||lo(t,n,o,r,d,l,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ms(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:so(t.type,o),a.props=c,h=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Is(l):l=Ai(t,l=Pi(n)?Ii:Ti.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==l)&&uo(t,a,r,l),Os=!1,d=t.memoizedState,a.state=d,$s(t,r,a,i);var p=t.memoizedState;o!==h||d!==p||ji.current||Os?("function"===typeof f&&(ao(t,n,f,r),p=t.memoizedState),(c=Os||lo(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ro(e,t,n,r,s,i)}function Ro(e,t,n,r,i,s){Io(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Fi(t,n,!1),Qo(e,t,s);r=t.stateNode,ko.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,o,s)):No(e,t,o,s),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Do(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Js(e,t.containerInfo)}function Oo(e,t,n,r,i){return fs(),ps(i),t.flags|=256,No(e,t,n,r),t.child}var Lo,Fo,Mo,Uo,Vo={dehydrated:null,treeContext:null,retryLane:0};function zo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bo(e,t,n){var r,i=t.pendingProps,a=ra.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),_i(ra,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=zc(l,i,0,null),e=Vc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=zo(n),t.memoizedState=Vo,e):qo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,$o(e,t,o,r=po(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=zc({mode:"visible",children:r.children},i,0,null),(a=Vc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,o),t.child.memoizedState=zo(o),t.memoizedState=Vo,a);if(0===(1&t.mode))return $o(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,$o(e,t,o,r=po(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),Eo||l){if(null!==(r=Dl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ds(e,i),oc(r,e,i,-1))}return wc(),$o(e,t,o,r=po(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Pc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Ki[Gi++]=Yi,Ki[Gi++]=Xi,Ki[Gi++]=Qi,Yi=e.id,Xi=e.overflow,Qi=t),t=qo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Mc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Mc(r,o):(o=Vc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?zo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Vo,i}return e=(o=e.child).sibling,i=Mc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function qo(e,t){return(t=zc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $o(e,t,n,r){return null!==r&&ps(r),ws(t,e.child,null,n),(e=qo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ho(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ts(e.return,t,n)}function Wo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ko(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(No(e,t,r.children,n),0!==(2&(r=ra.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ho(e,n,t);else if(19===e.tag)Ho(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(ra,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ia(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Wo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ia(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Wo(t,!0,n,null,s);break;case"together":Wo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Go(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Mc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yo(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Jo(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xo(t),null;case 1:case 17:return Pi(t.type)&&Ri(),Xo(t),null;case 3:return r=t.stateNode,Zs(),Ni(ji),Ni(Ti),aa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(hc(ss),ss=null))),Fo(e,t),Xo(t),null;case 5:na(t);var i=Xs(Qs.current);if(n=t.type,null!==e&&null!=t.stateNode)Mo(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Xo(t),null}if(e=Xs(Ks.current),hs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":W(r),Z(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Lo(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Ur("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Xo(t),null;case 6:if(e&&null!=t.stateNode)Uo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Xs(Qs.current),Xs(Ks.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Xo(t),null;case 13:if(Ni(ra),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,a=!1;else if(a=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Xo(t),a=!1}else null!==ss&&(hc(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ra.current)?0===Ul&&(Ul=3):wc())),null!==t.updateQueue&&(t.flags|=4),Xo(t),null);case 4:return Zs(),Fo(e,t),null===e&&Br(t.stateNode.containerInfo),Xo(t),null;case 10:return Cs(t.type._context),Xo(t),null;case 19:if(Ni(ra),null===(a=t.memoizedState))return Xo(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Yo(a,!1);else{if(0!==Ul||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ia(e))){for(t.flags|=128,Yo(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(ra,1&ra.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Kl&&(t.flags|=128,r=!0,Yo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ia(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Yo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Xo(t),null}else 2*Xe()-a.renderingStartTime>Kl&&1073741824!==n&&(t.flags|=128,r=!0,Yo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=ra.current,_i(ra,r?1&n|2:1&n),t):(Xo(t),null);case 22:case 23:return gc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Fl)&&(Xo(t),6&t.subtreeFlags&&(t.flags|=8192)):Xo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Zo(e,t){switch(ts(t),t.tag){case 1:return Pi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Zs(),Ni(ji),Ni(Ti),aa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return na(t),null;case 13:if(Ni(ra),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ni(ra),null;case 4:return Zs(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return gc(),null;default:return null}}Lo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Fo=function(){},Mo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xs(Ks.current);var s,a=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Uo=function(e,t,n,r){n!==r&&(t.flags|=4)};var el=!1,tl=!1,nl="function"===typeof WeakSet?WeakSet:Set,rl=null;function il(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){jc(e,t,r)}else n.current=null}function sl(e,t,n){try{n()}catch(r){jc(e,t,r)}}var al=!1;function ol(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&sl(t,n,s)}i=i.next}while(i!==r)}}function ll(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function cl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ul(e){var t=e.alternate;null!==t&&(e.alternate=null,ul(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hl(e){return 5===e.tag||3===e.tag||4===e.tag}function dl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||hl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function fl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(fl(e,t,n),e=e.sibling;null!==e;)fl(e,t,n),e=e.sibling}function pl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(pl(e,t,n),e=e.sibling;null!==e;)pl(e,t,n),e=e.sibling}var ml=null,gl=!1;function vl(e,t,n){for(n=n.child;null!==n;)yl(e,t,n),n=n.sibling}function yl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:tl||il(n,t);case 6:var r=ml,i=gl;ml=null,vl(e,t,n),gl=i,null!==(ml=r)&&(gl?(e=ml,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ml.removeChild(n.stateNode));break;case 18:null!==ml&&(gl?(e=ml,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(ml,n.stateNode));break;case 4:r=ml,i=gl,ml=n.stateNode.containerInfo,gl=!0,vl(e,t,n),ml=r,gl=i;break;case 0:case 11:case 14:case 15:if(!tl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&sl(n,t,a),i=i.next}while(i!==r)}vl(e,t,n);break;case 1:if(!tl&&(il(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){jc(n,t,o)}vl(e,t,n);break;case 21:vl(e,t,n);break;case 22:1&n.mode?(tl=(r=tl)||null!==n.memoizedState,vl(e,t,n),tl=r):vl(e,t,n);break;default:vl(e,t,n)}}function bl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new nl),t.forEach((function(t){var r=Rc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function wl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ml=l.stateNode,gl=!1;break e;case 3:case 4:ml=l.stateNode.containerInfo,gl=!0;break e}l=l.return}if(null===ml)throw Error(s(160));yl(a,o,i),ml=null,gl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(zs){jc(i,t,zs)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)xl(t,e),t=t.sibling}function xl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wl(t,e),kl(e),4&r){try{ol(3,e,e.return),ll(3,e)}catch(g){jc(e,e.return,g)}try{ol(5,e,e.return)}catch(g){jc(e,e.return,g)}}break;case 1:wl(t,e),kl(e),512&r&&null!==n&&il(n,n.return);break;case 5:if(wl(t,e),kl(e),512&r&&null!==n&&il(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){jc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),be(l,o);var u=be(l,a);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,u)}switch(l){case"input":J(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){jc(e,e.return,g)}}break;case 6:if(wl(t,e),kl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){jc(e,e.return,g)}}break;case 3:if(wl(t,e),kl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){jc(e,e.return,g)}break;case 4:default:wl(t,e),kl(e);break;case 13:wl(t,e),kl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Wl=Xe())),4&r&&bl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(tl=(u=tl)||h,wl(t,e),tl=u):wl(t,e),kl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(rl=e,h=e.child;null!==h;){for(d=rl=h;null!==rl;){switch(p=(f=rl).child,f.tag){case 0:case 11:case 14:case 15:ol(4,f,f.return);break;case 1:il(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){jc(r,n,g)}}break;case 5:il(f,f.return);break;case 22:if(null!==f.memoizedState){_l(d);continue}}null!==p?(p.return=f,rl=p):_l(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,o=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){jc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){jc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:wl(t,e),kl(e),4&r&&bl(e);case 21:}}function kl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(hl(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),pl(e,dl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;fl(e,dl(e),a);break;default:throw Error(s(161))}}catch(Fs){jc(e,e.return,Fs)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function El(e,t,n){rl=e,Sl(e,t,n)}function Sl(e,t,n){for(var r=0!==(1&e.mode);null!==rl;){var i=rl,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||el;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||tl;o=el;var c=tl;if(el=a,(tl=l)&&!c)for(rl=i;null!==rl;)l=(a=rl).child,22===a.tag&&null!==a.memoizedState?Cl(i):null!==l?(l.return=a,rl=l):Cl(i);for(;null!==s;)rl=s,Sl(s,t,n),s=s.sibling;rl=i,el=o,tl=c}Nl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,rl=s):Nl(e)}}function Nl(e){for(;null!==rl;){var t=rl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:tl||ll(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!tl)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:so(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Hs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(s(163))}tl||512&t.flags&&cl(t)}catch(Ys){jc(t,t.return,Ys)}}if(t===e){rl=null;break}if(null!==(n=t.sibling)){n.return=t.return,rl=n;break}rl=t.return}}function _l(e){for(;null!==rl;){var t=rl;if(t===e){rl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,rl=n;break}rl=t.return}}function Cl(e){for(;null!==rl;){var t=rl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ll(4,t)}catch(Fs){jc(t,n,Fs)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(Fs){jc(t,i,Fs)}}var s=t.return;try{cl(t)}catch(Fs){jc(t,s,Fs)}break;case 5:var a=t.return;try{cl(t)}catch(Fs){jc(t,a,Fs)}}}catch(Fs){jc(t,t.return,Fs)}if(t===e){rl=null;break}var o=t.sibling;if(null!==o){o.return=t.return,rl=o;break}rl=t.return}}var Tl,jl=Math.ceil,Il=w.ReactCurrentDispatcher,Al=w.ReactCurrentOwner,Pl=w.ReactCurrentBatchConfig,Rl=0,Dl=null,Ol=null,Ll=0,Fl=0,Ml=Si(0),Ul=0,Vl=null,zl=0,Bl=0,ql=0,$l=null,Hl=null,Wl=0,Kl=1/0,Gl=null,Ql=!1,Yl=null,Xl=null,Jl=!1,Zl=null,ec=0,tc=0,nc=null,rc=-1,ic=0;function sc(){return 0!==(6&Rl)?Xe():-1!==rc?rc:rc=Xe()}function ac(e){return 0===(1&e.mode)?1:0!==(2&Rl)&&0!==Ll?Ll&-Ll:null!==ms.transition?(0===ic&&(ic=mt()),ic):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function oc(e,t,n,r){if(50<tc)throw tc=0,nc=null,Error(s(185));vt(e,n,r),0!==(2&Rl)&&e===Dl||(e===Dl&&(0===(2&Rl)&&(Bl|=n),4===Ul&&dc(e,Ll)),lc(e,r),1===n&&0===Rl&&0===(1&t.mode)&&(Kl=Xe()+500,Ui&&Bi()))}function lc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=dt(e,e===Dl?Ll:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(fc.bind(null,e)):zi(fc.bind(null,e)),ai((function(){0===(6&Rl)&&Bi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Dc(n,cc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function cc(e,t){if(rc=-1,ic=0,0!==(6&Rl))throw Error(s(327));var n=e.callbackNode;if(Cc()&&e.callbackNode!==n)return null;var r=dt(e,e===Dl?Ll:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=xc(e,r);else{t=r;var i=Rl;Rl|=2;var a=bc();for(Dl===e&&Ll===t||(Gl=null,Kl=Xe()+500,vc(e,t));;)try{Ec();break}catch(l){yc(e,l)}_s(),Il.current=a,Rl=i,null!==Ol?t=0:(Dl=null,Ll=0,t=Ul)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=uc(e,i))),1===t)throw n=Vl,vc(e,0),dc(e,r),lc(e,Xe()),n;if(6===t)dc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=xc(e,r))&&(0!==(a=pt(e))&&(r=a,t=uc(e,a))),1===t))throw n=Vl,vc(e,0),dc(e,r),lc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:_c(e,Hl,Gl);break;case 3:if(dc(e,r),(130023424&r)===r&&10<(t=Wl+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){sc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,Hl,Gl),t);break}_c(e,Hl,Gl);break;case 4:if(dc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jl(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,Hl,Gl),r);break}_c(e,Hl,Gl);break;default:throw Error(s(329))}}}return lc(e,Xe()),e.callbackNode===n?cc.bind(null,e):null}function uc(e,t){var n=$l;return e.current.memoizedState.isDehydrated&&(vc(e,t).flags|=256),2!==(e=xc(e,t))&&(t=Hl,Hl=n,null!==t&&hc(t)),e}function hc(e){null===Hl?Hl=e:Hl.push.apply(Hl,e)}function dc(e,t){for(t&=~ql,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function fc(e){if(0!==(6&Rl))throw Error(s(327));Cc();var t=dt(e,0);if(0===(1&t))return lc(e,Xe()),null;var n=xc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=uc(e,r))}if(1===n)throw n=Vl,vc(e,0),dc(e,t),lc(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,Hl,Gl),lc(e,Xe()),null}function pc(e,t){var n=Rl;Rl|=1;try{return e(t)}finally{0===(Rl=n)&&(Kl=Xe()+500,Ui&&Bi())}}function mc(e){null!==Zl&&0===Zl.tag&&0===(6&Rl)&&Cc();var t=Rl;Rl|=1;var n=Pl.transition,r=bt;try{if(Pl.transition=null,bt=1,e)return e()}finally{bt=r,Pl.transition=n,0===(6&(Rl=t))&&Bi()}}function gc(){Fl=Ml.current,Ni(Ml)}function vc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ol)for(n=Ol.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:Zs(),Ni(ji),Ni(Ti),aa();break;case 5:na(r);break;case 4:Zs();break;case 13:case 19:Ni(ra);break;case 10:Cs(r.type._context);break;case 22:case 23:gc()}n=n.return}if(Dl=e,Ol=e=Mc(e.current,null),Ll=Fl=t,Ul=0,Vl=null,ql=Bl=zl=0,Hl=$l=null,null!==As){for(t=0;t<As.length;t++)if(null!==(r=(n=As[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}As=null}return e}function yc(e,t){for(;;){var n=Ol;try{if(_s(),oa.current=to,fa){for(var r=ua.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}fa=!1}if(ca=0,da=ha=ua=null,pa=!1,ma=0,Al.current=null,null===n||null===n.return){Ul=1,Vl=t,Ol=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Ll,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=wo(o);if(null!==p){p.flags&=-257,xo(p,o,l,0,t),1&p.mode&&bo(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){bo(a,u,t),wc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=wo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),xo(v,o,l,0,t),ps(fo(c,l));break e}}a=c=fo(c,l),4!==Ul&&(Ul=2),null===$l?$l=[a]:$l.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,qs(a,vo(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Xl||!Xl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,qs(a,yo(a,l,t));break e}}a=a.return}while(null!==a)}Nc(n)}catch(ea){t=ea,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function bc(){var e=Il.current;return Il.current=to,null===e?to:e}function wc(){0!==Ul&&3!==Ul&&2!==Ul||(Ul=4),null===Dl||0===(268435455&zl)&&0===(268435455&Bl)||dc(Dl,Ll)}function xc(e,t){var n=Rl;Rl|=2;var r=bc();for(Dl===e&&Ll===t||(Gl=null,vc(e,t));;)try{kc();break}catch(i){yc(e,i)}if(_s(),Rl=n,Il.current=r,null!==Ol)throw Error(s(261));return Dl=null,Ll=0,Ul}function kc(){for(;null!==Ol;)Sc(Ol)}function Ec(){for(;null!==Ol&&!Qe();)Sc(Ol)}function Sc(e){var t=Tl(e.alternate,e,Fl);e.memoizedProps=e.pendingProps,null===t?Nc(e):Ol=t,Al.current=null}function Nc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Jo(n,t,Fl)))return void(Ol=n)}else{if(null!==(n=Zo(n,t)))return n.flags&=32767,void(Ol=n);if(null===e)return Ul=6,void(Ol=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ol=t);Ol=t=e}while(null!==t);0===Ul&&(Ul=5)}function _c(e,t,n){var r=bt,i=Pl.transition;try{Pl.transition=null,bt=1,function(e,t,n,r){do{Cc()}while(null!==Zl);if(0!==(6&Rl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Dl&&(Ol=Dl=null,Ll=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Jl||(Jl=!0,Dc(tt,(function(){return Cc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Pl.transition,Pl.transition=null;var o=bt;bt=1;var l=Rl;Rl|=4,Al.current=null,function(e,t){if(ei=$t,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(So){n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==a||0!==r&&3!==d.nodeType||(c=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++h===r&&(c=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},$t=!1,rl=t;null!==rl;)if(e=(t=rl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,rl=e;else for(;null!==rl;){t=rl;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:so(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(So){jc(t,t.return,So)}if(null!==(e=t.sibling)){e.return=t.return,rl=e;break}rl=t.return}m=al,al=!1}(e,n),xl(n,e),pr(ti),$t=!!ei,ti=ei=null,e.current=n,El(n,e,i),Ye(),Rl=l,bt=o,Pl.transition=a}else e.current=n;if(Jl&&(Jl=!1,Zl=e,ec=i),a=e.pendingLanes,0===a&&(Xl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),lc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ql)throw Ql=!1,e=Yl,Yl=null,e;0!==(1&ec)&&0!==e.tag&&Cc(),a=e.pendingLanes,0!==(1&a)?e===nc?tc++:(tc=0,nc=e):tc=0,Bi()}(e,t,n,r)}finally{Pl.transition=i,bt=r}return null}function Cc(){if(null!==Zl){var e=wt(ec),t=Pl.transition,n=bt;try{if(Pl.transition=null,bt=16>e?16:e,null===Zl)var r=!1;else{if(e=Zl,Zl=null,ec=0,0!==(6&Rl))throw Error(s(331));var i=Rl;for(Rl|=4,rl=e.current;null!==rl;){var a=rl,o=a.child;if(0!==(16&rl.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(rl=u;null!==rl;){var h=rl;switch(h.tag){case 0:case 11:case 15:ol(8,h,a)}var d=h.child;if(null!==d)d.return=h,rl=d;else for(;null!==rl;){var f=(h=rl).sibling,p=h.return;if(ul(h),h===u){rl=null;break}if(null!==f){f.return=p,rl=f;break}rl=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}rl=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,rl=o;else e:for(;null!==rl;){if(0!==(2048&(a=rl).flags))switch(a.tag){case 0:case 11:case 15:ol(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,rl=y;break e}rl=a.return}}var b=e.current;for(rl=b;null!==rl;){var w=(o=rl).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,rl=w;else e:for(o=b;null!==rl;){if(0!==(2048&(l=rl).flags))try{switch(l.tag){case 0:case 11:case 15:ll(9,l)}}catch(ea){jc(l,l.return,ea)}if(l===o){rl=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,rl=x;break e}rl=l.return}}if(Rl=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(ea){}r=!0}return r}finally{bt=n,Pl.transition=t}}return!1}function Tc(e,t,n){e=Vs(e,t=vo(0,t=fo(n,t),1),1),t=sc(),null!==e&&(vt(e,1,t),lc(e,t))}function jc(e,t,n){if(3===e.tag)Tc(e,e,n);else for(;null!==t;){if(3===t.tag){Tc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xl||!Xl.has(r))){t=Vs(t,e=yo(t,e=fo(n,e),1),1),e=sc(),null!==t&&(vt(t,1,e),lc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=sc(),e.pingedLanes|=e.suspendedLanes&n,Dl===e&&(Ll&n)===n&&(4===Ul||3===Ul&&(130023424&Ll)===Ll&&500>Xe()-Wl?vc(e,0):ql|=n),lc(e,t)}function Ac(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=sc();null!==(e=Ds(e,t))&&(vt(e,t,n),lc(e,n))}function Pc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ac(e,n)}function Rc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Ac(e,n)}function Dc(e,t){return Ke(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lc(e,t,n,r){return new Oc(e,t,n,r)}function Fc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var n=e.alternate;return null===n?((n=Lc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Uc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Fc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case E:return Vc(n.children,i,a,t);case S:o=8,i|=8;break;case N:return(e=Lc(12,n,t,2|i)).elementType=N,e.lanes=a,e;case j:return(e=Lc(13,n,t,i)).elementType=j,e.lanes=a,e;case I:return(e=Lc(19,n,t,i)).elementType=I,e.lanes=a,e;case R:return zc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:o=10;break e;case C:o=9;break e;case T:o=11;break e;case A:o=14;break e;case P:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Lc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Vc(e,t,n,r){return(e=Lc(7,e,r,t)).lanes=n,e}function zc(e,t,n,r){return(e=Lc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Bc(e,t,n){return(e=Lc(6,e,null,t)).lanes=n,e}function qc(e,t,n){return(t=Lc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $c(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hc(e,t,n,r,i,s,a,o,l){return e=new $c(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Lc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function Wc(e){if(!e)return Ci;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Oi(e,n,t)}return t}function Kc(e,t,n,r,i,s,a,o,l){return(e=Hc(n,r,!0,e,0,s,0,o,l)).context=Wc(null),n=e.current,(s=Us(r=sc(),i=ac(n))).callback=void 0!==t&&null!==t?t:null,Vs(n,s,i),e.current.lanes=i,vt(e,i,r),lc(e,r),e}function Gc(e,t,n,r){var i=t.current,s=sc(),a=ac(i);return n=Wc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Us(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Vs(i,t,a))&&(oc(e,i,a,s),Bs(e,i,a)),a}function Qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xc(e,t){Yc(e,t),(e=e.alternate)&&Yc(e,t)}Tl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ji.current)Eo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Eo=!1,function(e,t,n){switch(t.tag){case 3:Do(t),fs();break;case 5:ta(t);break;case 1:Pi(t.type)&&Li(t);break;case 4:Js(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(ks,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(ra,1&ra.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Bo(e,t,n):(_i(ra,1&ra.current),null!==(e=Qo(e,t,n))?e.sibling:null);_i(ra,1&ra.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ko(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(ra,ra.current),r)break;return null;case 22:case 23:return t.lanes=0,jo(e,t,n)}return Qo(e,t,n)}(e,t,n);Eo=0!==(131072&e.flags)}else Eo=!1,is&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Go(e,t),e=t.pendingProps;var i=Ai(t,Ti.current);js(t,n),i=ba(null,t,r,e,i,n);var a=wa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ls(t),i.updater=oo,t.stateNode=i,i._reactInternals=t,ho(t,r,e,n),t=Ro(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),No(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Go(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Fc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===A)return 14}return 2}(r),e=so(r,e),i){case 0:t=Ao(null,t,r,e,n);break e;case 1:t=Po(null,t,r,e,n);break e;case 11:t=_o(null,t,r,e,n);break e;case 14:t=Co(null,t,r,so(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ao(e,t,r,i=t.elementType===r?i:so(r,i),n);case 1:return r=t.type,i=t.pendingProps,Po(e,t,r,i=t.elementType===r?i:so(r,i),n);case 3:e:{if(Do(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ms(e,t),$s(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Oo(e,t,r,n,i=fo(Error(s(423)),t));break e}if(r!==i){t=Oo(e,t,r,n,i=fo(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Qo(e,t,n);break e}No(e,t,r,n)}t=t.child}return t;case 5:return ta(t),null===e&&cs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),Io(e,t),No(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Bo(e,t,n);case 4:return Js(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):No(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_o(e,t,r,i=t.elementType===r?i:so(r,i),n);case 7:return No(e,t,t.pendingProps,n),t.child;case 8:case 12:return No(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,_i(ks,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!ji.current){t=Qo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Us(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ts(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ts(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}No(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,js(t,n),r=r(i=Is(i)),t.flags|=1,No(e,t,r,n),t.child;case 14:return i=so(r=t.type,t.pendingProps),Co(e,t,r,i=so(r.type,i),n);case 15:return To(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:so(r,i),Go(e,t),t.tag=1,Pi(r)?(e=!0,Li(t)):e=!1,js(t,n),co(t,r,i),ho(t,r,i,n),Ro(null,t,r,!0,e,n);case 19:return Ko(e,t,n);case 22:return jo(e,t,n)}throw Error(s(156,t.tag))};var Jc="function"===typeof reportError?reportError:function(e){console.error(e)};function Zc(e){this._internalRoot=e}function eu(e){this._internalRoot=e}function tu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function nu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ru(){}function su(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Qc(a);o.call(e)}}Gc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Qc(a);s.call(e)}}var a=Kc(t,r,e,0,null,!1,0,"",ru);return e._reactRootContainer=a,e[pi]=a.current,Br(8===e.nodeType?e.parentNode:e),mc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Qc(l);o.call(e)}}var l=Hc(e,0,!1,null,0,!1,0,"",ru);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),mc((function(){Gc(t,l,n,r)})),l}(n,t,e,i,r);return Qc(a)}eu.prototype.render=Zc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Gc(e,t,null,null)},eu.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mc((function(){Gc(null,e,null,null)})),t[pi]=null}},eu.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),lc(t,Xe()),0===(6&Rl)&&(Kl=Xe()+500,Bi()))}break;case 13:mc((function(){var t=Ds(e,1);if(null!==t){var n=sc();oc(t,e,1,n)}})),Xc(e,1)}},kt=function(e){if(13===e.tag){var t=Ds(e,134217728);if(null!==t)oc(t,e,134217728,sc());Xc(e,134217728)}},Et=function(e){if(13===e.tag){var t=ac(e),n=Ds(e,t);if(null!==n)oc(n,e,t,sc());Xc(e,t)}},St=function(){return bt},Nt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(s(90));K(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=pc,je=mc;var au={usingClientEntryPoint:!1,Events:[bi,wi,xi,_e,Ce,pc]},ou={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lu={bundleType:ou.bundleType,version:ou.version,rendererPackageName:ou.rendererPackageName,rendererConfig:ou.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:ou.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cu.isDisabled&&cu.supportsFiber)try{it=cu.inject(lu),st=cu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=au,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!tu(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!tu(e))throw Error(s(299));var n=!1,r="",i=Jc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Hc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Zc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return mc(e)},t.hydrate=function(e,t,n){if(!nu(t))throw Error(s(200));return su(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!tu(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Jc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Kc(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new eu(t)},t.render=function(e,t,n){if(!nu(t))throw Error(s(200));return su(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nu(e))throw Error(s(40));return!!e._reactRootContainer&&(mc((function(){su(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=pc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nu(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return su(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/";var r,i=n(43),s=n.t(i,2),a=n(391),o=n(950),l=n.t(o,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,o=s.history,l=r.Pop,d=null,g=v();function v(){return(o.state||{idx:null}).idx}function y(){l=r.Pop;let e=v(),t=null==e?null:e-g;g=e,d&&d({action:l,location:w.location,delta:t})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),h(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,o.replaceState(c({},o.state,{idx:g}),""));let w={get action(){return l},get location(){return e(s,o)},listen(e){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(u,y),d=e,()=>{s.removeEventListener(u,y),d=null}},createHref:e=>t(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let i=p(w.location,e,t);n&&n(i,e),g=v()+1;let c=f(i,g),u=w.createHref(i);try{o.pushState(c,"",u)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;s.location.assign(u)}a&&d&&d({action:l,location:w.location,delta:1})},replace:function(e,t){l=r.Replace;let i=p(w.location,e,t);n&&n(i,e),g=v();let s=f(i,g),c=w.createHref(i);o.replaceState(s,"",c),a&&d&&d({action:l,location:w.location,delta:0})},go:e=>o.go(e)};return w}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){return void 0===n&&(n="/"),w(e,t,n,!1)}function w(e,t,n,r){let i=D(("string"===typeof t?g(t):t).pathname||"/",n);if(null==i)return null;let s=x(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=R(i);a=A(s[o],e,r)}return a}function x(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(h(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=U([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),x(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:I(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of k(e.path))i(e,t,r);else i(e,t)})),t}function k(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=k(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const E=/^:[\w-]+$/,S=3,N=2,_=1,C=10,T=-2,j=e=>"*"===e;function I(e,t){let n=e.split("/"),r=n.length;return n.some(j)&&(r+=T),t&&(r+=N),n.filter((e=>!j(e))).reduce(((e,t)=>e+(E.test(t)?S:""===t?_:C)),r)}function A(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:U([s,u.pathname]),pathnameBase:V(U([s,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(s=U([s,u.pathnameBase]))}return a}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:a,pattern:e}}function R(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function O(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function F(e,t){let n=L(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function M(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=g(e):(i=c({},e),h(!i.pathname||!i.pathname.includes("?"),O("?","pathname","search",i)),h(!i.pathname||!i.pathname.includes("#"),O("#","pathname","hash",i)),h(!i.search||!i.search.includes("#"),O("#","search","hash",i)));let s,a=""===e||""===i.pathname,o=a?"/":i.pathname;if(null==o)s=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?g(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:z(r),hash:B(i)}}(i,s),u=o&&"/"!==o&&o.endsWith("/"),d=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!d||(l.pathname+="/"),l}const U=e=>e.join("/").replace(/\/\/+/g,"/"),V=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const $=["post","put","patch","delete"],H=(new Set($),["get",...$]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}const K=i.createContext(null);const G=i.createContext(null);const Q=i.createContext(null);const Y=i.createContext(null);const X=i.createContext({outlet:null,matches:[],isDataRoute:!1});const J=i.createContext(null);function Z(){return null!=i.useContext(Y)}function ee(){return Z()||h(!1),i.useContext(Y).location}function te(e){i.useContext(Q).static||i.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=i.useContext(X);return e?function(){let{router:e}=fe(he.UseNavigateStable),t=me(de.UseNavigateStable),n=i.useRef(!1);te((()=>{n.current=!0}));let r=i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,W({fromRouteId:t},i)))}),[e,t]);return r}():function(){Z()||h(!1);let e=i.useContext(K),{basename:t,future:n,navigator:r}=i.useContext(Q),{matches:s}=i.useContext(X),{pathname:a}=ee(),o=JSON.stringify(F(s,n.v7_relativeSplatPath)),l=i.useRef(!1);te((()=>{l.current=!0}));let c=i.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=M(n,JSON.parse(o),a,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:U([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)}),[t,r,o,a,e]);return c}()}function re(){let{matches:e}=i.useContext(X),t=e[e.length-1];return t?t.params:{}}function ie(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(Q),{matches:s}=i.useContext(X),{pathname:a}=ee(),o=JSON.stringify(F(s,r.v7_relativeSplatPath));return i.useMemo((()=>M(e,JSON.parse(o),a,"path"===n)),[e,o,a,n])}function se(e,t,n,s){Z()||h(!1);let{navigator:a,static:o}=i.useContext(Q),{matches:l}=i.useContext(X),c=l[l.length-1],u=c?c.params:{},d=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let f,p=ee();if(t){var m;let e="string"===typeof t?g(t):t;"/"===d||(null==(m=e.pathname)?void 0:m.startsWith(d))||h(!1),f=e}else f=p;let v=f.pathname||"/",y=v;if("/"!==d){let e=d.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=!o&&n&&n.matches&&n.matches.length>0?n.matches:b(e,{pathname:y});let x=ue(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:U([d,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:U([d,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,n,s);return t&&x?i.createElement(Y.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:r.Pop}},x):x}function ae(){let e=function(){var e;let t=i.useContext(J),n=pe(de.UseRouteError),r=me(de.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const oe=i.createElement(ae,null);class le extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(X.Provider,{value:this.props.routeContext},i.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(K);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(X.Provider,{value:t},r)}function ue(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=o.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||h(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<o.length;i++){let e=o[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight(((e,r,s)=>{let a,h=!1,d=null,f=null;var p;n&&(a=l&&r.route.id?l[r.route.id]:void 0,d=r.route.errorElement||oe,c&&(u<0&&0===s?(p="route-fallback",!1||ge[p]||(ge[p]=!0),h=!0,f=null):u===s&&(h=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,s+1)),g=()=>{let t;return t=a?d:h?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(ce,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(le,{location:n.location,revalidation:n.revalidation,component:d,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var he=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(he||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function fe(e){let t=i.useContext(K);return t||h(!1),t}function pe(e){let t=i.useContext(G);return t||h(!1),t}function me(e){let t=function(){let e=i.useContext(X);return e||h(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||h(!1),n.route.id}const ge={};function ve(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function ye(e){let{to:t,replace:n,state:r,relative:s}=e;Z()||h(!1);let{future:a,static:o}=i.useContext(Q),{matches:l}=i.useContext(X),{pathname:c}=ee(),u=ne(),d=M(t,F(l,a.v7_relativeSplatPath),c,"path"===s),f=JSON.stringify(d);return i.useEffect((()=>u(JSON.parse(f),{replace:n,state:r,relative:s})),[u,f,s,n,r]),null}function be(e){h(!1)}function we(e){let{basename:t="/",children:n=null,location:s,navigationType:a=r.Pop,navigator:o,static:l=!1,future:c}=e;Z()&&h(!1);let u=t.replace(/^\/*/,"/"),d=i.useMemo((()=>({basename:u,navigator:o,static:l,future:W({v7_relativeSplatPath:!1},c)})),[u,c,o,l]);"string"===typeof s&&(s=g(s));let{pathname:f="/",search:p="",hash:m="",state:v=null,key:y="default"}=s,b=i.useMemo((()=>{let e=D(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:v,key:y},navigationType:a}}),[u,f,p,m,v,y,a]);return null==b?null:i.createElement(Q.Provider,{value:d},i.createElement(Y.Provider,{children:n,value:b}))}function xe(e){let{children:t,location:n}=e;return function(e,t){return se(e,t)}(ke(t),n)}new Promise((()=>{}));i.Component;function ke(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,ke(e.props.children,s));e.type!==be&&h(!1),e.props.index&&e.props.children&&h(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ke(e.props.children,s)),n.push(a)})),n}function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(this,arguments)}function Se(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ne=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(cw){}new Map;const _e=s.startTransition;l.flushSync,s.useId;function Ce(e){let{basename:t,children:n,future:r,window:s}=e,a=i.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),v((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return p("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:m(t)}),null,o)));let l=a.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},d=i.useCallback((e=>{h&&_e?_e((()=>u(e))):u(e)}),[u,h]);return i.useLayoutEffect((()=>l.listen(d)),[l,d]),i.useEffect((()=>ve(r)),[r]),i.createElement(we,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Te="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,je=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ie=i.forwardRef((function(e,t){let n,{onClick:r,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,p=Se(e,Ne),{basename:g}=i.useContext(Q),v=!1;if("string"===typeof u&&je.test(u)&&(n=u,Te))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=D(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:v=!0}catch(cw){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;Z()||h(!1);let{basename:r,navigator:s}=i.useContext(Q),{hash:a,pathname:o,search:l}=ie(e,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:U([r,o])),s.createHref({pathname:c,search:l,hash:a})}(u,{relative:s}),b=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:o,viewTransition:l}=void 0===t?{}:t,c=ne(),u=ee(),h=ie(e,{relative:o});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:m(u)===m(h);c(e,{replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l})}}),[u,c,h,r,s,n,e,a,o,l])}(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});return i.createElement("a",Ee({},p,{href:n||y,onClick:v||a?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));var Ae,Pe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ae||(Ae={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Pe||(Pe={}));const Re=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Re(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new Oe;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Oe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Le=function(e){return function(e){const t=Re(e);return De.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Fe=function(e){try{return De.decodeString(e,!0)}catch(cw){console.error("base64Decode failed: ",cw)}return null};const Me=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Ue=()=>{try{return Me()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(cw){return}const t=e&&Fe(e[1]);return t&&JSON.parse(t)})()}catch(cw){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${cw}`)}},Ve=e=>{var t,n;return null===(n=null===(t=Ue())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},ze=e=>{const t=Ve(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Be=()=>{var e;return null===(e=Ue())||void 0===e?void 0:e.config},qe=e=>{var t;return null===(t=Ue())||void 0===t?void 0:t[`_${e}`]};class $e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function He(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Le(JSON.stringify({alg:"none",type:"JWT"})),Le(JSON.stringify(s)),""].join(".")}function We(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ke(){try{return"object"===typeof indexedDB}catch(cw){return!1}}class Ge extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ge.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qe.prototype.create)}}class Qe{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(Ye,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new Ge(n,s,t)}}const Ye=/\{\$([^}]+)}/g;function Xe(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Je(n)&&Je(s)){if(!Xe(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Je(e){return null!==e&&"object"===typeof e}function Ze(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function et(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function tt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class nt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=rt),void 0===r.error&&(r.error=rt),void 0===r.complete&&(r.complete=rt);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(cw){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(cw){"undefined"!==typeof console&&console.error&&console.error(cw)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function rt(){}function it(e){return e&&e._delegate?e._delegate:e}class st{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const at="[DEFAULT]";class ot{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new $e;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(cw){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(cw){if(r)return null;throw cw}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:at})}catch(cw){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(cw){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===at?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at;return this.component?this.component.multipleInstances?e:at:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class lt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ot(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ct=[];var ut;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ut||(ut={}));const ht={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},dt=ut.INFO,ft={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},pt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=ft[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...s)};class mt{constructor(e){this.name=e,this._logLevel=dt,this._logHandler=pt,this._userLogHandler=null,ct.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?ht[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...t),this._logHandler(this,ut.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...t),this._logHandler(this,ut.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ut.INFO,...t),this._logHandler(this,ut.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ut.WARN,...t),this._logHandler(this,ut.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...t),this._logHandler(this,ut.ERROR,...t)}}let gt,vt;const yt=new WeakMap,bt=new WeakMap,wt=new WeakMap,xt=new WeakMap,kt=new WeakMap;let Et={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return bt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||wt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _t(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function St(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(vt||(vt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ct(this),n),_t(yt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _t(e.apply(Ct(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Ct(this),t,...r);return wt.set(s,t.sort?t.sort():[t]),_t(s)}}function Nt(e){return"function"===typeof e?St(e):(e instanceof IDBTransaction&&function(e){if(bt.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));bt.set(e,t)}(e),t=e,(gt||(gt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Et):e);var t}function _t(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(_t(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&yt.set(t,e)})).catch((()=>{})),kt.set(t,e),t}(e);if(xt.has(e))return xt.get(e);const t=Nt(e);return t!==e&&(xt.set(e,t),kt.set(t,e)),t}const Ct=e=>kt.get(e);const Tt=["get","getKey","getAll","getAllKeys","count"],jt=["put","add","delete","clear"],It=new Map;function At(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(It.get(t))return It.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=jt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Tt.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return It.set(t,s),s}Et=(e=>({...e,get:(t,n,r)=>At(t,n)||e.get(t,n,r),has:(t,n)=>!!At(t,n)||e.has(t,n)}))(Et);class Pt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Rt="@firebase/app",Dt="0.9.13",Ot=new mt("@firebase/app"),Lt="@firebase/app-compat",Ft="@firebase/analytics-compat",Mt="@firebase/analytics",Ut="@firebase/app-check-compat",Vt="@firebase/app-check",zt="@firebase/auth",Bt="@firebase/auth-compat",qt="@firebase/database",$t="@firebase/database-compat",Ht="@firebase/functions",Wt="@firebase/functions-compat",Kt="@firebase/installations",Gt="@firebase/installations-compat",Qt="@firebase/messaging",Yt="@firebase/messaging-compat",Xt="@firebase/performance",Jt="@firebase/performance-compat",Zt="@firebase/remote-config",en="@firebase/remote-config-compat",tn="@firebase/storage",nn="@firebase/storage-compat",rn="@firebase/firestore",sn="@firebase/firestore-compat",an="firebase",on="[DEFAULT]",ln={[Rt]:"fire-core",[Lt]:"fire-core-compat",[Mt]:"fire-analytics",[Ft]:"fire-analytics-compat",[Vt]:"fire-app-check",[Ut]:"fire-app-check-compat",[zt]:"fire-auth",[Bt]:"fire-auth-compat",[qt]:"fire-rtdb",[$t]:"fire-rtdb-compat",[Ht]:"fire-fn",[Wt]:"fire-fn-compat",[Kt]:"fire-iid",[Gt]:"fire-iid-compat",[Qt]:"fire-fcm",[Yt]:"fire-fcm-compat",[Xt]:"fire-perf",[Jt]:"fire-perf-compat",[Zt]:"fire-rc",[en]:"fire-rc-compat",[tn]:"fire-gcs",[nn]:"fire-gcs-compat",[rn]:"fire-fst",[sn]:"fire-fst-compat","fire-js":"fire-js",[an]:"fire-js-all"},cn=new Map,un=new Map;function hn(e,t){try{e.container.addComponent(t)}catch(cw){Ot.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,cw)}}function dn(e){const t=e.name;if(un.has(t))return Ot.debug(`There were multiple attempts to register component ${t}.`),!1;un.set(t,e);for(const n of cn.values())hn(n,e);return!0}function fn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const pn=new Qe("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class mn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new st("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pn.create("app-deleted",{appName:this._name})}}const gn="9.23.0";function vn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:on,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw pn.create("bad-app-name",{appName:String(i)});if(n||(n=Be()),!n)throw pn.create("no-options");const s=cn.get(i);if(s){if(Xe(n,s.options)&&Xe(r,s.config))return s;throw pn.create("duplicate-app",{appName:i})}const a=new lt(i);for(const l of un.values())a.addComponent(l);const o=new mn(n,r,a);return cn.set(i,o),o}function yn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on;const t=cn.get(e);if(!t&&e===on&&Be())return vn();if(!t)throw pn.create("no-app",{appName:e});return t}function bn(e,t,n){var r;let i=null!==(r=ln[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Ot.warn(e.join(" "))}dn(new st(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const wn="firebase-heartbeat-store";let xn=null;function kn(){return xn||(xn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=_t(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(_t(a.result),e.oldVersion,e.newVersion,_t(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(wn)}}).catch((e=>{throw pn.create("idb-open",{originalErrorMessage:e.message})}))),xn}async function En(e,t){try{const n=(await kn()).transaction(wn,"readwrite"),r=n.objectStore(wn);await r.put(t,Sn(e)),await n.done}catch(cw){if(cw instanceof Ge)Ot.warn(cw.message);else{const t=pn.create("idb-set",{originalErrorMessage:null===cw||void 0===cw?void 0:cw.message});Ot.warn(t.message)}}}function Sn(e){return`${e.name}!${e.options.appId}`}class Nn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Cn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=_n();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=_n(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Tn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Tn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Le(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function _n(){return(new Date).toISOString().substring(0,10)}class Cn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ke()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await kn();return await t.transaction(wn).objectStore(wn).get(Sn(e))}catch(cw){if(cw instanceof Ge)Ot.warn(cw.message);else{const t=pn.create("idb-get",{originalErrorMessage:null===cw||void 0===cw?void 0:cw.message});Ot.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return En(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return En(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Tn(e){return Le(JSON.stringify({version:2,heartbeats:e})).length}var jn;jn="",dn(new st("platform-logger",(e=>new Pt(e)),"PRIVATE")),dn(new st("heartbeat",(e=>new Nn(e)),"PRIVATE")),bn(Rt,Dt,jn),bn(Rt,Dt,"esm2017"),bn("fire-js","");function In(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function An(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Pn=An,Rn=new Qe("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Dn=new mt("@firebase/auth");function On(e){if(Dn.logLevel<=ut.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Dn.error(`Auth (${gn}): ${e}`,...n)}}function Ln(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Un(e,...n)}function Fn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Un(e,...n)}function Mn(e,t,n){const r=Object.assign(Object.assign({},Pn()),{[t]:n});return new Qe("auth","Firebase",r).create(t,{appName:e.name})}function Un(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Rn.create(e,...n)}function Vn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Un(t,...r)}}function zn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw On(t),new Error(t)}function Bn(e,t){e||zn(t)}function qn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function $n(){return"http:"===Hn()||"https:"===Hn()}function Hn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Wn(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&($n()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Kn{constructor(e,t){this.shortDelay=e,this.longDelay=t,Bn(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Wn()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gn(e,t){Bn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Qn{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Yn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Xn=new Kn(3e4,6e4);function Jn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Zn(e,t,n,r){return er(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=Ze(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),Qn.fetch()(nr(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))}))}async function er(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Yn),t);try{const t=new rr(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw ir(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw ir(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw ir(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw ir(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Mn(e,o,a);Ln(e,o)}}catch(cw){if(cw instanceof Ge)throw cw;Ln(e,"network-request-failed",{message:String(cw)})}}async function tr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Zn(e,t,n,r,i);return"mfaPendingCredential"in s&&Ln(e,"multi-factor-auth-required",{_serverResponse:s}),s}function nr(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Gn(e.config,i):`${e.config.apiScheme}://${i}`}class rr{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Fn(this.auth,"network-request-failed"))),Xn.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function ir(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Fn(e,t,r);return i.customData._tokenResponse=n,i}function sr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(cw){}}function ar(e){return 1e3*Number(e)}function or(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return On("JWT malformed, contained fewer than 3 sections"),null;try{const e=Fe(n);return e?JSON.parse(e):(On("Failed to decode base64 JWT payload"),null)}catch(cw){return On("Caught error parsing JWT payload as JSON",null===cw||void 0===cw?void 0:cw.toString()),null}}async function lr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(cw){throw cw instanceof Ge&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(cw)&&e.auth.currentUser===e&&await e.auth.signOut(),cw}}class cr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(cw){return void("auth/network-request-failed"===(null===cw||void 0===cw?void 0:cw.code)&&this.schedule(!0))}this.schedule()}}class ur{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=sr(this.lastLoginAt),this.creationTime=sr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await lr(e,async function(e,t){return Zn(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Vn(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=In(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const o=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new ur(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class dr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Vn(e.idToken,"internal-error"),Vn("undefined"!==typeof e.idToken,"internal-error"),Vn("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=or(e);return Vn(t,"internal-error"),Vn("undefined"!==typeof t.exp,"internal-error"),Vn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Vn(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await er(e,{},(async()=>{const n=Ze({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=nr(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Qn.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new dr;return n&&(Vn("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Vn("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Vn("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dr,this.toJSON())}_performRefresh(){return zn("not implemented")}}function fr(e,t){Vn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class pr{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=In(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ur(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await lr(this,this.stsTokenManager.getToken(this.auth,e));return Vn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=it(e),r=await n.getIdToken(t),i=or(r);Vn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:sr(ar(i.auth_time)),issuedAtTime:sr(ar(i.iat)),expirationTime:sr(ar(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=it(e);await hr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Vn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new pr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Vn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await hr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await lr(this,async function(e,t){return Zn(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:k}=t;Vn(y&&k,e,"internal-error");const E=dr.fromJSON(this.name,k);Vn("string"===typeof y,e,"internal-error"),fr(u,e.name),fr(h,e.name),Vn("boolean"===typeof b,e,"internal-error"),Vn("boolean"===typeof w,e,"internal-error"),fr(d,e.name),fr(f,e.name),fr(p,e.name),fr(m,e.name),fr(g,e.name),fr(v,e.name);const S=new pr({uid:y,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:v});return x&&Array.isArray(x)&&(S.providerData=x.map((e=>Object.assign({},e)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new dr;r.updateFromServerResponse(t);const i=new pr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await hr(i),i}}const mr=new Map;function gr(e){Bn(e instanceof Function,"Expected a class definition");let t=mr.get(e);return t?(Bn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,mr.set(e,t),t)}class vr{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}vr.type="NONE";const yr=vr;function br(e,t,n){return`firebase:${e}:${t}:${n}`}class wr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=br(this.userKey,r.apiKey,i),this.fullPersistenceKey=br("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?pr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new wr(gr(yr),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||gr(yr);const s=br(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=pr._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new wr(i,e,n)):new wr(i,e,n)}}function xr(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Nr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(kr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Cr(t))return"Blackberry";if(Tr(t))return"Webos";if(Er(t))return"Safari";if((t.includes("chrome/")||Sr(t))&&!t.includes("edge/"))return"Chrome";if(_r(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function kr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/firefox\//i.test(e)}function Er(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:We()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Sr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/crios\//i.test(e)}function Nr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/iemobile/i.test(e)}function _r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/android/i.test(e)}function Cr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/blackberry/i.test(e)}function Tr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/webos/i.test(e)}function jr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ir(){return function(){const e=We();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Ar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return jr(e)||_r(e)||Tr(e)||Cr(e)||/windows phone/i.test(e)||Nr(e)}function Pr(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=xr(We());break;case"Worker":t=`${xr(We())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${gn}/${r}`}async function Rr(e,t){return Zn(e,"GET","/v2/recaptchaConfig",Jn(e,t))}function Dr(e){return void 0!==e&&void 0!==e.enterprise}class Or{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function Lr(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Fn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Fr(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Mr{constructor(e){this.type="recaptcha-enterprise",this.auth=Br(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Dr(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Rr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Or(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Dr(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Lr("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Ur(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Mr(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}class Vr{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(cw){r(cw)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(cw){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===cw||void 0===cw?void 0:cw.message})}}}class zr{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qr(this),this.idTokenSubscription=new qr(this),this.beforeStateQueue=new Vr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=gr(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await wr.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(cw){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(cw){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(cw)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Vn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(cw){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await hr(e)}catch(cw){if("auth/network-request-failed"!==(null===cw||void 0===cw?void 0:cw.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?it(e):null;return t&&Vn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Vn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(gr(e))}))}async initializeRecaptchaConfig(){const e=await Rr(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new Or(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new Mr(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qe("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&gr(e)||this._popupRedirectResolver;Vn(t,this,"argument-error"),this.redirectPersistenceManager=await wr.create(this,[gr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return Vn(s,this,"internal-error"),s.then((()=>i(this.currentUser))),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Vn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Pr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Dn.logLevel<=ut.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Dn.warn(`Auth (${gn}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Br(e){return it(e)}class qr{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new nt(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Vn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function $r(e,t,n){const r=Br(e);Vn(r._canInitEmulator,r,"emulator-config-failed"),Vn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Hr(t),{host:a,port:o}=function(e){const t=Hr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Wr(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Wr(t)}}}(t),l=null===o?"":`:${o}`;r.config.emulator={url:`${s}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Hr(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Wr(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Kr{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zn("not implemented")}_getIdTokenResponse(e){return zn("not implemented")}_linkToIdToken(e,t){return zn("not implemented")}_getReauthenticationResolver(e){return zn("not implemented")}}async function Gr(e,t){return Zn(e,"POST","/v1/accounts:update",t)}async function Qr(e,t){return tr(e,"POST","/v1/accounts:signInWithPassword",Jn(e,t))}async function Yr(e,t){return Zn(e,"POST","/v1/accounts:sendOobCode",Jn(e,t))}async function Xr(e,t){return Yr(e,t)}class Jr extends Kr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Jr(e,t,"password")}static _fromEmailAndCode(e,t){return new Jr(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Ur(e,n,"signInWithPassword");return Qr(e,t)}return Qr(e,n).catch((async t=>{if("auth/missing-recaptcha-token"===t.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Ur(e,n,"signInWithPassword");return Qr(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return tr(e,"POST","/v1/accounts:signInWithEmailLink",Jn(e,t))}(e,{email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Gr(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return tr(e,"POST","/v1/accounts:signInWithEmailLink",Jn(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Zr(e,t){return tr(e,"POST","/v1/accounts:signInWithIdp",Jn(e,t))}class ei extends Kr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ei(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ln("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=In(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new ei(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Zr(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Zr(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Zr(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ze(t)}return e}}const ti={USER_NOT_FOUND:"user-not-found"};class ni extends Kr{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ni({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ni({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return tr(e,"POST","/v1/accounts:signInWithPhoneNumber",Jn(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await tr(e,"POST","/v1/accounts:signInWithPhoneNumber",Jn(e,t));if(n.temporaryProof)throw ir(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return tr(e,"POST","/v1/accounts:signInWithPhoneNumber",Jn(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ti)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ni({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ri{constructor(e){var t,n,r,i,s,a;const o=et(tt(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Vn(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=et(tt(e)).link,n=t?et(tt(t)).deep_link_id:null,r=et(tt(e)).deep_link_id;return(r?et(tt(r)).link:null)||r||n||t||e}(e);try{return new ri(t)}catch(n){return null}}}class ii{constructor(){this.providerId=ii.PROVIDER_ID}static credential(e,t){return Jr._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ri.parseLink(t);return Vn(n,"argument-error"),Jr._fromEmailAndCode(e,n.code,n.tenantId)}}ii.PROVIDER_ID="password",ii.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ii.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class si{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ai extends si{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class oi extends ai{constructor(){super("facebook.com")}static credential(e){return ei._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return oi.credential(t.oauthAccessToken)}catch(n){return null}}}oi.FACEBOOK_SIGN_IN_METHOD="facebook.com",oi.PROVIDER_ID="facebook.com";class li extends ai{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ei._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return li.credential(n,r)}catch(i){return null}}}li.GOOGLE_SIGN_IN_METHOD="google.com",li.PROVIDER_ID="google.com";class ci extends ai{constructor(){super("github.com")}static credential(e){return ei._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ci.credential(t.oauthAccessToken)}catch(n){return null}}}ci.GITHUB_SIGN_IN_METHOD="github.com",ci.PROVIDER_ID="github.com";class ui extends ai{constructor(){super("twitter.com")}static credential(e,t){return ei._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ui.credential(n,r)}catch(i){return null}}}async function hi(e,t){return tr(e,"POST","/v1/accounts:signUp",Jn(e,t))}ui.TWITTER_SIGN_IN_METHOD="twitter.com",ui.PROVIDER_ID="twitter.com";class di{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await pr._fromIdTokenResponse(e,n,r),s=fi(n);return new di({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=fi(n);return new di({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function fi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class pi extends Ge{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,pi.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new pi(e,t,n,r)}}function mi(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw pi._fromErrorAndOperation(e,n,t,r);throw n}))}async function gi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await lr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return di._forOperation(e,"link",r)}async function vi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await lr(e,mi(r,i,t,e),n);Vn(s.idToken,r,"internal-error");const a=or(s.idToken);Vn(a,r,"internal-error");const{sub:o}=a;return Vn(e.uid===o,r,"user-mismatch"),di._forOperation(e,i,s)}catch(cw){throw"auth/user-not-found"===(null===cw||void 0===cw?void 0:cw.code)&&Ln(r,"user-mismatch"),cw}}async function yi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await mi(e,r,t),s=await di._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function bi(e,t){return yi(Br(e),t)}function wi(e,t,n){var r;Vn((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Vn("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Vn(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Vn(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function xi(e,t,n){var r;const i=Br(e),s={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let a;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Ur(i,s,"signUpPassword");a=hi(i,e)}else a=hi(i,s).catch((async e=>{if("auth/missing-recaptcha-token"===e.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await Ur(i,s,"signUpPassword");return hi(i,e)}return Promise.reject(e)}));const o=await a.catch((e=>Promise.reject(e))),l=await di._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(l.user),l}async function ki(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=it(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await lr(i,async function(e,t){return Zn(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const o=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));o&&(o.displayName=i.displayName,o.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}new WeakMap;const Ei="__sak";class Si{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ei,"1"),this.storage.removeItem(Ei),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Ni extends Si{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=We();return Er(e)||jr(e)}()&&function(){try{return!(!window||window===window.top)}catch(cw){return!1}}(),this.fallbackToPolling=Ar(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Ir()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ni.type="LOCAL";const _i=Ni;class Ci extends Si{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ci.type="SESSION";const Ti=Ci;class ji{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new ji(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ii(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ji.receivers=[];class Ai{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const l=Ii("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Pi(){return window}function Ri(){return"undefined"!==typeof Pi().WorkerGlobalScope&&"function"===typeof Pi().importScripts}const Di="firebaseLocalStorageDb",Oi="firebaseLocalStorage",Li="fbase_key";class Fi{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Mi(e,t){return e.transaction([Oi],t?"readwrite":"readonly").objectStore(Oi)}function Ui(){const e=indexedDB.open(Di,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Oi,{keyPath:Li})}catch(cw){n(cw)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Oi)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Di);return new Fi(e).toPromise()}(),t(await Ui()))}))}))}async function Vi(e,t,n){const r=Mi(e,!0).put({[Li]:t,value:n});return new Fi(r).toPromise()}function zi(e,t){const n=Mi(e,!0).delete(t);return new Fi(n).toPromise()}class Bi{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Ui()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(cw){if(t++>3)throw cw;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ri()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ji._getInstance(Ri()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ai(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ui();return await Vi(e,Ei,"1"),await zi(e,Ei),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Vi(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Mi(e,!1).get(t),r=await new Fi(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>zi(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Mi(e,!1).getAll();return new Fi(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Bi.type="LOCAL";const qi=Bi;Fr("rcb"),new Kn(3e4,6e4);const $i="recaptcha";async function Hi(e,t,n){var r;const i=await n.verify();try{let s;if(Vn("string"===typeof i,e,"argument-error"),Vn(n.type===$i,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Vn("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Zn(e,"POST","/v2/accounts/mfaEnrollment:start",Jn(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Vn("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Vn(n,e,"missing-multi-factor-info");const a=await function(e,t){return Zn(e,"POST","/v2/accounts/mfaSignIn:start",Jn(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Zn(e,"POST","/v1/accounts:sendVerificationCode",Jn(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Wi{constructor(e){this.providerId=Wi.PROVIDER_ID,this.auth=Br(e)}verifyPhoneNumber(e,t){return Hi(this.auth,e,it(t))}static credential(e,t){return ni._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Wi.credentialFromTaggedObject(t)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ni._fromTokenResponse(n,r):null}}function Ki(e,t){return t?gr(t):(Vn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Wi.PROVIDER_ID="phone",Wi.PHONE_SIGN_IN_METHOD="phone";class Gi extends Kr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Zr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Zr(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Qi(e){return yi(e.auth,new Gi(e),e.bypassAuthState)}function Yi(e){const{auth:t,user:n}=e;return Vn(n,t,"internal-error"),vi(n,new Gi(e),e.bypassAuthState)}async function Xi(e){const{auth:t,user:n}=e;return Vn(n,t,"internal-error"),gi(n,new Gi(e),e.bypassAuthState)}class Ji{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(cw){this.reject(cw)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(cw){this.reject(cw)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Qi;case"linkViaPopup":case"linkViaRedirect":return Xi;case"reauthViaPopup":case"reauthViaRedirect":return Yi;default:Ln(this.auth,"internal-error")}}resolve(e){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Zi=new Kn(2e3,1e4);class es extends Ji{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,es.currentPopupAction&&es.currentPopupAction.cancel(),es.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Vn(e,this.auth,"internal-error"),e}async onExecution(){Bn(1===this.filter.length,"Popup operations only handle one event");const e=Ii();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Fn(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,es.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Fn(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Zi.get())};e()}}es.currentPopupAction=null;const ts=new Map;class ns extends Ji{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ts.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=ss(t),r=is(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(cw){e=()=>Promise.reject(cw)}ts.set(this.auth._key(),e)}return this.bypassAuthState||ts.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function rs(e,t){ts.set(e._key(),t)}function is(e){return gr(e._redirectPersistence)}function ss(e){return br("pendingRedirect",e.config.apiKey,e.name)}async function as(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Br(e),i=Ki(r,t),s=new ns(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class os{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cs(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!cs(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Fn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ls(e))}saveEventToCache(e){this.cachedEventUids.add(ls(e)),this.lastProcessedEventTime=Date.now()}}function ls(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function cs(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const us=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hs=/^https?/;async function ds(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Zn(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(fs(r))return}catch(n){}Ln(e,"unauthorized-domain")}function fs(e){const t=qn(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!hs.test(n))return!1;if(us.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ps=new Kn(3e4,6e4);function ms(){const e=Pi().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let gs=null;function vs(e){return gs=gs||function(e){return new Promise(((t,n)=>{var r,i,s;function a(){ms(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ms(),n(Fn(e,"network-request-failed"))},timeout:ps.get()})}if(null===(i=null===(r=Pi().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Pi().gapi)||void 0===s?void 0:s.load)){const t=Fr("iframefcb");return Pi()[t]=()=>{gapi.load?a():n(Fn(e,"network-request-failed"))},Lr(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw gs=null,e}))}(e),gs}const ys=new Kn(5e3,15e3),bs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ws=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xs(e){const t=e.config;Vn(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Gn(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:gn},i=ws.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ze(r).slice(1)}`}const ks={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Es{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(cw){}}}function Ss(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},ks),{width:r.toString(),height:i.toString(),top:s,left:a}),c=We().toLowerCase();n&&(o=Sr(c)?"_blank":n),kr(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return jr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:We())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Es(null);const h=window.open(t||"",o,u);Vn(h,e,"popup-blocked");try{h.focus()}catch(cw){}return new Es(h)}const Ns="__/auth/handler",_s="emulator/auth/handler",Cs=encodeURIComponent("fac");async function Ts(e,t,n,r,i,s){Vn(e.config.authDomain,e,"auth-domain-config-required"),Vn(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:gn,eventId:i};if(t instanceof si){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof ai){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${Cs}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Ns}`;return Gn(t,_s)}(e)}?${Ze(o).slice(1)}${c}`}const js="webStorageSupport";const Is=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ti,this._completeRedirectFn=as,this._overrideRedirectResult=rs}async _openPopup(e,t,n,r){var i;Bn(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Ss(e,await Ts(e,t,n,qn(),r),Ii())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Pi().location.href=e}(await Ts(e,t,n,qn(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Bn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await vs(e),n=Pi().gapi;return Vn(n,e,"internal-error"),t.open({where:document.body,url:xs(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bs,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Fn(e,"network-request-failed"),s=Pi().setTimeout((()=>{r(i)}),ys.get());function a(){Pi().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}(e),n=new os(e);return t.register("authEvent",(t=>{Vn(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(js,{type:js},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[js];void 0!==i&&t(!!i),Ln(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ds(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ar()||Er()||jr()}};var As="@firebase/auth",Ps="0.23.2";class Rs{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Vn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ds=qe("authIdTokenMaxAge")||300;let Os=null;var Ls;Ls="Browser",dn(new st("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Vn(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Ls,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pr(Ls)},c=new zr(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),dn(new st("auth-internal",(e=>(e=>new Rs(e))(Br(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),bn(As,Ps,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Ls)),bn(As,Ps,"esm2017");bn("firebase","9.23.0","app");var Fs,Ms="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Us={},Vs=Vs||{},zs=Ms||self;function Bs(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function qs(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var $s="closure_uid_"+(1e9*Math.random()>>>0),Hs=0;function Ws(e,t,n){return e.call.apply(e.bind,arguments)}function Ks(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Gs(e,t,n){return(Gs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ws:Ks).apply(null,arguments)}function Qs(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ys(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Xs(){this.s=this.s,this.o=this.o}Xs.prototype.s=!1,Xs.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,$s)&&e[$s]||(e[$s]=++Hs))},Xs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Js=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Zs(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function ea(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Bs(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function ta(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ta.prototype.h=function(){this.defaultPrevented=!0};var na=function(){if(!zs.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{zs.addEventListener("test",(()=>{}),t),zs.removeEventListener("test",(()=>{}),t)}catch(n){}return e}();function ra(e){return/^[\s\xa0]*$/.test(e)}function ia(){var e=zs.navigator;return e&&(e=e.userAgent)?e:""}function sa(e){return-1!=ia().indexOf(e)}function aa(e){return aa[" "](e),e}aa[" "]=function(){};var oa,la,ca=sa("Opera"),ua=sa("Trident")||sa("MSIE"),ha=sa("Edge"),da=ha||ua,fa=sa("Gecko")&&!(-1!=ia().toLowerCase().indexOf("webkit")&&!sa("Edge"))&&!(sa("Trident")||sa("MSIE"))&&!sa("Edge"),pa=-1!=ia().toLowerCase().indexOf("webkit")&&!sa("Edge");function ma(){var e=zs.document;return e?e.documentMode:void 0}e:{var ga="",va=function(){var e=ia();return fa?/rv:([^\);]+)(\)|;)/.exec(e):ha?/Edge\/([\d\.]+)/.exec(e):ua?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):pa?/WebKit\/(\S+)/.exec(e):ca?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(va&&(ga=va?va[1]:""),ua){var ya=ma();if(null!=ya&&ya>parseFloat(ga)){oa=String(ya);break e}}oa=ga}if(zs.document&&ua){var ba=ma();la=ba||(parseInt(oa,10)||void 0)}else la=void 0;var wa=la;function xa(e,t){if(ta.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(fa){e:{try{aa(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ka[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&xa.$.h.call(this)}}Ys(xa,ta);var ka={2:"touch",3:"pen",4:"mouse"};xa.prototype.h=function(){xa.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ea="closure_listenable_"+(1e6*Math.random()|0),Sa=0;function Na(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Sa,this.fa=this.ia=!1}function _a(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Ca(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Ta(e){const t={};for(const n in e)t[n]=e[n];return t}const ja="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ia(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<ja.length;t++)n=ja[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Aa(e){this.src=e,this.g={},this.h=0}function Pa(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Js(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(_a(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ra(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}Aa.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=Ra(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new Na(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var Da="closure_lm_"+(1e6*Math.random()|0),Oa={};function La(e,t,n,r,i){if(r&&r.once)return Ma(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)La(e,t[s],n,r,i);return null}return n=Ha(n),e&&e[Ea]?e.O(t,n,qs(r)?!!r.capture:!!r,i):Fa(e,t,n,!1,r,i)}function Fa(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=qs(i)?!!i.capture:!!i,o=qa(e);if(o||(e[Da]=o=new Aa(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Ba;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)na||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(za(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ma(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Ma(e,t[s],n,r,i);return null}return n=Ha(n),e&&e[Ea]?e.P(t,n,qs(r)?!!r.capture:!!r,i):Fa(e,t,n,!0,r,i)}function Ua(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Ua(e,t[s],n,r,i);else r=qs(r)?!!r.capture:!!r,n=Ha(n),e&&e[Ea]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ra(s=e.g[t],n,r,i))&&(_a(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=qa(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ra(t,n,r,i)),(n=-1<e?t[e]:null)&&Va(n))}function Va(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Ea])Pa(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(za(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=qa(t))?(Pa(n,e),0==n.h&&(n.src=null,t[Da]=null)):_a(e)}}}function za(e){return e in Oa?Oa[e]:Oa[e]="on"+e}function Ba(e,t){if(e.fa)e=!0;else{t=new xa(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Va(e),e=n.call(r,t)}return e}function qa(e){return(e=e[Da])instanceof Aa?e:null}var $a="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ha(e){return"function"===typeof e?e:(e[$a]||(e[$a]=function(t){return e.handleEvent(t)}),e[$a])}function Wa(){Xs.call(this),this.i=new Aa(this),this.S=this,this.J=null}function Ka(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new ta(t,e);else if(t instanceof ta)t.target=t.target||e;else{var i=t;Ia(t=new ta(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=Ga(a,r,!0,t)&&i}if(i=Ga(a=t.g=e,r,!0,t)&&i,i=Ga(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Ga(a=t.g=n[s],r,!1,t)&&i}function Ga(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==n){var o=a.listener,l=a.la||a.src;a.ia&&Pa(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}Ys(Wa,Xs),Wa.prototype[Ea]=!0,Wa.prototype.removeEventListener=function(e,t,n,r){Ua(this,e,t,n,r)},Wa.prototype.N=function(){if(Wa.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)_a(n[r]);delete t.g[e],t.h--}}this.J=null},Wa.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Wa.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Qa=zs.JSON.stringify;function Ya(){var e=ro;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Xa=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Ja),(e=>e.reset()));class Ja{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Za(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function eo(e){zs.setTimeout((()=>{throw e}),0)}let to,no=!1,ro=new class{constructor(){this.h=this.g=null}add(e,t){const n=Xa.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},io=()=>{const e=zs.Promise.resolve(void 0);to=()=>{e.then(so)}};var so=()=>{for(var e;e=Ya();){try{e.h.call(e.g)}catch(n){eo(n)}var t=Xa;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}no=!1};function ao(e,t){Wa.call(this),this.h=e||1,this.g=t||zs,this.j=Gs(this.qb,this),this.l=Date.now()}function oo(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function lo(e,t,n){if("function"===typeof e)n&&(e=Gs(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Gs(e.handleEvent,e)}return 2147483647<Number(t)?-1:zs.setTimeout(e,t||0)}function co(e){e.g=lo((()=>{e.g=null,e.i&&(e.i=!1,co(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Ys(ao,Wa),(Fs=ao.prototype).ga=!1,Fs.T=null,Fs.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ka(this,"tick"),this.ga&&(oo(this),this.start()))}},Fs.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Fs.N=function(){ao.$.N.call(this),oo(this),delete this.g};class uo extends Xs{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:co(this)}N(){super.N(),this.g&&(zs.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ho(e){Xs.call(this),this.h=e,this.g={}}Ys(ho,Xs);var fo=[];function po(e,t,n,r){Array.isArray(n)||(n&&(fo[0]=n.toString()),n=fo);for(var i=0;i<n.length;i++){var s=La(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function mo(e){Ca(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Va(e)}),e),e.g={}}function go(){this.g=!0}function vo(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return Qa(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}ho.prototype.N=function(){ho.$.N.call(this),mo(this)},ho.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},go.prototype.Ea=function(){this.g=!1},go.prototype.info=function(){};var yo={},bo=null;function wo(){return bo=bo||new Wa}function xo(e){ta.call(this,yo.Ta,e)}function ko(e){const t=wo();Ka(t,new xo(t))}function Eo(e,t){ta.call(this,yo.STAT_EVENT,e),this.stat=t}function So(e){const t=wo();Ka(t,new Eo(t,e))}function No(e,t){ta.call(this,yo.Ua,e),this.size=t}function _o(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return zs.setTimeout((function(){e()}),t)}yo.Ta="serverreachability",Ys(xo,ta),yo.STAT_EVENT="statevent",Ys(Eo,ta),yo.Ua="timingevent",Ys(No,ta);var Co={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},To={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function jo(){}function Io(e){return e.h||(e.h=e.i())}function Ao(){}jo.prototype.h=null;var Po,Ro={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Do(){ta.call(this,"d")}function Oo(){ta.call(this,"c")}function Lo(){}function Fo(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new ho(this),this.P=Uo,e=da?125:void 0,this.V=new ao(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Mo}function Mo(){this.i=null,this.g="",this.h=!1}Ys(Do,ta),Ys(Oo,ta),Ys(Lo,jo),Lo.prototype.g=function(){return new XMLHttpRequest},Lo.prototype.i=function(){return{}},Po=new Lo;var Uo=45e3,Vo={},zo={};function Bo(e,t,n){e.L=1,e.v=ol(nl(t)),e.s=n,e.S=!0,qo(e,null)}function qo(e,t){e.G=Date.now(),Ko(e),e.A=nl(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),wl(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Mo,e.g=xc(e.l,n?t:null,!e.s),0<e.O&&(e.M=new uo(Gs(e.Pa,e,e.g),e.O)),po(e.U,e.g,"readystatechange",e.nb),t=e.I?Ta(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),ko(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function $o(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Ho(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=Wo(e,n),r==zo){4==t&&(e.o=4,So(14),i=!1),vo(e.j,e.m,null,"[Incomplete Response]");break}if(r==Vo){e.o=4,So(15),vo(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}vo(e.j,e.m,r,null),Jo(e,r)}$o(e)&&r!=zo&&r!=Vo&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,So(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),fc(t),t.M=!0,So(11))):(vo(e.j,e.m,n,"[Invalid Chunked Response]"),Xo(e),Yo(e))}function Wo(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?zo:(n=Number(t.substring(n,r)),isNaN(n)?Vo:(r+=1)+n>t.length?zo:(t=t.slice(r,r+n),e.C=r+n,t))}function Ko(e){e.Y=Date.now()+e.P,Go(e,e.P)}function Go(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=_o(Gs(e.lb,e),t)}function Qo(e){e.B&&(zs.clearTimeout(e.B),e.B=null)}function Yo(e){0==e.l.H||e.J||gc(e.l,e)}function Xo(e){Qo(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,oo(e.V),mo(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Jo(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Cl(n.i,e)))if(!e.K&&Cl(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;mc(n),sc(n)}dc(n),So(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=_o(Gs(n.ib,n),6e3));if(1>=_l(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else yc(n,11)}else if((e.K||n.g==e)&&mc(n),!ra(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Tl(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,al(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=wc(r,r.J?r.pa:null,r.Y),a.K){jl(r.i,a);var o=a,l=r.L;l&&o.setTimeout(l),o.B&&(Qo(o),Ko(o)),r.g=a}else hc(r);0<n.j.length&&oc(n)}else"stop"!=c[0]&&"close"!=c[0]||yc(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?yc(n,7):ic(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}ko()}catch(c){}}function Zo(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Bs(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Bs(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Bs(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(Fs=Fo.prototype).setTimeout=function(e){this.P=e},Fs.nb=function(e){e=e.target;const t=this.M;t&&3==Jl(e)?t.l():this.Pa(e)},Fs.Pa=function(e){try{if(e==this.g)e:{const u=Jl(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||da||this.g&&(this.h.h||this.g.ja()||Zl(this.g)))){this.J||4!=u||7==t||ko(),Qo(this);var n=this.g.da();this.ca=n;t:if($o(this)){var r=Zl(this.g);e="";var i=r.length,s=4==Jl(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Xo(this),Yo(this);var a="";break t}this.h.i=new zs.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ra(o)){var c=o;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,So(12),Xo(this),Yo(this);break e}vo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jo(this,n)}this.S?(Ho(this,u,a),da&&this.i&&3==u&&(po(this.U,this.V,"tick",this.mb),this.V.start())):(vo(this.j,this.m,a,null),Jo(this,a)),4==u&&Xo(this),this.i&&!this.J&&(4==u?gc(this.l,this):(this.i=!1,Ko(this)))}else(function(e){const t={};e=(e.g&&2<=Jl(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(ra(e[r]))continue;var n=Za(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.o=3,So(12)):(this.o=0,So(13)),Xo(this),Yo(this)}}}catch(u){}},Fs.mb=function(){if(this.g){var e=Jl(this.g),t=this.g.ja();this.C<t.length&&(Qo(this),Ho(this,e,t),this.i&&4!=e&&Ko(this))}},Fs.cancel=function(){this.J=!0,Xo(this)},Fs.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(ko(),So(17)),Xo(this),this.o=2,Yo(this)):Go(this,this.Y-e)};var el=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tl(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof tl){this.h=e.h,rl(this,e.j),this.s=e.s,this.g=e.g,il(this,e.m),this.l=e.l;var t=e.i,n=new gl;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),sl(this,n),this.o=e.o}else e&&(t=String(e).match(el))?(this.h=!1,rl(this,t[1]||"",!0),this.s=ll(t[2]||""),this.g=ll(t[3]||"",!0),il(this,t[4]),this.l=ll(t[5]||"",!0),sl(this,t[6]||"",!0),this.o=ll(t[7]||"")):(this.h=!1,this.i=new gl(null,this.h))}function nl(e){return new tl(e)}function rl(e,t,n){e.j=n?ll(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function il(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function sl(e,t,n){t instanceof gl?(e.i=t,function(e,t){t&&!e.j&&(vl(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(yl(this,t),wl(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=cl(t,pl)),e.i=new gl(t,e.h))}function al(e,t,n){e.i.set(t,n)}function ol(e){return al(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ll(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function cl(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ul),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ul(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}tl.prototype.toString=function(){var e=[],t=this.j;t&&e.push(cl(t,hl,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(cl(t,hl,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(cl(n,"/"==n.charAt(0)?fl:dl,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",cl(n,ml)),e.join("")};var hl=/[#\/\?@]/g,dl=/[#\?:]/g,fl=/[#\?]/g,pl=/[#\?@]/g,ml=/#/g;function gl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function vl(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function yl(e,t){vl(e),t=xl(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function bl(e,t){return vl(e),t=xl(e,t),e.g.has(t)}function wl(e,t,n){yl(e,t),0<n.length&&(e.i=null,e.g.set(xl(e,t),Zs(n)),e.h+=n.length)}function xl(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Fs=gl.prototype).add=function(e,t){vl(this),this.i=null,e=xl(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Fs.forEach=function(e,t){vl(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Fs.ta=function(){vl(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Fs.Z=function(e){vl(this);let t=[];if("string"===typeof e)bl(this,e)&&(t=t.concat(this.g.get(xl(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Fs.set=function(e,t){return vl(this),this.i=null,bl(this,e=xl(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Fs.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Fs.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var kl=class{constructor(e,t){this.g=e,this.map=t}};function El(e){this.l=e||Sl,zs.PerformanceNavigationTiming?e=0<(e=zs.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(zs.g&&zs.g.Ka&&zs.g.Ka()&&zs.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Sl=10;function Nl(e){return!!e.h||!!e.g&&e.g.size>=e.j}function _l(e){return e.h?1:e.g?e.g.size:0}function Cl(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Tl(e,t){e.g?e.g.add(t):e.h=t}function jl(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Il(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Zs(e.i)}El.prototype.cancel=function(){if(this.i=Il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Al,Pl=class{stringify(e){return zs.JSON.stringify(e,void 0)}parse(e){return zs.JSON.parse(e,void 0)}};function Rl(){this.g=new Pl}function Dl(e,t,n){const r=n||"";try{Zo(e,(function(e,n){let i=e;qs(e)&&(i=Qa(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(cw){throw t.push(r+"type="+encodeURIComponent("_badmap")),cw}}function Ol(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Ll(e){this.l=e.fc||null,this.j=e.ob||!1}function Fl(e,t){Wa.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Ml,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ys(Ll,jo),Ll.prototype.g=function(){return new Fl(this.l,this.j)},Ll.prototype.i=(Al={},function(){return Al}),Ys(Fl,Wa);var Ml=0;function Ul(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Vl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,zl(e)}function zl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Fs=Fl.prototype).open=function(e,t){if(this.readyState!=Ml)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,zl(this)},Fs.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||zs).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Fs.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vl(this)),this.readyState=Ml},Fs.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,zl(this)),this.g&&(this.readyState=3,zl(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof zs.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ul(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Fs.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Vl(this):zl(this),3==this.readyState&&Ul(this)}},Fs.Za=function(e){this.g&&(this.response=this.responseText=e,Vl(this))},Fs.Ya=function(e){this.g&&(this.response=e,Vl(this))},Fs.ka=function(){this.g&&Vl(this)},Fs.setRequestHeader=function(e,t){this.v.append(e,t)},Fs.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Fs.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Fl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Bl=zs.JSON.parse;function ql(e){Wa.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=$l,this.L=this.M=!1}Ys(ql,Wa);var $l="",Hl=/^https?$/i,Wl=["POST","PUT"];function Kl(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Gl(e),Yl(e)}function Gl(e){e.F||(e.F=!0,Ka(e,"complete"),Ka(e,"error"))}function Ql(e){if(e.h&&"undefined"!=typeof Vs&&(!e.C[1]||4!=Jl(e)||2!=e.da()))if(e.v&&4==Jl(e))lo(e.La,0,e);else if(Ka(e,"readystatechange"),4==Jl(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.I).match(el)[1]||null;!i&&zs.self&&zs.self.location&&(i=zs.self.location.protocol.slice(0,-1)),r=!Hl.test(i?i.toLowerCase():"")}n=r}if(n)Ka(e,"complete"),Ka(e,"success");else{e.m=6;try{var s=2<Jl(e)?e.g.statusText:""}catch(a){s=""}e.j=s+" ["+e.da()+"]",Gl(e)}}finally{Yl(e)}}}function Yl(e,t){if(e.g){Xl(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Ka(e,"ready");try{n.onreadystatechange=r}catch(cw){}}}function Xl(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(zs.clearTimeout(e.A),e.A=null)}function Jl(e){return e.g?e.g.readyState:0}function Zl(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case $l:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(iu){return null}}function ec(e){let t="";return Ca(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function tc(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ec(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):al(e,t,n))}function nc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function rc(e){this.Ga=0,this.j=[],this.l=new go,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=nc("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=nc("baseRetryDelayMs",5e3,e),this.hb=nc("retryDelaySeedMs",1e4,e),this.eb=nc("forwardChannelMaxRetries",2,e),this.xa=nc("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new El(e&&e.concurrentRequestLimit),this.Ja=new Rl,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ic(e){if(ac(e),3==e.H){var t=e.W++,n=nl(e.I);if(al(n,"SID",e.K),al(n,"RID",t),al(n,"TYPE","terminate"),cc(e,n),(t=new Fo(e,e.l,t)).L=2,t.v=ol(nl(n)),n=!1,zs.navigator&&zs.navigator.sendBeacon)try{n=zs.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&zs.Image&&((new Image).src=t.v,n=!0),n||(t.g=xc(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Ko(t)}bc(e)}function sc(e){e.g&&(fc(e),e.g.cancel(),e.g=null)}function ac(e){sc(e),e.u&&(zs.clearTimeout(e.u),e.u=null),mc(e),e.i.cancel(),e.m&&("number"===typeof e.m&&zs.clearTimeout(e.m),e.m=null)}function oc(e){if(!Nl(e.i)&&!e.m){e.m=!0;var t=e.Na;to||io(),no||(to(),no=!0),ro.add(t,e),e.C=0}}function lc(e,t){var n;n=t?t.m:e.W++;const r=nl(e.I);al(r,"SID",e.K),al(r,"RID",n),al(r,"AID",e.V),cc(e,r),e.o&&e.s&&tc(r,e.o,e.s),n=new Fo(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=uc(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Tl(e.i,n),Bo(n,r,t)}function cc(e,t){e.na&&Ca(e.na,(function(e,n){al(t,n,e)})),e.h&&Zo({},(function(e,n){al(t,n,e)}))}function uc(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Gs(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{Dl(o,e,"req"+n+"_")}catch(mu){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function hc(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;to||io(),no||(to(),no=!0),ro.add(t,e),e.A=0}}function dc(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=_o(Gs(e.Ma,e),vc(e,e.A)),e.A++,!0)}function fc(e){null!=e.B&&(zs.clearTimeout(e.B),e.B=null)}function pc(e){e.g=new Fo(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=nl(e.wa);al(t,"RID","rpc"),al(t,"SID",e.K),al(t,"AID",e.V),al(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&al(t,"TO",e.qa),al(t,"TYPE","xmlhttp"),cc(e,t),e.o&&e.s&&tc(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=ol(nl(t)),n.s=null,n.S=!0,qo(n,e)}function mc(e){null!=e.v&&(zs.clearTimeout(e.v),e.v=null)}function gc(e,t){var n=null;if(e.g==t){mc(e),fc(e),e.g=null;var r=2}else{if(!Cl(e.i,t))return;n=t.F,jl(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Ka(r=wo(),new No(r,n)),oc(e)}else hc(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(_l(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=_o(Gs(e.Na,e,t),vc(e,e.C)),e.C++,!0))}(e,t)||2==r&&dc(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:yc(e,5);break;case 4:yc(e,10);break;case 3:yc(e,6);break;default:yc(e,2)}}function vc(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function yc(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Gs(e.pb,e);n||(n=new tl("//www.google.com/images/cleardot.gif"),zs.location&&"http"==zs.location.protocol||rl(n,"https"),ol(n)),function(e,t){const n=new go;if(zs.Image){const r=new Image;r.onload=Qs(Ol,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Qs(Ol,n,r,"TestLoadImage: error",!1,t),r.onabort=Qs(Ol,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Qs(Ol,n,r,"TestLoadImage: timeout",!1,t),zs.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else So(2);e.H=0,e.h&&e.h.za(t),bc(e),ac(e)}function bc(e){if(e.H=0,e.ma=[],e.h){const t=Il(e.i);0==t.length&&0==e.j.length||(ea(e.ma,t),ea(e.ma,e.j),e.i.i.length=0,Zs(e.j),e.j.length=0),e.h.ya()}}function wc(e,t,n){var r=n instanceof tl?nl(n):new tl(n);if(""!=r.g)t&&(r.g=t+"."+r.g),il(r,r.m);else{var i=zs.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new tl(null);r&&rl(s,r),t&&(s.g=t),i&&il(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&al(r,n,t),al(r,"VER",e.ra),cc(e,r),r}function xc(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new ql(new Ll({ob:!0})):new ql(e.va)).Oa(e.J),t}function kc(){}function Ec(){if(ua&&!(10<=Number(wa)))throw Error("Environmental error: no available transport.")}function Sc(e,t){Wa.call(this),this.g=new rc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!ra(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ra(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Cc(this)}function Nc(e){Do.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function _c(){Oo.call(this),this.status=1}function Cc(e){this.g=e}function Tc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function jc(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function Ic(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(Fs=ql.prototype).Oa=function(e){this.M=e},Fs.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Po.g(),this.C=this.u?Io(this.u):Io(Po),this.g.onreadystatechange=Gs(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Kl(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=zs.FormData&&e instanceof zs.FormData,!(0<=Js(Wl,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Xl(this),0<this.B&&((this.L=function(e){return ua&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gs(this.ua,this)):this.A=lo(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Kl(this,s)}},Fs.ua=function(){"undefined"!=typeof Vs&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ka(this,"timeout"),this.abort(8))},Fs.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ka(this,"complete"),Ka(this,"abort"),Yl(this))},Fs.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yl(this,!0)),ql.$.N.call(this)},Fs.La=function(){this.s||(this.G||this.v||this.l?Ql(this):this.kb())},Fs.kb=function(){Ql(this)},Fs.isActive=function(){return!!this.g},Fs.da=function(){try{return 2<Jl(this)?this.g.status:-1}catch(Al){return-1}},Fs.ja=function(){try{return this.g?this.g.responseText:""}catch(Al){return""}},Fs.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Bl(t)}},Fs.Ia=function(){return this.m},Fs.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Fs=rc.prototype).ra=8,Fs.H=1,Fs.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Fo(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Ta(s),Ia(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=uc(this,i,t),al(n=nl(this.I),"RID",e),al(n,"CVER",22),this.F&&al(n,"X-HTTP-Session-Id",this.F),cc(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(ec(s)))+"&"+t:this.o&&tc(n,this.o,s)),Tl(this.i,i),this.bb&&al(n,"TYPE","init"),this.P?(al(n,"$req",t),al(n,"SID","null"),i.aa=!0,Bo(i,n,null)):Bo(i,n,t),this.H=2}}else 3==this.H&&(e?lc(this,e):0==this.j.length||Nl(this.i)||lc(this))},Fs.Ma=function(){if(this.u=null,pc(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=_o(Gs(this.jb,this),e)}},Fs.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,So(10),sc(this),pc(this))},Fs.ib=function(){null!=this.v&&(this.v=null,sc(this),dc(this),So(19))},Fs.pb=function(e){e?(this.l.info("Successfully pinged google.com"),So(2)):(this.l.info("Failed to ping google.com"),So(1))},Fs.isActive=function(){return!!this.h&&this.h.isActive(this)},(Fs=kc.prototype).Ba=function(){},Fs.Aa=function(){},Fs.za=function(){},Fs.ya=function(){},Fs.isActive=function(){return!0},Fs.Va=function(){},Ec.prototype.g=function(e,t){return new Sc(e,t)},Ys(Sc,Wa),Sc.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;So(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=wc(e,null,e.Y),oc(e)},Sc.prototype.close=function(){ic(this.g)},Sc.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Qa(e),e=n);t.j.push(new kl(t.fb++,e)),3==t.H&&oc(t)},Sc.prototype.N=function(){this.g.h=null,delete this.j,ic(this.g),delete this.g,Sc.$.N.call(this)},Ys(Nc,Do),Ys(_c,Oo),Ys(Cc,kc),Cc.prototype.Ba=function(){Ka(this.g,"a")},Cc.prototype.Aa=function(e){Ka(this.g,new Nc(e))},Cc.prototype.za=function(e){Ka(this.g,new _c)},Cc.prototype.ya=function(){Ka(this.g,"b")},Ys(Tc,(function(){this.blockSize=-1})),Tc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Tc.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)jc(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){jc(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){jc(this,r),i=0;break}}this.h=i,this.i+=t},Tc.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Ac={};function Pc(e){return-128<=e&&128>e?function(e,t){var n=Ac;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Ic([0|e],0>e?-1:0)})):new Ic([0|e],0>e?-1:0)}function Rc(e){if(isNaN(e)||!isFinite(e))return Oc;if(0>e)return Vc(Rc(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Dc;return new Ic(t,0)}var Dc=4294967296,Oc=Pc(0),Lc=Pc(1),Fc=Pc(16777216);function Mc(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Uc(e){return-1==e.h}function Vc(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Ic(n,~e.h).add(Lc)}function zc(e,t){return e.add(Vc(t))}function Bc(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function qc(e,t){this.g=e,this.h=t}function $c(e,t){if(Mc(t))throw Error("division by zero");if(Mc(e))return new qc(Oc,Oc);if(Uc(e))return t=$c(Vc(e),t),new qc(Vc(t.g),Vc(t.h));if(Uc(t))return t=$c(e,Vc(t)),new qc(Vc(t.g),t.h);if(30<e.g.length){if(Uc(e)||Uc(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Lc,r=t;0>=r.X(e);)n=Hc(n),r=Hc(r);var i=Wc(n,1),s=Wc(r,1);for(r=Wc(r,2),n=Wc(n,2);!Mc(r);){var a=s.add(r);0>=a.X(e)&&(i=i.add(n),s=a),r=Wc(r,1),n=Wc(n,1)}return t=zc(e,i.R(t)),new qc(i,t)}for(i=Oc;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(s=Rc(n)).R(t);Uc(a)||0<a.X(e);)a=(s=Rc(n-=r)).R(t);Mc(s)&&(s=Lc),i=i.add(s),e=zc(e,a)}return new qc(i,e)}function Hc(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Ic(n,e.h)}function Wc(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Ic(i,e.h)}(Fs=Ic.prototype).ea=function(){if(Uc(this))return-Vc(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Dc+r)*t,t*=Dc}return e},Fs.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Mc(this))return"0";if(Uc(this))return"-"+Vc(this).toString(e);for(var t=Rc(Math.pow(e,6)),n=this,r="";;){var i=$c(n,t).g,s=((0<(n=zc(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Mc(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Fs.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Fs.X=function(e){return Uc(e=zc(this,e))?-1:Mc(e)?0:1},Fs.abs=function(){return Uc(this)?Vc(this):this},Fs.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),a=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new Ic(n,-2147483648&n[n.length-1]?-1:0)},Fs.R=function(e){if(Mc(this)||Mc(e))return Oc;if(Uc(this))return Uc(e)?Vc(this).R(Vc(e)):Vc(Vc(this).R(e));if(Uc(e))return Vc(this.R(Vc(e)));if(0>this.X(Fc)&&0>e.X(Fc))return Rc(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,a=65535&this.D(r),o=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=a*l,Bc(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Bc(n,2*r+2*i+1),n[2*r+2*i+1]+=a*o,Bc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*o,Bc(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Ic(n,0)},Fs.gb=function(e){return $c(this,e).h},Fs.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Ic(n,this.h&e.h)},Fs.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Ic(n,this.h|e.h)},Fs.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Ic(n,this.h^e.h)},Ec.prototype.createWebChannel=Ec.prototype.g,Sc.prototype.send=Sc.prototype.u,Sc.prototype.open=Sc.prototype.m,Sc.prototype.close=Sc.prototype.close,Co.NO_ERROR=0,Co.TIMEOUT=8,Co.HTTP_ERROR=6,To.COMPLETE="complete",Ao.EventType=Ro,Ro.OPEN="a",Ro.CLOSE="b",Ro.ERROR="c",Ro.MESSAGE="d",Wa.prototype.listen=Wa.prototype.O,ql.prototype.listenOnce=ql.prototype.P,ql.prototype.getLastError=ql.prototype.Sa,ql.prototype.getLastErrorCode=ql.prototype.Ia,ql.prototype.getStatus=ql.prototype.da,ql.prototype.getResponseJson=ql.prototype.Wa,ql.prototype.getResponseText=ql.prototype.ja,ql.prototype.send=ql.prototype.ha,ql.prototype.setWithCredentials=ql.prototype.Oa,Tc.prototype.digest=Tc.prototype.l,Tc.prototype.reset=Tc.prototype.reset,Tc.prototype.update=Tc.prototype.j,Ic.prototype.add=Ic.prototype.add,Ic.prototype.multiply=Ic.prototype.R,Ic.prototype.modulo=Ic.prototype.gb,Ic.prototype.compare=Ic.prototype.X,Ic.prototype.toNumber=Ic.prototype.ea,Ic.prototype.toString=Ic.prototype.toString,Ic.prototype.getBits=Ic.prototype.D,Ic.fromNumber=Rc,Ic.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Vc(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Rc(Math.pow(n,8)),i=Oc,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),n);8>a?(a=Rc(Math.pow(n,a)),i=i.R(a).add(Rc(o))):i=(i=i.R(r)).add(Rc(o))}return i};var Kc=Us.createWebChannelTransport=function(){return new Ec},Gc=Us.getStatEventTarget=function(){return wo()},Qc=Us.ErrorCode=Co,Yc=Us.EventType=To,Xc=Us.Event=yo,Jc=Us.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Zc=Us.FetchXmlHttpFactory=Ll,eu=Us.WebChannel=Ao,tu=Us.XhrIo=ql,nu=Us.Md5=Tc,ru=Us.Integer=Ic;const iu="@firebase/firestore";class su{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}su.UNAUTHENTICATED=new su(null),su.GOOGLE_CREDENTIALS=new su("google-credentials-uid"),su.FIRST_PARTY=new su("first-party-uid"),su.MOCK_USER=new su("mock-user");let au="9.23.0";const ou=new mt("@firebase/firestore");function lu(){return ou.logLevel}function cu(e){if(ou.logLevel<=ut.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(du);ou.debug(`Firestore (${au}): ${e}`,...i)}}function uu(e){if(ou.logLevel<=ut.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(du);ou.error(`Firestore (${au}): ${e}`,...i)}}function hu(e){if(ou.logLevel<=ut.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(du);ou.warn(`Firestore (${au}): ${e}`,...i)}}function du(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function fu(){const e=`FIRESTORE (${au}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw uu(e),new Error(e)}function pu(e,t){e||fu()}function mu(e,t){return e}const gu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vu extends Ge{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yu{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class bu{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(su.UNAUTHENTICATED)))}shutdown(){}}class xu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class ku{constructor(e){this.t=e,this.currentUser=su.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new yu;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new yu,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{cu("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(cu("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new yu)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(cu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(pu("string"==typeof t.accessToken),new bu(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return pu(null===e||"string"==typeof e),new su(e)}}class Eu{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=su.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Su{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Eu(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(su.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Nu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _u{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&cu("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.T;return this.T=e.token,cu("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{cu("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):cu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(pu("string"==typeof e.token),this.T=e.token,new Nu(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Cu(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Tu{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Cu(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function ju(e,t){return e<t?-1:e>t?1:0}function Iu(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Au{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new vu(gu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new vu(gu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new vu(gu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new vu(gu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Au.fromMillis(Date.now())}static fromDate(e){return Au.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Au(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ju(this.nanoseconds,e.nanoseconds):ju(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pu{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pu(e)}static min(){return new Pu(new Au(0,0))}static max(){return new Pu(new Au(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ru{constructor(e,t,n){void 0===t?t=0:t>e.length&&fu(),void 0===n?n=e.length-t:n>e.length-t&&fu(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ru.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ru?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Du extends Ru{construct(e,t,n){return new Du(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new vu(gu.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new Du(e)}static emptyPath(){return new Du([])}}const Ou=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lu extends Ru{construct(e,t,n){return new Lu(e,t,n)}static isValidIdentifier(e){return Ou.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lu.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Lu(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new vu(gu.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new vu(gu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new vu(gu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new vu(gu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lu(t)}static emptyPath(){return new Lu([])}}class Fu{constructor(e){this.path=e}static fromPath(e){return new Fu(Du.fromString(e))}static fromName(e){return new Fu(Du.fromString(e).popFirst(5))}static empty(){return new Fu(Du.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Du.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Du.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fu(new Du(e.slice()))}}class Mu{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Mu.UNKNOWN_ID=-1;function Uu(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Pu.fromTimestamp(1e9===r?new Au(n+1,0):new Au(n,r));return new zu(i,Fu.empty(),t)}function Vu(e){return new zu(e.readTime,e.key,-1)}class zu{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new zu(Pu.min(),Fu.empty(),-1)}static max(){return new zu(Pu.max(),Fu.empty(),-1)}}function Bu(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Fu.comparator(e.documentKey,t.documentKey),0!==n?n:ju(e.largestBatchId,t.largestBatchId))}const qu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $u{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Hu(e){if(e.code!==gu.FAILED_PRECONDITION||e.message!==qu)throw e;cu("LocalStore","Unexpectedly lost primary lease")}class Wu{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&fu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Wu(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Wu?t:Wu.resolve(t)}catch(e){return Wu.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Wu.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Wu.reject(t)}static resolve(e){return new Wu(((t,n)=>{t(e)}))}static reject(e){return new Wu(((t,n)=>{n(e)}))}static waitFor(e){return new Wu(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Wu.resolve(!1);for(const n of e)t=t.next((e=>e?Wu.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Wu(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new Wu(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Ku(e){return"IndexedDbTransactionError"===e.name}class Gu{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function Qu(e){return null==e}function Yu(e){return 0===e&&1/e==-1/0}function Xu(e){return"number"==typeof e&&Number.isInteger(e)&&!Yu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Gu.ct=-1;const Ju=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Zu=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],eh=Zu;function th(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function nh(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function rh(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ih{constructor(e,t){this.comparator=e,this.root=t||ah.EMPTY}insert(e,t){return new ih(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ah.BLACK,null,null))}remove(e){return new ih(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ah.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sh(this.root,e,this.comparator,!1)}getReverseIterator(){return new sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sh(this.root,e,this.comparator,!0)}}class sh{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ah{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ah.RED,this.left=null!=r?r:ah.EMPTY,this.right=null!=i?i:ah.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ah(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ah.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ah.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ah.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ah.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fu();if(this.right.isRed())throw fu();const e=this.left.check();if(e!==this.right.check())throw fu();return e+(this.isRed()?0:1)}}ah.EMPTY=null,ah.RED=!0,ah.BLACK=!1,ah.EMPTY=new class{constructor(){this.size=0}get key(){throw fu()}get value(){throw fu()}get color(){throw fu()}get left(){throw fu()}get right(){throw fu()}copy(e,t,n,r,i){return this}insert(e,t,n){return new ah(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class oh{constructor(e){this.comparator=e,this.data=new ih(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new lh(this.data.getIterator())}getIteratorFrom(e){return new lh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof oh))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new oh(this.comparator);return t.data=e,t}}class lh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ch{constructor(e){this.fields=e,e.sort(Lu.comparator)}static empty(){return new ch([])}unionWith(e){let t=new oh(Lu.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ch(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Iu(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class uh extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hh{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new uh("Invalid base64 string: "+e):e}}(e);return new hh(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new hh(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ju(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hh.EMPTY_BYTE_STRING=new hh("");const dh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fh(e){if(pu(!!e),"string"==typeof e){let t=0;const n=dh.exec(e);if(pu(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ph(e.seconds),nanos:ph(e.nanos)}}function ph(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function mh(e){return"string"==typeof e?hh.fromBase64String(e):hh.fromUint8Array(e)}function gh(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function vh(e){const t=e.mapValue.fields.__previous_value__;return gh(t)?vh(t):t}function yh(e){const t=fh(e.mapValue.fields.__local_write_time__.timestampValue);return new Au(t.seconds,t.nanos)}class bh{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class wh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new wh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof wh&&e.projectId===this.projectId&&e.database===this.database}}const xh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function kh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?gh(e)?4:Lh(e)?9007199254740991:10:fu()}function Eh(e,t){if(e===t)return!0;const n=kh(e);if(n!==kh(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return yh(e).isEqual(yh(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=fh(e.timestampValue),r=fh(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return mh(e.bytesValue).isEqual(mh(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ph(e.geoPointValue.latitude)===ph(t.geoPointValue.latitude)&&ph(e.geoPointValue.longitude)===ph(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ph(e.integerValue)===ph(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ph(e.doubleValue),r=ph(t.doubleValue);return n===r?Yu(n)===Yu(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Iu(e.arrayValue.values||[],t.arrayValue.values||[],Eh);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(th(n)!==th(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Eh(n[i],r[i])))return!1;return!0}(e,t);default:return fu()}}function Sh(e,t){return void 0!==(e.values||[]).find((e=>Eh(e,t)))}function Nh(e,t){if(e===t)return 0;const n=kh(e),r=kh(t);if(n!==r)return ju(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ju(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ph(e.integerValue||e.doubleValue),r=ph(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return _h(e.timestampValue,t.timestampValue);case 4:return _h(yh(e),yh(t));case 5:return ju(e.stringValue,t.stringValue);case 6:return function(e,t){const n=mh(e),r=mh(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=ju(n[i],r[i]);if(0!==e)return e}return ju(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ju(ph(e.latitude),ph(t.latitude));return 0!==n?n:ju(ph(e.longitude),ph(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Nh(n[i],r[i]);if(e)return e}return ju(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===xh.mapValue&&t===xh.mapValue)return 0;if(e===xh.mapValue)return 1;if(t===xh.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=ju(r[a],s[a]);if(0!==e)return e;const t=Nh(n[r[a]],i[s[a]]);if(0!==t)return t}return ju(r.length,s.length)}(e.mapValue,t.mapValue);default:throw fu()}}function _h(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ju(e,t);const n=fh(e),r=fh(t),i=ju(n.seconds,r.seconds);return 0!==i?i:ju(n.nanos,r.nanos)}function Ch(e){return Th(e)}function Th(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=fh(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?mh(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Fu.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Th(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Th(e.fields[i])}`;return n+"}"}(e.mapValue):fu();var t,n}function jh(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Ih(e){return!!e&&"integerValue"in e}function Ah(e){return!!e&&"arrayValue"in e}function Ph(e){return!!e&&"nullValue"in e}function Rh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Dh(e){return!!e&&"mapValue"in e}function Oh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return nh(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Oh(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Oh(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Lh(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Fh{constructor(e){this.value=e}static empty(){return new Fh({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Dh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oh(t)}setAll(e){let t=Lu.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Oh(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Dh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Eh(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Dh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){nh(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Fh(Oh(this.value))}}function Mh(e){const t=[];return nh(e.fields,((e,n)=>{const r=new Lu([e]);if(Dh(n)){const e=Mh(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new ch(t)}class Uh{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Uh(e,0,Pu.min(),Pu.min(),Pu.min(),Fh.empty(),0)}static newFoundDocument(e,t,n,r){return new Uh(e,1,t,Pu.min(),n,r,0)}static newNoDocument(e,t){return new Uh(e,2,t,Pu.min(),Pu.min(),Fh.empty(),0)}static newUnknownDocument(e,t){return new Uh(e,3,t,Pu.min(),Pu.min(),Fh.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Pu.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fh.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fh.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pu.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Uh&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Uh(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Vh{constructor(e,t){this.position=e,this.inclusive=t}}function zh(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Fu.comparator(Fu.fromName(a.referenceValue),n.key):Nh(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Bh(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Eh(e.position[n],t.position[n]))return!1;return!0}class qh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function $h(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Hh{}class Wh extends Hh{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ed(e,t,n):"array-contains"===t?new id(e,n):"in"===t?new sd(e,n):"not-in"===t?new ad(e,n):"array-contains-any"===t?new od(e,n):new Wh(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new td(e,n):new nd(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Nh(t,this.value)):null!==t&&kh(this.value)===kh(t)&&this.matchesComparison(Nh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return fu()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Kh extends Hh{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Kh(e,t)}matches(e){return Gh(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((e=>e.isInequality()));return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Gh(e){return"and"===e.op}function Qh(e){return Yh(e)&&Gh(e)}function Yh(e){for(const t of e.filters)if(t instanceof Kh)return!1;return!0}function Xh(e){if(e instanceof Wh)return e.field.canonicalString()+e.op.toString()+Ch(e.value);if(Qh(e))return e.filters.map((e=>Xh(e))).join(",");{const t=e.filters.map((e=>Xh(e))).join(",");return`${e.op}(${t})`}}function Jh(e,t){return e instanceof Wh?function(e,t){return t instanceof Wh&&e.op===t.op&&e.field.isEqual(t.field)&&Eh(e.value,t.value)}(e,t):e instanceof Kh?function(e,t){return t instanceof Kh&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Jh(n,t.filters[r])),!0)}(e,t):void fu()}function Zh(e){return e instanceof Wh?function(e){return`${e.field.canonicalString()} ${e.op} ${Ch(e.value)}`}(e):e instanceof Kh?function(e){return e.op.toString()+" {"+e.getFilters().map(Zh).join(" ,")+"}"}(e):"Filter"}class ed extends Wh{constructor(e,t,n){super(e,t,n),this.key=Fu.fromName(n.referenceValue)}matches(e){const t=Fu.comparator(e.key,this.key);return this.matchesComparison(t)}}class td extends Wh{constructor(e,t){super(e,"in",t),this.keys=rd("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class nd extends Wh{constructor(e,t){super(e,"not-in",t),this.keys=rd("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function rd(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Fu.fromName(e.referenceValue)))}class id extends Wh{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ah(t)&&Sh(t.arrayValue,this.value)}}class sd extends Wh{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Sh(this.value.arrayValue,t)}}class ad extends Wh{constructor(e,t){super(e,"not-in",t)}matches(e){if(Sh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Sh(this.value.arrayValue,t)}}class od extends Wh{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ah(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Sh(this.value.arrayValue,e)))}}class ld{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.dt=null}}function cd(e){return new ld(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function ud(e){const t=mu(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Xh(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Qu(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Ch(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Ch(e))).join(",")),t.dt=e}return t.dt}function hd(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!$h(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Jh(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Bh(e.startAt,t.startAt)&&Bh(e.endAt,t.endAt)}function dd(e){return Fu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class fd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.wt=null,this._t=null,this.startAt,this.endAt}}function pd(e,t,n,r,i,s,a,o){return new fd(e,t,n,r,i,s,a,o)}function md(e){return new fd(e)}function gd(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function vd(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function yd(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function bd(e){return null!==e.collectionGroup}function wd(e){const t=mu(e);if(null===t.wt){t.wt=[];const e=yd(t),n=vd(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new qh(e)),t.wt.push(new qh(Lu.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new qh(Lu.keyField(),e))}}}return t.wt}function xd(e){const t=mu(e);if(!t._t)if("F"===t.limitType)t._t=cd(t.path,t.collectionGroup,wd(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of wd(t)){const t="desc"===i.dir?"asc":"desc";e.push(new qh(i.field,t))}const n=t.endAt?new Vh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vh(t.startAt.position,t.startAt.inclusive):null;t._t=cd(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function kd(e,t){t.getFirstInequalityField(),yd(e);const n=e.filters.concat([t]);return new fd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ed(e,t,n){return new fd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Sd(e,t){return hd(xd(e),xd(t))&&e.limitType===t.limitType}function Nd(e){return`${ud(xd(e))}|lt:${e.limitType}`}function _d(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Zh(e))).join(", ")}]`),Qu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Ch(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Ch(e))).join(",")),`Target(${t})`}(xd(e))}; limitType=${e.limitType})`}function Cd(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Fu.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of wd(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=zh(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,wd(e),t))&&!(e.endAt&&!function(e,t,n){const r=zh(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,wd(e),t))}(e,t)}function Td(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function jd(e){return(t,n)=>{let r=!1;for(const i of wd(e)){const e=Id(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Id(e,t,n){const r=e.field.isKeyField()?Fu.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Nh(r,i):fu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return fu()}}class Ad{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){nh(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return rh(this.inner)}size(){return this.innerSize}}const Pd=new ih(Fu.comparator);function Rd(){return Pd}const Dd=new ih(Fu.comparator);function Od(){let e=Dd;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Ld(e){let t=Dd;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Fd(){return Ud()}function Md(){return Ud()}function Ud(){return new Ad((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Vd=new ih(Fu.comparator),zd=new oh(Fu.comparator);function Bd(){let e=zd;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const qd=new oh(ju);function $d(){return qd}function Hd(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yu(t)?"-0":t}}function Wd(e){return{integerValue:""+e}}function Kd(e,t){return Xu(t)?Wd(t):Hd(e,t)}class Gd{constructor(){this._=void 0}}function Qd(e,t,n){return e instanceof Jd?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&gh(t)&&(t=vh(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Zd?ef(e,t):e instanceof tf?nf(e,t):function(e,t){const n=Xd(e,t),r=sf(n)+sf(e.gt);return Ih(n)&&Ih(e.gt)?Wd(r):Hd(e.serializer,r)}(e,t)}function Yd(e,t,n){return e instanceof Zd?ef(e,t):e instanceof tf?nf(e,t):n}function Xd(e,t){return e instanceof rf?Ih(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Jd extends Gd{}class Zd extends Gd{constructor(e){super(),this.elements=e}}function ef(e,t){const n=af(t);for(const r of e.elements)n.some((e=>Eh(e,r)))||n.push(r);return{arrayValue:{values:n}}}class tf extends Gd{constructor(e){super(),this.elements=e}}function nf(e,t){let n=af(t);for(const r of e.elements)n=n.filter((e=>!Eh(e,r)));return{arrayValue:{values:n}}}class rf extends Gd{constructor(e,t){super(),this.serializer=e,this.gt=t}}function sf(e){return ph(e.integerValue||e.doubleValue)}function af(e){return Ah(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class of{constructor(e,t){this.field=e,this.transform=t}}class lf{constructor(e,t){this.version=e,this.transformResults=t}}class cf{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new cf}static exists(e){return new cf(void 0,e)}static updateTime(e){return new cf(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uf(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class hf{}function df(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new kf(e.key,cf.none()):new vf(e.key,e.data,cf.none());{const n=e.data,r=Fh.empty();let i=new oh(Lu.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new yf(e.key,r,new ch(i.toArray()),cf.none())}}function ff(e,t,n){e instanceof vf?function(e,t,n){const r=e.value.clone(),i=wf(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof yf?function(e,t,n){if(!uf(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=wf(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(bf(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function pf(e,t,n,r){return e instanceof vf?function(e,t,n,r){if(!uf(e.precondition,t))return n;const i=e.value.clone(),s=xf(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof yf?function(e,t,n,r){if(!uf(e.precondition,t))return n;const i=xf(e.fieldTransforms,r,t),s=t.data;return s.setAll(bf(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return uf(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function mf(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Xd(r.transform,e||null);null!=i&&(null===n&&(n=Fh.empty()),n.set(r.field,i))}return n||null}function gf(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Iu(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Zd&&t instanceof Zd||e instanceof tf&&t instanceof tf?Iu(e.elements,t.elements,Eh):e instanceof rf&&t instanceof rf?Eh(e.gt,t.gt):e instanceof Jd&&t instanceof Jd}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class vf extends hf{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class yf extends hf{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function bf(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function wf(e,t,n){const r=new Map;pu(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Yd(a,o,n[i]))}return r}function xf(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Qd(e,s,t))}return r}class kf extends hf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ef extends hf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Sf{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&ff(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=pf(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=pf(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Md();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=df(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Pu.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Bd())}isEqual(e){return this.batchId===e.batchId&&Iu(this.mutations,e.mutations,((e,t)=>gf(e,t)))&&Iu(this.baseMutations,e.baseMutations,((e,t)=>gf(e,t)))}}class Nf{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){pu(e.mutations.length===n.length);let r=Vd;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Nf(e,t,n,r)}}class _f{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Cf{constructor(e,t){this.count=e,this.unchangedNames=t}}var Tf,jf;function If(e){switch(e){default:return fu();case gu.CANCELLED:case gu.UNKNOWN:case gu.DEADLINE_EXCEEDED:case gu.RESOURCE_EXHAUSTED:case gu.INTERNAL:case gu.UNAVAILABLE:case gu.UNAUTHENTICATED:return!1;case gu.INVALID_ARGUMENT:case gu.NOT_FOUND:case gu.ALREADY_EXISTS:case gu.PERMISSION_DENIED:case gu.FAILED_PRECONDITION:case gu.ABORTED:case gu.OUT_OF_RANGE:case gu.UNIMPLEMENTED:case gu.DATA_LOSS:return!0}}function Af(e){if(void 0===e)return uu("GRPC error has no .code"),gu.UNKNOWN;switch(e){case Tf.OK:return gu.OK;case Tf.CANCELLED:return gu.CANCELLED;case Tf.UNKNOWN:return gu.UNKNOWN;case Tf.DEADLINE_EXCEEDED:return gu.DEADLINE_EXCEEDED;case Tf.RESOURCE_EXHAUSTED:return gu.RESOURCE_EXHAUSTED;case Tf.INTERNAL:return gu.INTERNAL;case Tf.UNAVAILABLE:return gu.UNAVAILABLE;case Tf.UNAUTHENTICATED:return gu.UNAUTHENTICATED;case Tf.INVALID_ARGUMENT:return gu.INVALID_ARGUMENT;case Tf.NOT_FOUND:return gu.NOT_FOUND;case Tf.ALREADY_EXISTS:return gu.ALREADY_EXISTS;case Tf.PERMISSION_DENIED:return gu.PERMISSION_DENIED;case Tf.FAILED_PRECONDITION:return gu.FAILED_PRECONDITION;case Tf.ABORTED:return gu.ABORTED;case Tf.OUT_OF_RANGE:return gu.OUT_OF_RANGE;case Tf.UNIMPLEMENTED:return gu.UNIMPLEMENTED;case Tf.DATA_LOSS:return gu.DATA_LOSS;default:return fu()}}(jf=Tf||(Tf={}))[jf.OK=0]="OK",jf[jf.CANCELLED=1]="CANCELLED",jf[jf.UNKNOWN=2]="UNKNOWN",jf[jf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jf[jf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jf[jf.NOT_FOUND=5]="NOT_FOUND",jf[jf.ALREADY_EXISTS=6]="ALREADY_EXISTS",jf[jf.PERMISSION_DENIED=7]="PERMISSION_DENIED",jf[jf.UNAUTHENTICATED=16]="UNAUTHENTICATED",jf[jf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jf[jf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jf[jf.ABORTED=10]="ABORTED",jf[jf.OUT_OF_RANGE=11]="OUT_OF_RANGE",jf[jf.UNIMPLEMENTED=12]="UNIMPLEMENTED",jf[jf.INTERNAL=13]="INTERNAL",jf[jf.UNAVAILABLE=14]="UNAVAILABLE",jf[jf.DATA_LOSS=15]="DATA_LOSS";class Pf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Rf}static getOrCreateInstance(){return null===Rf&&(Rf=new Pf),Rf}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let Rf=null;function Df(){return new TextEncoder}const Of=new ru([4294967295,4294967295],0);function Lf(e){const t=Df().encode(e),n=new nu;return n.update(t),new Uint8Array(n.digest())}function Ff(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ru([n,r],0),new ru([i,s],0)]}class Mf{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Uf(`Invalid padding: ${t}`);if(n<0)throw new Uf(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Uf(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Uf(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=ru.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(ru.fromNumber(n)));return 1===r.compare(Of)&&(r=new ru([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Lf(e),[n,r]=Ff(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Mf(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.It)return;const t=Lf(e),[n,r]=Ff(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Uf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vf{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,zf.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Vf(Pu.min(),r,new ih(ju),Rd(),Bd())}}class zf{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new zf(n,t,Bd(),Bd(),Bd())}}class Bf{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class qf{constructor(e,t){this.targetId=e,this.Vt=t}}class $f{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hh.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Hf{constructor(){this.St=0,this.Dt=Gf(),this.Ct=hh.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Bd(),t=Bd(),n=Bd();return this.Dt.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:fu()}})),new zf(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=Gf()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Wf{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Rd(),this.zt=Kf(),this.Wt=new ih(ju)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,(t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:fu()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach(((e,n)=>{this.te(n)&&t(n)}))}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const s=i.target;if(dd(s))if(0===r){const e=new Fu(s.path);this.Yt(n,e,Uh.newNoDocument(e,Pu.min()))}else pu(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=Pf.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,s,a,o,l;const c={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(a=null===(s=null===(i=null==u?void 0:u.bits)||void 0===i?void 0:i.bitmap)||void 0===s?void 0:s.length)&&void 0!==a?a:0,padding:null!==(l=null===(o=null==u?void 0:u.bits)||void 0===o?void 0:o.padding)&&void 0!==l?l:0}),c}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=n;let o,l;try{o=mh(i).toUint8Array()}catch(e){if(e instanceof uh)return hu("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new Mf(o,s,a)}catch(e){return hu(e instanceof Uf?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Gt.ue(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;t.vt(s)||(this.Yt(e,n,null),r++)})),r}ce(e){const t=new Map;this.Qt.forEach(((n,r)=>{const i=this.se(r);if(i){if(n.current&&dd(i.target)){const t=new Fu(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,Uh.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}}));let n=Bd();this.zt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.jt.forEach(((t,n)=>n.setReadTime(e)));const r=new Vf(e,t,this.Wt,this.jt,n);return this.jt=Rd(),this.zt=Kf(),this.Wt=new ih(ju),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Hf,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new oh(ju),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||cu("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Hf),this.Gt.getRemoteKeysForTarget(e).forEach((t=>{this.Yt(e,t,null)}))}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Kf(){return new ih(Fu.comparator)}function Gf(){return new ih(Fu.comparator)}const Qf={asc:"ASCENDING",desc:"DESCENDING"},Yf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xf={and:"AND",or:"OR"};class Jf{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Zf(e,t){return e.useProto3Json||Qu(t)?t:{value:t}}function ep(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function tp(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function np(e,t){return ep(e,t.toTimestamp())}function rp(e){return pu(!!e),Pu.fromTimestamp(function(e){const t=fh(e);return new Au(t.seconds,t.nanos)}(e))}function ip(e,t){return function(e){return new Du(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function sp(e){const t=Du.fromString(e);return pu(Np(t)),t}function ap(e,t){return ip(e.databaseId,t.path)}function op(e,t){const n=sp(t);if(n.get(1)!==e.databaseId.projectId)throw new vu(gu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new vu(gu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Fu(hp(n))}function lp(e,t){return ip(e.databaseId,t)}function cp(e){const t=sp(e);return 4===t.length?Du.emptyPath():hp(t)}function up(e){return new Du(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function hp(e){return pu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function dp(e,t,n){return{name:ap(e,t),fields:n.value.mapValue.fields}}function fp(e,t){let n;if(t instanceof vf)n={update:dp(e,t.key,t.value)};else if(t instanceof kf)n={delete:ap(e,t.key)};else if(t instanceof yf)n={update:dp(e,t.key,t.data),updateMask:Sp(t.fieldMask)};else{if(!(t instanceof Ef))return fu();n={verify:ap(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Jd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Zd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof tf)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof rf)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw fu()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:np(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:fu()}(e,t.precondition)),n}function pp(e,t){return{documents:[lp(e,t.path)]}}function mp(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=lp(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=lp(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return Ep(Kh.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:xp(e.field),direction:yp(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Zf(e,t.limit);var o;return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function gp(e){let t=cp(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){pu(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=vp(e);return t instanceof Kh&&Qh(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map((e=>function(e){return new qh(kp(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Qu(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Vh(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Vh(n,t)}(n.endAt)),pd(t,i,a,s,o,"F",l,c)}function vp(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=kp(e.unaryFilter.field);return Wh.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=kp(e.unaryFilter.field);return Wh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=kp(e.unaryFilter.field);return Wh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=kp(e.unaryFilter.field);return Wh.create(i,"!=",{nullValue:"NULL_VALUE"});default:return fu()}}(e):void 0!==e.fieldFilter?function(e){return Wh.create(kp(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fu()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Kh.create(e.compositeFilter.filters.map((e=>vp(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return fu()}}(e.compositeFilter.op))}(e):fu()}function yp(e){return Qf[e]}function bp(e){return Yf[e]}function wp(e){return Xf[e]}function xp(e){return{fieldPath:e.canonicalString()}}function kp(e){return Lu.fromServerFormat(e.fieldPath)}function Ep(e){return e instanceof Wh?function(e){if("=="===e.op){if(Rh(e.value))return{unaryFilter:{field:xp(e.field),op:"IS_NAN"}};if(Ph(e.value))return{unaryFilter:{field:xp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Rh(e.value))return{unaryFilter:{field:xp(e.field),op:"IS_NOT_NAN"}};if(Ph(e.value))return{unaryFilter:{field:xp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xp(e.field),op:bp(e.op),value:e.value}}}(e):e instanceof Kh?function(e){const t=e.getFilters().map((e=>Ep(e)));return 1===t.length?t[0]:{compositeFilter:{op:wp(e.op),filters:t}}}(e):fu()}function Sp(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Np(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class _p{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Pu.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Pu.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:hh.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new _p(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new _p(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _p(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _p(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Cp{constructor(e){this.fe=e}}function Tp(e){const t=gp({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ed(t,t.limit,"L"):t}class jp{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(ph(e.integerValue));else if("doubleValue"in e){const n=ph(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),Yu(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie(`${n.seconds||""}`),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(mh(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?Lh(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):fu()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),Fu.fromName(e).path.forEach((e=>{this.ye(t,60),this.be(e,t)}))}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}jp.Ve=new jp;class Ip{constructor(){this.rn=new Ap}addToCollectionParentIndex(e,t){return this.rn.add(t),Wu.resolve()}getCollectionParents(e,t){return Wu.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Wu.resolve()}deleteFieldIndex(e,t){return Wu.resolve()}getDocumentsMatchingTarget(e,t){return Wu.resolve(null)}getIndexType(e,t){return Wu.resolve(0)}getFieldIndexes(e,t){return Wu.resolve([])}getNextCollectionGroupToUpdate(e){return Wu.resolve(null)}getMinOffset(e,t){return Wu.resolve(zu.min())}getMinOffsetFromCollectionGroup(e,t){return Wu.resolve(zu.min())}updateCollectionGroup(e,t,n){return Wu.resolve()}updateIndexEntries(e,t){return Wu.resolve()}}class Ap{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new oh(Du.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new oh(Du.comparator)).toArray()}}new Uint8Array(0);class Pp{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Pp(e,Pp.DEFAULT_COLLECTION_PERCENTILE,Pp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Pp.DEFAULT_COLLECTION_PERCENTILE=10,Pp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pp.DEFAULT=new Pp(41943040,Pp.DEFAULT_COLLECTION_PERCENTILE,Pp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pp.DISABLED=new Pp(-1,0,0);class Rp{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Rp(0)}static Mn(){return new Rp(-1)}}class Dp{constructor(){this.changes=new Ad((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Uh.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Wu.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Op{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Lp{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&pf(n.mutation,e,ch.empty(),Au.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Bd()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bd();const r=Fd();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Od();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Fd();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Bd())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Rd();const s=Ud(),a=Ud();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof yf)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),pf(a.mutation,t,a.mutation.getFieldMask(),Au.now())):s.set(t.key,ch.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new Op(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Ud();let r=new ih(((e,t)=>e-t)),i=Bd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||ch.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||Bd()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Md();l.forEach((e=>{if(!i.has(e)){const r=df(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Wu.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return Fu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):bd(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Wu.resolve(Fd());let a=-1,o=i;return s.next((t=>Wu.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Wu.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,Bd()))).next((e=>({batchId:a,changes:Ld(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Fu(t)).next((e=>{let t=Od();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=Od();return this.indexManager.getCollectionParents(e,r).next((s=>Wu.forEach(s,(s=>{const a=function(e,t){return new fd(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.getDocumentsMatchingCollectionQuery(e,a,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)))).next((e=>{r.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Uh.newInvalidDocument(r)))}));let n=Od();return e.forEach(((e,i)=>{const s=r.get(e);void 0!==s&&pf(s.mutation,i,ch.empty(),Au.now()),Cd(t,i)&&(n=n.insert(e,i))})),n}))}}class Fp{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Wu.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:rp(n.createTime)}),Wu.resolve()}getNamedQuery(e,t){return Wu.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Tp(e.bundledQuery),readTime:rp(e.readTime)}}(t)),Wu.resolve()}}class Mp{constructor(){this.overlays=new ih(Fu.comparator),this.ls=new Map}getOverlay(e,t){return Wu.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Fd();return Wu.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.we(e,t,r)})),Wu.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.ls.delete(n)),Wu.resolve()}getOverlaysForCollection(e,t,n){const r=Fd(),i=t.length+1,s=new Fu(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Wu.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ih(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Fd(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Fd(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return Wu.resolve(a)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new _f(t,n));let i=this.ls.get(t);void 0===i&&(i=Bd(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class Up{constructor(){this.fs=new oh(Vp.ds),this.ws=new oh(Vp._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new Vp(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ys(new Vp(e,t))}ps(e,t){e.forEach((e=>this.removeReference(e,t)))}Is(e){const t=new Fu(new Du([])),n=new Vp(t,e),r=new Vp(t,e+1),i=[];return this.ws.forEachInRange([n,r],(e=>{this.ys(e),i.push(e.key)})),i}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Fu(new Du([])),n=new Vp(t,e),r=new Vp(t,e+1);let i=Bd();return this.ws.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Vp(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Vp{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Fu.comparator(e.key,t.key)||ju(e.As,t.As)}static _s(e,t){return ju(e.As,t.As)||Fu.comparator(e.key,t.key)}}class zp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new oh(Vp.ds)}checkEmpty(e){return Wu.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Sf(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Rs=this.Rs.add(new Vp(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Wu.resolve(s)}lookupMutationBatch(e,t){return Wu.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return Wu.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Wu.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Wu.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Vp(t,0),r=new Vp(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],(e=>{const t=this.Ps(e.As);i.push(t)})),Wu.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new oh(ju);return t.forEach((e=>{const t=new Vp(e,0),r=new Vp(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],(e=>{n=n.add(e.As)}))})),Wu.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Fu.isDocumentKey(i)||(i=i.child(""));const s=new Vp(new Fu(i),0);let a=new oh(ju);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.As)),!0)}),s),Wu.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach((e=>{const n=this.Ps(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){pu(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return Wu.forEach(t.mutations,(r=>{const i=new Vp(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Rs=n}))}Cn(e){}containsKey(e,t){const n=new Vp(t,0),r=this.Rs.firstAfterOrEqual(n);return Wu.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Wu.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Bp{constructor(e){this.Ds=e,this.docs=new ih(Fu.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Wu.resolve(n?n.document.mutableCopy():Uh.newInvalidDocument(t))}getEntries(e,t){let n=Rd();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Uh.newInvalidDocument(e))})),Wu.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Rd();const s=t.path,a=new Fu(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Bu(Vu(a),n)<=0||(r.has(a.key)||Cd(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Wu.resolve(i)}getAllFromCollectionGroup(e,t,n,r){fu()}Cs(e,t){return Wu.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new qp(this)}getSize(e){return Wu.resolve(this.size)}}class qp extends Dp{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)})),Wu.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class $p{constructor(e){this.persistence=e,this.xs=new Ad((e=>ud(e)),hd),this.lastRemoteSnapshotVersion=Pu.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Up,this.targetCount=0,this.Ms=Rp.kn()}forEachTarget(e,t){return this.xs.forEach(((e,n)=>t(n))),Wu.resolve()}getLastRemoteSnapshotVersion(e){return Wu.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Wu.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Wu.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Wu.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Rp(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Wu.resolve()}updateTargetData(e,t){return this.Fn(t),Wu.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Wu.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.xs.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),Wu.waitFor(i).next((()=>r))}getTargetCount(e){return Wu.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return Wu.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),Wu.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Wu.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Wu.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return Wu.resolve(n)}containsKey(e,t){return Wu.resolve(this.ks.containsKey(t))}}class Hp{constructor(e,t){this.$s={},this.overlays={},this.Os=new Gu(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new $p(this),this.indexManager=new Ip,this.remoteDocumentCache=function(e){return new Bp(e)}((e=>this.referenceDelegate.Ls(e))),this.serializer=new Cp(t),this.qs=new Fp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Mp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new zp(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){cu("MemoryPersistence","Starting transaction:",e);const r=new Wp(this.Os.next());return this.referenceDelegate.Us(),n(r).next((e=>this.referenceDelegate.Ks(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gs(e,t){return Wu.or(Object.values(this.$s).map((n=>()=>n.containsKey(e,t))))}}class Wp extends $u{constructor(e){super(),this.currentSequenceNumber=e}}class Kp{constructor(e){this.persistence=e,this.Qs=new Up,this.js=null}static zs(e){return new Kp(e)}get Ws(){if(this.js)return this.js;throw fu()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Wu.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Wu.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Wu.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach((e=>this.Ws.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ws.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Wu.forEach(this.Ws,(n=>{const r=Fu.fromPath(n);return this.Hs(e,r).next((e=>{e||t.removeEntry(r,Pu.min())}))})).next((()=>(this.js=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hs(e,t).next((e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())}))}Ls(e){return 0}Hs(e,t){return Wu.or([()=>Wu.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Gp{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=Bd(),r=Bd();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Gp(e,t.fromCache,n,r)}}class Qp{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next((i=>i||this.Gi(e,t,r,n))).next((n=>n||this.Qi(e,t)))}Ki(e,t){if(gd(t))return Wu.resolve(null);let n=xd(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Ed(t,null,"F"),n=xd(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Bd(...r);return this.Ui.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.ji(t,r);return this.zi(t,s,i,n.readTime)?this.Ki(e,Ed(t,null,"F")):this.Wi(e,s,t,n)}))))})))))}Gi(e,t,n,r){return gd(t)||r.isEqual(Pu.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((i=>{const s=this.ji(t,i);return this.zi(t,s,n,r)?this.Qi(e,t):(lu()<=ut.DEBUG&&cu("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),_d(t)),this.Wi(e,s,t,Uu(r,-1)))}))}ji(e,t){let n=new oh(jd(e));return t.forEach(((t,r)=>{Cd(e,r)&&(n=n.add(r))})),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return lu()<=ut.DEBUG&&cu("QueryEngine","Using full collection scan to execute query:",_d(t)),this.Ui.getDocumentsMatchingQuery(e,t,zu.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Yp{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new ih(ju),this.Yi=new Ad((e=>ud(e)),hd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Lp(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}function Xp(e,t,n,r){return new Yp(e,t,n,r)}async function Jp(e,t){const n=mu(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=Bd();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({er:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Zp(e){const t=mu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Bs.getLastRemoteSnapshotVersion(e)))}function em(e,t,n){let r=Bd(),i=Bd();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Rd();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Pu.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):cu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{nr:r,sr:i}}))}function tm(e,t){const n=mu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function nm(e,t){const n=mu(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Bs.getTargetData(e,t).next((i=>i?(r=i,Wu.resolve(r)):n.Bs.allocateTargetId(e).next((i=>(r=new _p(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}async function rm(e,t,n){const r=mu(e),i=r.Ji.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Ku(e))throw e;cu("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function im(e,t,n){const r=mu(e);let i=Pu.min(),s=Bd();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=mu(e),i=r.Yi.get(n);return void 0!==i?Wu.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,xd(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:Pu.min(),n?s:Bd()))).next((e=>(sm(r,Td(t),e),{documents:e,ir:s})))))}function sm(e,t,n){let r=e.Xi.get(t)||Pu.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}class am{constructor(){this.activeTargetIds=$d()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class om{constructor(){this.Hr=new am,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new am,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class lm{Yr(e){}shutdown(){}}class cm{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){cu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){cu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let um=null;function hm(){return null===um?um=268435456+Math.round(2147483648*Math.random()):um++,"0x"+um.toString(16)}const dm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fm{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const pm="WebChannelConnection";class mm extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const s=hm(),a=this.To(e,t);cu("RestConnection",`Sending RPC '${e}' ${s}:`,a,n);const o={};return this.Eo(o,r,i),this.Ao(e,a,o,n).then((t=>(cu("RestConnection",`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw hu("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t}))}vo(e,t,n,r,i,s){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+au,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}To(e,t){const n=dm[e];return`${this.mo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=hm();return new Promise(((s,a)=>{const o=new tu;o.setWithCredentials(!0),o.listenOnce(Yc.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Qc.NO_ERROR:const t=o.getResponseJson();cu(pm,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case Qc.TIMEOUT:cu(pm,`RPC '${e}' ${i} timed out`),a(new vu(gu.DEADLINE_EXCEEDED,"Request time out"));break;case Qc.HTTP_ERROR:const n=o.getStatus();if(cu(pm,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(gu).indexOf(t)>=0?t:gu.UNKNOWN}(t.status);a(new vu(e,t.message))}else a(new vu(gu.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new vu(gu.UNAVAILABLE,"Connection failed."));break;default:fu()}}finally{cu(pm,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);cu(pm,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)}))}Ro(e,t,n){const r=hm(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Kc(),a=Gc(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.xmlHttpFactory=new Zc({})),this.Eo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");cu(pm,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=s.createWebChannel(c,o);let h=!1,d=!1;const f=new fm({ro:t=>{d?cu(pm,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(cu(pm,`Opening RPC '${e}' stream ${r} transport.`),u.open(),h=!0),cu(pm,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},oo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,eu.EventType.OPEN,(()=>{d||cu(pm,`RPC '${e}' stream ${r} transport opened.`)})),p(u,eu.EventType.CLOSE,(()=>{d||(d=!0,cu(pm,`RPC '${e}' stream ${r} transport closed`),f.wo())})),p(u,eu.EventType.ERROR,(t=>{d||(d=!0,hu(pm,`RPC '${e}' stream ${r} transport errored:`,t),f.wo(new vu(gu.UNAVAILABLE,"The operation could not be completed")))})),p(u,eu.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];pu(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){cu(pm,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=Tf[e];if(void 0!==t)return Af(t)}(t),i=a.message;void 0===n&&(n=gu.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,f.wo(new vu(n,i)),u.close()}else cu(pm,`RPC '${e}' stream ${r} received:`,i),f._o(i)}})),p(a,Xc.STAT_EVENT,(t=>{t.stat===Jc.PROXY?cu(pm,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Jc.NOPROXY&&cu(pm,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.fo()}),0),f}}function gm(){return"undefined"!=typeof document?document:null}function vm(e){return new Jf(e,!0)}class ym{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&cu("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class bm{constructor(e,t,n,r,i,s,a,o){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ym(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===gu.RESOURCE_EXHAUSTED?(uu(t.toString()),uu("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===gu.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)}),(t=>{e((()=>{const e=new vu(gu.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)}))}))}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((e=>{n((()=>this.tu(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return cu("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.Fo===e?t():(cu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wm extends bm{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:fu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(pu(void 0===t||"string"==typeof t),hh.fromBase64String(t||"")):(pu(void 0===t||t instanceof Uint8Array),hh.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?gu.UNKNOWN:Af(e.code);return new vu(t,e.message||"")}(a);n=new $f(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=op(e,r.document.name),s=rp(r.document.updateTime),a=r.document.createTime?rp(r.document.createTime):Pu.min(),o=new Fh({mapValue:{fields:r.document.fields}}),l=Uh.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Bf(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=op(e,r.document),s=r.readTime?rp(r.readTime):Pu.min(),a=Uh.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Bf([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=op(e,r.document),s=r.removedTargetIds||[];n=new Bf([],s,i,null)}else{if(!("filter"in t))return fu();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Cf(r,i),a=e.targetId;n=new qf(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Pu.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Pu.min():t.readTime?rp(t.readTime):Pu.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=up(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=dd(r)?{documents:pp(e,r)}:{query:mp(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=tp(e,t.resumeToken);const r=Zf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Pu.min())>0){n.readTime=ep(e,t.snapshotVersion.toTimestamp());const r=Zf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fu()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=up(this.serializer),t.removeTarget=e,this.Wo(t)}}class xm extends bm{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(pu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(pu(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?rp(e.updateTime):rp(t);return n.isEqual(Pu.min())&&(n=rp(t)),new lf(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=rp(e.commitTime);return this.listener.cu(n,t)}return pu(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=up(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>fp(this.serializer,e)))};this.Wo(t)}}class km extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new vu(gu.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,s]=r;return this.connection.Io(e,t,n,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===gu.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new vu(gu.UNKNOWN,e.toString())}))}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.vo(e,t,n,s,a,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===gu.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new vu(gu.UNKNOWN,e.toString())}))}terminate(){this.lu=!0}}class Em{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(uu(t),this.mu=!1):cu("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Sm{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr((e=>{n.enqueueAndForget((async()=>{Rm(this)&&(cu("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=mu(e);t.vu.add(4),await _m(t),t.bu.set("Unknown"),t.vu.delete(4),await Nm(t)}(this))}))})),this.bu=new Em(n,r)}}async function Nm(e){if(Rm(e))for(const t of e.Ru)await t(!0)}async function _m(e){for(const t of e.Ru)await t(!1)}function Cm(e,t){const n=mu(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),Pm(n)?Am(n):Xm(n).Ko()&&jm(n,t))}function Tm(e,t){const n=mu(e),r=Xm(n);n.Au.delete(t),r.Ko()&&Im(n,t),0===n.Au.size&&(r.Ko()?r.jo():Rm(n)&&n.bu.set("Unknown"))}function jm(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Pu.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Xm(e).su(t)}function Im(e,t){e.Vu.qt(t),Xm(e).iu(t)}function Am(e){e.Vu=new Wf({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),Xm(e).start(),e.bu.gu()}function Pm(e){return Rm(e)&&!Xm(e).Uo()&&e.Au.size>0}function Rm(e){return 0===mu(e).vu.size}function Dm(e){e.Vu=void 0}async function Om(e){e.Au.forEach(((t,n)=>{jm(e,t)}))}async function Lm(e,t){Dm(e),Pm(e)?(e.bu.Iu(t),Am(e)):e.bu.set("Unknown")}async function Fm(e,t,n){if(e.bu.set("Online"),t instanceof $f&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){cu("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Mm(e,n)}else if(t instanceof Bf?e.Vu.Ht(t):t instanceof qf?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(Pu.min()))try{const t=await Zp(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(hh.EMPTY_BYTE_STRING,r.snapshotVersion)),Im(e,t);const i=new _p(r.target,t,n,r.sequenceNumber);jm(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){cu("RemoteStore","Failed to raise snapshot:",t),await Mm(e,t)}}async function Mm(e,t,n){if(!Ku(t))throw t;e.vu.add(1),await _m(e),e.bu.set("Offline"),n||(n=()=>Zp(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{cu("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await Nm(e)}))}function Um(e,t){return t().catch((n=>Mm(e,n,t)))}async function Vm(e){const t=mu(e),n=Jm(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;zm(t);)try{const e=await tm(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,Bm(t,e)}catch(e){await Mm(t,e)}qm(t)&&$m(t)}function zm(e){return Rm(e)&&e.Eu.length<10}function Bm(e,t){e.Eu.push(t);const n=Jm(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function qm(e){return Rm(e)&&!Jm(e).Uo()&&e.Eu.length>0}function $m(e){Jm(e).start()}async function Hm(e){Jm(e).hu()}async function Wm(e){const t=Jm(e);for(const n of e.Eu)t.uu(n.mutations)}async function Km(e,t,n){const r=e.Eu.shift(),i=Nf.from(r,t,n);await Um(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Vm(e)}async function Gm(e,t){t&&Jm(e).ou&&await async function(e,t){if(If(n=t.code)&&n!==gu.ABORTED){const n=e.Eu.shift();Jm(e).Qo(),await Um(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Vm(e)}var n}(e,t),qm(e)&&$m(e)}async function Qm(e,t){const n=mu(e);n.asyncQueue.verifyOperationInProgress(),cu("RemoteStore","RemoteStore received new credentials");const r=Rm(n);n.vu.add(3),await _m(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await Nm(n)}async function Ym(e,t){const n=mu(e);t?(n.vu.delete(2),await Nm(n)):t||(n.vu.add(2),await _m(n),n.bu.set("Unknown"))}function Xm(e){return e.Su||(e.Su=function(e,t,n){const r=mu(e);return r.fu(),new wm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Om.bind(null,e),ao:Lm.bind(null,e),nu:Fm.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Qo(),Pm(e)?Am(e):e.bu.set("Unknown")):(await e.Su.stop(),Dm(e))}))),e.Su}function Jm(e){return e.Du||(e.Du=function(e,t,n){const r=mu(e);return r.fu(),new xm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Hm.bind(null,e),ao:Gm.bind(null,e),au:Wm.bind(null,e),cu:Km.bind(null,e)}),e.Ru.push((async t=>{t?(e.Du.Qo(),await Vm(e)):(await e.Du.stop(),e.Eu.length>0&&(cu("RemoteStore",`Stopping write stream with ${e.Eu.length} pending writes`),e.Eu=[]))}))),e.Du}class Zm{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new yu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new Zm(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vu(gu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eg(e,t){if(uu("AsyncQueue",`${t}: ${e}`),Ku(e))return new vu(gu.UNAVAILABLE,`${t}: ${e}`);throw e}class tg{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Fu.comparator(t.key,n.key):(e,t)=>Fu.comparator(e.key,t.key),this.keyedMap=Od(),this.sortedSet=new ih(this.comparator)}static emptySet(e){return new tg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof tg))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new tg;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class ng{constructor(){this.Cu=new ih(Fu.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):fu():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class rg{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new rg(e,t,tg.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class ig{constructor(){this.Nu=void 0,this.listeners=[]}}class sg{constructor(){this.queries=new Ad((e=>Nd(e)),Sd),this.onlineState="Unknown",this.ku=new Set}}async function ag(e,t){const n=mu(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new ig),i)try{s.Nu=await n.onListen(r)}catch(e){const n=eg(e,`Initialization of query '${_d(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Mu(n.onlineState),s.Nu&&t.$u(s.Nu)&&ug(n)}async function og(e,t){const n=mu(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function lg(e,t){const n=mu(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&ug(n)}function cg(e,t,n){const r=mu(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function ug(e){e.ku.forEach((e=>{e.next()}))}class hg{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new rg(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=rg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class dg{constructor(e){this.key=e}}class fg{constructor(e){this.key=e}}class pg{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Bd(),this.mutatedKeys=Bd(),this.tc=jd(e),this.ec=new tg(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new ng,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Cd(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.rc(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.tc(u,o)>0||l&&this.tc(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:s,ic:n,zi:a,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fu()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc))),this.oc(n);const s=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,o=a!==this.Xu;return this.Xu=a,0!==i.length||o?{snapshot:new rg(this.query,e.ec,r,i,e.mutatedKeys,0===a,o,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new ng,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((e=>this.Yu=this.Yu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Yu=this.Yu.delete(e))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Bd(),this.ec.forEach((e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))}));const t=[];return e.forEach((e=>{this.Zu.has(e)||t.push(new fg(e))})),this.Zu.forEach((n=>{e.has(n)||t.push(new dg(n))})),t}hc(e){this.Yu=e.ir,this.Zu=Bd();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return rg.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class mg{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class gg{constructor(e){this.key=e,this.fc=!1}}class vg{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new Ad((e=>Nd(e)),Sd),this._c=new Map,this.mc=new Set,this.gc=new ih(Fu.comparator),this.yc=new Map,this.Ic=new Up,this.Tc={},this.Ec=new Map,this.Ac=Rp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function yg(e,t){const n=Lg(e);let r,i;const s=n.wc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const e=await nm(n.localStore,xd(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await bg(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&Cm(n.remoteStore,e)}return i}async function bg(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await im(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.sc(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s);return Ig(e,t.targetId,a.cc),a.snapshot}(e,t,n,r);const s=await im(e.localStore,t,!0),a=new pg(t,s.ir),o=a.sc(s.documents),l=zf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);Ig(e,n,c.cc);const u=new mg(t,n,a);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}async function wg(e,t){const n=mu(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter((e=>!Sd(e,t)))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await rm(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Tm(n.remoteStore,r.targetId),Tg(n,r.targetId)})).catch(Hu)):(Tg(n,r.targetId),await rm(n.localStore,r.targetId,!0))}async function xg(e,t){const n=mu(e);try{const e=await function(e,t){const n=mu(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];t.targetChanges.forEach(((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Bs.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.Bs.addMatchingKeys(e,s.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(hh.EMPTY_BYTE_STRING,Pu.min()).withLastLimboFreeSnapshotVersion(Pu.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Bs.updateTargetData(e,c))}));let o=Rd(),l=Bd();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(em(e,s,t.documentUpdates).next((e=>{o=e.nr,l=e.sr}))),!r.isEqual(Pu.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next((t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return Wu.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.Ji=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.yc.get(t);r&&(pu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?pu(r.fc):e.removedDocuments.size>0&&(pu(r.fc),r.fc=!1))})),await Rg(n,e,t)}catch(e){await Hu(e)}}function kg(e,t,n){const r=mu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach(((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=mu(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)})),r&&ug(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Eg(e,t,n){const r=mu(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),s=i&&i.key;if(s){let e=new ih(Fu.comparator);e=e.insert(s,Uh.newNoDocument(s,Pu.min()));const n=Bd().add(s),i=new Vf(Pu.min(),new Map,new ih(ju),e,n);await xg(r,i),r.gc=r.gc.remove(s),r.yc.delete(t),Pg(r)}else await rm(r.localStore,t,!1).then((()=>Tg(r,t,n))).catch(Hu)}async function Sg(e,t){const n=mu(e),r=t.batch.batchId;try{const e=await function(e,t){const n=mu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=Wu.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);pu(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Bd();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Cg(n,r,null),_g(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Rg(n,e)}catch(e){await Hu(e)}}async function Ng(e,t,n){const r=mu(e);try{const e=await function(e,t){const n=mu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(pu(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Cg(r,t,n),_g(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Rg(r,e)}catch(n){await Hu(n)}}function _g(e,t){(e.Ec.get(t)||[]).forEach((e=>{e.resolve()})),e.Ec.delete(t)}function Cg(e,t,n){const r=mu(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function Tg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((t=>{e.Ic.containsKey(t)||jg(e,t)}))}function jg(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(Tm(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),Pg(e))}function Ig(e,t,n){for(const r of n)r instanceof dg?(e.Ic.addReference(r.key,t),Ag(e,r)):r instanceof fg?(cu("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||jg(e,r.key)):fu()}function Ag(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(cu("SyncEngine","New document in limbo: "+n),e.mc.add(r),Pg(e))}function Pg(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new Fu(Du.fromString(t)),r=e.Ac.next();e.yc.set(r,new gg(n)),e.gc=e.gc.insert(n,r),Cm(e.remoteStore,new _p(xd(md(n.path)),r,"TargetPurposeLimboResolution",Gu.ct))}}async function Rg(e,t,n){const r=mu(e),i=[],s=[],a=[];r.wc.isEmpty()||(r.wc.forEach(((e,o)=>{a.push(r.Rc(o,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Gp.Li(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.dc.nu(i),await async function(e,t){const n=mu(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Wu.forEach(t,(t=>Wu.forEach(t.Fi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Wu.forEach(t.Bi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Ku(e))throw e;cu("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,s))}async function Dg(e,t){const n=mu(e);if(!n.currentUser.isEqual(t)){cu("SyncEngine","User change. New user:",t.toKey());const e=await Jp(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach((e=>{e.forEach((e=>{e.reject(new vu(gu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Rg(n,e.er)}}function Og(e,t){const n=mu(e),r=n.yc.get(t);if(r&&r.fc)return Bd().add(r.key);{let e=Bd();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function Lg(e){const t=mu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=xg.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Og.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Eg.bind(null,t),t.dc.nu=lg.bind(null,t.eventManager),t.dc.Pc=cg.bind(null,t.eventManager),t}function Fg(e){const t=mu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Sg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ng.bind(null,t),t}class Mg{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=vm(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Xp(this.persistence,new Qp,e.initialUser,this.serializer)}createPersistence(e){return new Hp(Kp.zs,this.serializer)}createSharedClientState(e){return new om}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Ug{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>kg(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Dg.bind(null,this.syncEngine),await Ym(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new sg}createDatastore(e){const t=vm(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new mm(r));var r;return function(e,t,n,r){return new km(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>kg(this.syncEngine,e,0),s=cm.D()?new cm:new lm,new Sm(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new vg(e,t,n,r,i,s);return a&&(o.vc=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=mu(e);cu("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await _m(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class Vg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):uu("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class zg{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=su.UNAUTHENTICATED,this.clientId=Tu.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{cu("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(cu("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new vu(gu.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(cw){const n=eg(cw,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Bg(e,t){e.asyncQueue.verifyOperationInProgress(),cu("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Jp(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function qg(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Hg(e);cu("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>Qm(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Qm(t.remoteStore,n))),e._onlineComponents=t}function $g(e){return"FirebaseError"===e.name?e.code===gu.FAILED_PRECONDITION||e.code===gu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Hg(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){cu("FirestoreClient","Using user provided OfflineComponentProvider");try{await Bg(e,e._uninitializedComponentsProvider._offline)}catch(cw){const n=cw;if(!$g(n))throw n;hu("Error using user provided cache. Falling back to memory cache: "+n),await Bg(e,new Mg)}}else cu("FirestoreClient","Using default OfflineComponentProvider"),await Bg(e,new Mg);return e._offlineComponents}async function Wg(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(cu("FirestoreClient","Using user provided OnlineComponentProvider"),await qg(e,e._uninitializedComponentsProvider._online)):(cu("FirestoreClient","Using default OnlineComponentProvider"),await qg(e,new Ug))),e._onlineComponents}function Kg(e){return Wg(e).then((e=>e.syncEngine))}async function Gg(e){const t=await Wg(e),n=t.eventManager;return n.onListen=yg.bind(null,t.syncEngine),n.onUnlisten=wg.bind(null,t.syncEngine),n}function Qg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new yu;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Vg({next:s=>{t.enqueueAndForget((()=>og(e,a)));const o=s.docs.has(n);!o&&s.fromCache?i.reject(new vu(gu.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&s.fromCache&&r&&"server"===r.source?i.reject(new vu(gu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new hg(md(n.path),s,{includeMetadataChanges:!0,Ku:!0});return ag(e,a)}(await Gg(e),e.asyncQueue,t,n,r))),r.promise}function Yg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new yu;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Vg({next:n=>{t.enqueueAndForget((()=>og(e,a))),n.fromCache&&"server"===r.source?i.reject(new vu(gu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new hg(n,s,{includeMetadataChanges:!0,Ku:!0});return ag(e,a)}(await Gg(e),e.asyncQueue,t,n,r))),r.promise}function Xg(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Jg=new Map;function Zg(e,t,n){if(!n)throw new vu(gu.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function ev(e){if(!Fu.isDocumentKey(e))throw new vu(gu.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function tv(e){if(Fu.isDocumentKey(e))throw new vu(gu.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function nv(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":fu()}function rv(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new vu(gu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nv(e);throw new vu(gu.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class iv{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new vu(gu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new vu(gu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new vu(gu.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xg(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new vu(gu.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new vu(gu.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new vu(gu.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class sv{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new vu(gu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new vu(gu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iv(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new wu;switch(e.type){case"firstParty":return new Su(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new vu(gu.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Jg.get(e);t&&(cu("ComponentProvider","Removing Datastore"),Jg.delete(e),t.terminate())}(this),Promise.resolve()}}class av{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lv(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new av(this.firestore,e,this._key)}}class ov{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ov(this.firestore,e,this._query)}}class lv extends ov{constructor(e,t,n){super(e,t,md(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new av(this.firestore,null,new Fu(e))}withConverter(e){return new lv(this.firestore,e,this._path)}}function cv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=it(e),Zg("collection","path",t),e instanceof sv){const n=Du.fromString(t,...r);return tv(n),new lv(e,null,n)}{if(!(e instanceof av||e instanceof lv))throw new vu(gu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Du.fromString(t,...r));return tv(n),new lv(e.firestore,null,n)}}function uv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=it(e),1===arguments.length&&(t=Tu.A()),Zg("doc","path",t),e instanceof sv){const n=Du.fromString(t,...r);return ev(n),new av(e,null,new Fu(n))}{if(!(e instanceof av||e instanceof lv))throw new vu(gu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Du.fromString(t,...r));return ev(n),new av(e.firestore,e instanceof lv?e.converter:null,new Fu(n))}}class hv{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ym(this,"async_queue_retry"),this.Xc=()=>{const e=gm();e&&cu("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=gm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=gm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const t=new yu;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Ku(e))throw e;cu("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const t=this.Gc.then((()=>(this.Hc=!0,e().catch((e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw uu("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Hc=!1,e))))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=Zm.createAndSchedule(this,e,t,n,(e=>this.na(e)));return this.zc.push(r),r}Zc(){this.Wc&&fu()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class dv extends sv{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new hv,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||pv(this),this._firestoreClient.terminate()}}function fv(e){return e._firestoreClient||pv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function pv(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new bh(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Xg(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new zg(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class mv{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mv(hh.fromBase64String(e))}catch(e){throw new vu(gu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new mv(hh.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class gv{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new vu(gu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lu(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vv{constructor(e){this._methodName=e}}class yv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new vu(gu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new vu(gu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ju(this._lat,e._lat)||ju(this._long,e._long)}}const bv=/^__.*__$/;class wv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new yf(e,this.data,this.fieldMask,t,this.fieldTransforms):new vf(e,this.data,t,this.fieldTransforms)}}class xv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new yf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function kv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fu()}}class Ev{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Ev(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Uv(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(kv(this.ca)&&bv.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Sv{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||vm(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Ev({ca:e,methodName:t,ga:n,path:Lu.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nv(e){const t=e._freezeSettings(),n=vm(e._databaseId);return new Sv(e._databaseId,!!t.ignoreUndefinedProperties,n)}function _v(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.ya(s.merge||s.mergeFields?2:0,t,n,i);Ov("Data must be an object, but it was:",a,r);const o=Rv(r,a);let l,c;if(s.merge)l=new ch(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Lv(t,r,n);if(!a.contains(i))throw new vu(gu.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Vv(e,i)||e.push(i)}l=new ch(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new wv(new Fh(o),l,c)}class Cv extends vv{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cv}}class Tv extends vv{_toFieldTransform(e){return new of(e.path,new Jd)}isEqual(e){return e instanceof Tv}}function jv(e,t,n,r){const i=e.ya(1,t,n);Ov("Data must be an object, but it was:",i,r);const s=[],a=Fh.empty();nh(r,((e,r)=>{const o=Mv(t,e,n);r=it(r);const l=i.da(o);if(r instanceof Cv)s.push(o);else{const e=Pv(r,l);null!=e&&(s.push(o),a.set(o,e))}}));const o=new ch(s);return new xv(a,o,i.fieldTransforms)}function Iv(e,t,n,r,i,s){const a=e.ya(1,t,n),o=[Lv(t,r,n)],l=[i];if(s.length%2!=0)throw new vu(gu.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)o.push(Lv(t,s[d])),l.push(s[d+1]);const c=[],u=Fh.empty();for(let d=o.length-1;d>=0;--d)if(!Vv(c,o[d])){const e=o[d];let t=l[d];t=it(t);const n=a.da(e);if(t instanceof Cv)c.push(e);else{const r=Pv(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new ch(c);return new xv(u,h,a.fieldTransforms)}function Av(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Pv(n,e.ya(r?4:3,t))}function Pv(e,t){if(Dv(e=it(e)))return Ov("Unsupported field value:",t,e),Rv(e,t);if(e instanceof vv)return function(e,t){if(!kv(t.ca))throw t._a(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t._a(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Pv(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=it(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Kd(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Au.fromDate(e);return{timestampValue:ep(t.serializer,n)}}if(e instanceof Au){const n=new Au(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ep(t.serializer,n)}}if(e instanceof yv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof mv)return{bytesValue:tp(t.serializer,e._byteString)};if(e instanceof av){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:ip(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a(`Unsupported field value: ${nv(e)}`)}(e,t)}function Rv(e,t){const n={};return rh(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):nh(e,((e,r)=>{const i=Pv(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Dv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Au||e instanceof yv||e instanceof mv||e instanceof av||e instanceof vv)}function Ov(e,t,n){if(!Dv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=nv(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function Lv(e,t,n){if((t=it(t))instanceof gv)return t._internalPath;if("string"==typeof t)return Mv(e,t);throw Uv("Field path arguments must be of type string or ",e,!1,void 0,n)}const Fv=new RegExp("[~\\*/\\[\\]]");function Mv(e,t,n){if(t.search(Fv)>=0)throw Uv(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new gv(...t.split("."))._internalPath}catch(r){throw Uv(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Uv(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new vu(gu.INVALID_ARGUMENT,o+e+l)}function Vv(e,t){return e.some((e=>e.isEqual(t)))}class zv{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new av(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Bv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(qv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Bv extends zv{data(){return super.data()}}function qv(e,t){return"string"==typeof t?Mv(e,t):t instanceof gv?t._internalPath:t._delegate._internalPath}function $v(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new vu(gu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hv{}class Wv extends Hv{}function Kv(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Hv&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Yv)).length,n=e.filter((e=>e instanceof Gv)).length;if(t>1||t>0&&n>0)throw new vu(gu.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Gv extends Wv{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Gv(e,t,n)}_apply(e){const t=this._parse(e);return ey(e._query,t),new ov(e.firestore,e.converter,kd(e._query,t))}_parse(e){const t=Nv(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new vu(gu.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){Zv(a,s);const t=[];for(const n of a)t.push(Jv(r,e,n));o={arrayValue:{values:t}}}else o=Jv(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Zv(a,s),o=Av(n,"where",a,"in"===s||"not-in"===s);return Wh.create(i,s,o)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Qv(e,t,n){const r=t,i=qv("where",e);return Gv._create(i,r,n)}class Yv extends Hv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Yv(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Kh.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)ey(n,i),n=kd(n,i)}(e._query,t),new ov(e.firestore,e.converter,kd(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Xv extends Wv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Xv(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new vu(gu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new vu(gu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new qh(t,n);return function(e,t){if(null===vd(e)){const n=yd(e);null!==n&&ty(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new ov(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new fd(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Jv(e,t,n){if("string"==typeof(n=it(n))){if(""===n)throw new vu(gu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bd(t)&&-1!==n.indexOf("/"))throw new vu(gu.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Du.fromString(n));if(!Fu.isDocumentKey(r))throw new vu(gu.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return jh(e,new Fu(r))}if(n instanceof av)return jh(e,n._key);throw new vu(gu.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nv(n)}.`)}function Zv(e,t){if(!Array.isArray(e)||0===e.length)throw new vu(gu.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ey(e,t){if(t.isInequality()){const n=yd(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new vu(gu.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${r.toString()}'`);const i=vd(e);null!==i&&ty(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new vu(gu.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new vu(gu.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function ty(e,t,n){if(!n.isEqual(t))throw new vu(gu.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class ny{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(kh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ph(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(mh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw fu()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return nh(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new yv(ph(e.latitude),ph(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=vh(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(yh(e));default:return null}}convertTimestamp(e){const t=fh(e);return new Au(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Du.fromString(e);pu(Np(n));const r=new wh(n.get(1),n.get(3)),i=new Fu(n.popFirst(5));return r.isEqual(t)||uu(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function ry(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class iy{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sy extends zv{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new ay(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(qv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class ay extends sy{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class oy{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new iy(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new ay(this._firestore,this._userDataWriter,n.key,n,new iy(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new vu(gu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new ay(e._firestore,e._userDataWriter,n.doc.key,n.doc,new iy(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new ay(e._firestore,e._userDataWriter,t.doc.key,t.doc,new iy(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:ly(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function ly(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fu()}}function cy(e){e=rv(e,av);const t=rv(e.firestore,dv);return Qg(fv(t),e._key).then((n=>vy(t,e,n)))}class uy extends ny{constructor(e){super(),this.firestore=e}convertBytes(e){return new mv(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new av(this.firestore,null,t)}}function hy(e){e=rv(e,ov);const t=rv(e.firestore,dv),n=fv(t),r=new uy(t);return $v(e._query),Yg(n,e._query).then((n=>new oy(t,r,e,n)))}function dy(e,t,n){e=rv(e,av);const r=rv(e.firestore,dv),i=ry(e.converter,t,n);return gy(r,[_v(Nv(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,cf.none())])}function fy(e,t,n){e=rv(e,av);const r=rv(e.firestore,dv),i=Nv(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=it(t))||t instanceof gv?Iv(i,"updateDoc",e._key,t,n,o):jv(i,"updateDoc",e._key,t),gy(r,[s.toMutation(e._key,cf.exists(!0))])}function py(e){return gy(rv(e.firestore,dv),[new kf(e._key,cf.none())])}function my(e,t){const n=rv(e.firestore,dv),r=uv(e),i=ry(e.converter,t);return gy(n,[_v(Nv(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,cf.exists(!1))]).then((()=>r))}function gy(e,t){return function(e,t){const n=new yu;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Fg(e);try{const e=await function(e,t){const n=mu(e),r=Au.now(),i=t.reduce(((e,t)=>e.add(t.key)),Bd());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Rd(),l=Bd();return n.Zi.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=mf(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new yf(e.key,t,Mh(t.value.mapValue),cf.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:Ld(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new ih(ju)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await Rg(r,e.changes),await Vm(r.remoteStore)}catch(e){const t=eg(e,"Failed to persist write");n.reject(t)}}(await Kg(e),t,n))),n.promise}(fv(e),t)}function vy(e,t,n){const r=n.docs.get(t._key),i=new uy(e);return new sy(e,i,t._key,r,new iy(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){au=e}(gn),dn(new st("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new dv(new ku(e.getProvider("auth-internal")),new _u(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new vu(gu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wh(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),bn(iu,"3.13.0",e),bn(iu,"3.13.0","esm2017")}();const yy="firebasestorage.googleapis.com",by="storageBucket";class wy extends Ge{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Ey(e),`Firebase Storage: ${t} (${Ey(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wy.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ey(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var xy,ky;function Ey(e){return"storage/"+e}function Sy(){return new wy(xy.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Ny(){return new wy(xy.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _y(){return new wy(xy.CANCELED,"User canceled the upload/download.")}function Cy(e){return new wy(xy.INVALID_ARGUMENT,e)}function Ty(){return new wy(xy.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(xy||(xy={}));class jy{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=jy.makeFromUrl(e,t)}catch(cw){return new jy(e,"")}if(""===n.path)return n;throw r=e,new wy(xy.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${a}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp(`^https?://${t===yy?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new jy(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new wy(xy.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Iy{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Ay(e,t,n,r){if(r<t)throw Cy(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Cy(`Invalid value for '${e}'. Expected ${n} or less.`)}function Py(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Ry(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(ky||(ky={}));class Dy{constructor(e,t,n,r,i,s,a,o,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new Oy(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===ky.NO_ERROR,i=n.getStatus();if(!t||Ry(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===ky.ABORT;return void e(!1,new Oy(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new Oy(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(cw){r(cw)}else if(null!==i){const e=Sy();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?Ty():_y())}else{r(Ny())}};this.canceled_?t(0,new Oy(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function d(){s&&clearTimeout(s)}function f(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(l()||a)return d(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===o?(o=2,s=0):s=1e3*(r+Math.random()),h(s)}let p=!1;function m(e){p||(p=!0,d(),c||(null!==i?(e||(o=2),clearTimeout(i),h(0)):e||(o=1)))}return h(0),s=setTimeout((()=>{a=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Oy{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Ly(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class Fy{constructor(e,t){this._service=e,this._location=t instanceof jy?t:jy.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Fy(e,t)}get root(){const e=new jy(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ly(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new jy(this._location.bucket,e);return new Fy(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new wy(xy.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function My(e,t){const n=null===t||void 0===t?void 0:t[by];return null==n?null:jy.makeFromBucketSpec(n,e)}class Uy{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=yy,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?jy.makeFromBucketSpec(r,this._host):My(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=jy.makeFromBucketSpec(this._url,e):this._bucket=My(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ay("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ay("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Fy(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Iy(Ty());{const s=function(e,t,n,r,i,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=Py(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new Dy(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Vy="@firebase/storage",zy="0.11.2",By="storage";function qy(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Uy(r,i,s,n,gn)}dn(new st(By,qy,"PUBLIC").setMultipleInstances(!0)),bn(Vy,zy,""),bn(Vy,zy,"esm2017");const $y=vn({apiKey:"AIzaSyAvXOapjqvQ2ru6JeG7jy5aMYuZ_bEpGxg",authDomain:"travelnest-app-1.firebaseapp.com",projectId:"travelnest-app-1",storageBucket:"travelnest-app-1.firebasestorage.app",messagingSenderId:"557240068663",appId:"1:557240068663:web:b82df76a646767db0b2db2",measurementId:"G-Q6H5YMQ67M"}),Hy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn();const t=fn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=fn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Xe(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Ln(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Is,persistence:[qi,_i,Ti]}),r=qe("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Ds)return;const r=null===t||void 0===t?void 0:t.token;Os!==r&&(Os=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){it(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){it(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}var i;const s=Ve("auth");return s&&$r(n,`http://${s}`),n}($y),Wy=function(e,t){const n="string"==typeof e?e:t||"(default)",r=fn("object"==typeof e?e:yn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=ze("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=rv(e,sv))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==a&&hu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=su.MOCK_USER;else{t=He(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new vu(gu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new su(s)}e._authCredentials=new xu(new bu(t,n))}}(r,...e)}return r}($y);!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn(),t=arguments.length>1?arguments[1]:void 0;e=it(e);const n=fn(e,By).getImmediate({identifier:t}),r=ze("storage");r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:He(i,e.app.options.projectId))}(e,t,n,r)}(n,...r)}($y);var Ky=n(579);const Gy=(0,i.createContext)(),Qy=()=>(0,i.useContext)(Gy),Yy=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(null),[s,a]=(0,i.useState)(null),[o,l]=(0,i.useState)(!0);(0,i.useEffect)((()=>{const e=function(e,t,n,r){return it(e).onAuthStateChanged(t,n,r)}(Hy,(async e=>{if(r(e),e)try{const t=await(async e=>{try{const t=await cy(uv(Wy,"users",e));if(t.exists())return{id:t.id,...t.data()};throw new Error("User not found")}catch(t){throw t}})(e.uid);a(t)}catch(t){console.error("Error fetching user profile:",t)}else a(null);l(!1)}));return e}),[]);const c={currentUser:n,userProfile:s,isAdmin:"admin"===(null===s||void 0===s?void 0:s.role),loading:o};return(0,Ky.jsx)(Gy.Provider,{value:c,children:!o&&t})},Xy=async(e,t)=>{try{const n=await function(e,t,n){return bi(it(e),ii.credential(t,n))}(Hy,e,t);return n.user}catch(n){throw n}},Jy=async()=>{try{return await function(e){return it(e).signOut()}(Hy),!0}catch(e){throw e}},Zy=async e=>{try{return await async function(e,t,n){var r;const i=Br(e),s={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Ur(i,s,"getOobCode",!0);n&&wi(i,e,n),await Xr(i,e)}else n&&wi(i,s,n),await Xr(i,s).catch((async e=>{if("auth/missing-recaptcha-token"!==e.code)return Promise.reject(e);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const e=await Ur(i,s,"getOobCode",!0);n&&wi(i,e,n),await Xr(i,e)}}))}(Hy,e),!0}catch(t){throw t}},eb=()=>{var e;const{currentUser:t,userProfile:n,isAdmin:r}=Qy(),i=ne();return(0,Ky.jsxs)("nav",{className:"navbar",children:[(0,Ky.jsx)("div",{className:"navbar-brand",children:(0,Ky.jsx)(Ie,{to:"/",className:"navbar-logo",children:"Travelnest"})}),(0,Ky.jsxs)("div",{className:"navbar-menu",children:[(0,Ky.jsx)(Ie,{to:"/",className:"navbar-item",children:"Home"}),(0,Ky.jsx)(Ie,{to:"/packages",className:"navbar-item",children:"Packages"}),(0,Ky.jsx)(Ie,{to:"/custom-package",className:"navbar-item",children:"Custom Package"}),(0,Ky.jsx)(Ie,{to:"/about",className:"navbar-item",children:"About"}),(0,Ky.jsx)(Ie,{to:"/contact",className:"navbar-item",children:"Contact"})]}),(0,Ky.jsx)("div",{className:"navbar-auth",children:t?(0,Ky.jsx)(Ky.Fragment,{children:(0,Ky.jsxs)("div",{className:"user-menu",children:[(0,Ky.jsxs)("span",{className:"user-welcome",children:["Welcome, ",(null===n||void 0===n||null===(e=n.name)||void 0===e?void 0:e.split(" ")[0])||"User"]}),(0,Ky.jsxs)("div",{className:"dropdown-menu",children:[(0,Ky.jsx)(Ie,{to:"/dashboard",className:"dropdown-item",children:"My Dashboard"}),r&&(0,Ky.jsx)(Ie,{to:"/admin",className:"dropdown-item",children:"Admin Panel"}),(0,Ky.jsx)("button",{onClick:async()=>{try{await Jy(),i("/")}catch(e){console.error("Failed to log out:",e)}},className:"dropdown-item",children:"Logout"})]})]})}):(0,Ky.jsxs)(Ky.Fragment,{children:[(0,Ky.jsx)(Ie,{to:"/login",className:"btn-login",children:"Login"}),(0,Ky.jsx)(Ie,{to:"/register",className:"btn-register",children:"Sign Up"})]})})]})},tb=()=>{const e=(new Date).getFullYear();return(0,Ky.jsxs)("footer",{className:"footer",children:[(0,Ky.jsxs)("div",{className:"footer-container",children:[(0,Ky.jsxs)("div",{className:"footer-section",children:[(0,Ky.jsx)("h3",{children:"Travelnest"}),(0,Ky.jsx)("p",{children:"Simplifying travel planning with all-inclusive packages. Experience stress-free vacations with Travlenest."})]}),(0,Ky.jsxs)("div",{className:"footer-section",children:[(0,Ky.jsx)("h3",{children:"Quick Links"}),(0,Ky.jsxs)("ul",{children:[(0,Ky.jsx)("li",{children:(0,Ky.jsx)(Ie,{to:"/",children:"Home"})}),(0,Ky.jsx)("li",{children:(0,Ky.jsx)(Ie,{to:"/packages",children:"Travel Packages"})}),(0,Ky.jsx)("li",{children:(0,Ky.jsx)(Ie,{to:"/about",children:"About Us"})}),(0,Ky.jsx)("li",{children:(0,Ky.jsx)(Ie,{to:"/custom-package",children:"Custom Package"})}),(0,Ky.jsx)("li",{children:(0,Ky.jsx)(Ie,{to:"/contact",children:"Contact"})}),(0,Ky.jsx)("li",{children:(0,Ky.jsx)(Ie,{to:"/terms",children:"Terms & Conditions"})}),(0,Ky.jsx)("li",{children:(0,Ky.jsx)(Ie,{to:"/privacy",children:"Privacy Policy"})})]})]}),(0,Ky.jsxs)("div",{className:"footer-section",children:[(0,Ky.jsx)("h3",{children:"Join Travenest"}),(0,Ky.jsxs)("ul",{children:[(0,Ky.jsx)("li",{children:(0,Ky.jsx)(Ie,{to:"/provider/register",children:"Register as a Service Provider"})}),"\xa0\xa0"]})]}),(0,Ky.jsxs)("div",{className:"footer-section",children:[(0,Ky.jsx)("h3",{children:"Contact Us"}),(0,Ky.jsx)("p",{children:"123 Travel Street"}),(0,Ky.jsx)("p",{children:"Adventure City, AC 12345"}),(0,Ky.jsx)("p",{children:"Email: info@travenest.com"}),(0,Ky.jsx)("p",{children:"Phone: +1 (555) 123-4567"})]}),(0,Ky.jsxs)("div",{className:"footer-section",children:[(0,Ky.jsx)("h3",{children:"Newsletter"}),(0,Ky.jsx)("p",{children:"Subscribe to get special offers and travel tips."}),(0,Ky.jsxs)("div",{className:"newsletter-form",children:[(0,Ky.jsx)("input",{type:"email",placeholder:"Your email address"}),(0,Ky.jsx)("button",{type:"submit",children:"Subscribe"})]})]})]}),(0,Ky.jsx)("div",{className:"footer-bottom",children:(0,Ky.jsxs)("p",{children:["\xa9 ",e," Travelnest. All rights reserved."]})})]})},nb=()=>(0,Ky.jsxs)("div",{className:"home-page",children:[(0,Ky.jsx)("section",{className:"hero-section",children:(0,Ky.jsxs)("div",{className:"hero-content",children:[(0,Ky.jsx)("h1",{children:"Discover Amazing Places"}),(0,Ky.jsx)("p",{children:"Book all-inclusive travel packages with accommodations, tours, and transportation for a stress-free vacation experience."}),(0,Ky.jsx)(Ie,{to:"/packages",className:"btn-primary",children:"Explore Packages"})]})}),(0,Ky.jsxs)("section",{className:"features-section",children:[(0,Ky.jsx)("h2",{children:"Why Choose Travelnest?"}),(0,Ky.jsxs)("div",{className:"features-container",children:[(0,Ky.jsxs)("div",{className:"feature-card",children:[(0,Ky.jsx)("div",{className:"feature-icon",children:"\ud83c\udfe8"}),(0,Ky.jsx)("h3",{children:"All-Inclusive Packages"}),(0,Ky.jsx)("p",{children:"Our packages include accommodations, guided tours, transportation, and other essential services."})]}),(0,Ky.jsxs)("div",{className:"feature-card",children:[(0,Ky.jsx)("div",{className:"feature-icon",children:"\ud83c\udf0e"}),(0,Ky.jsx)("h3",{children:"Worldwide Destinations"}),(0,Ky.jsx)("p",{children:"Explore exciting destinations around the world with our carefully curated travel packages."})]}),(0,Ky.jsxs)("div",{className:"feature-card",children:[(0,Ky.jsx)("div",{className:"feature-icon",children:"\ud83d\udcb0"}),(0,Ky.jsx)("h3",{children:"Best Price Guarantee"}),(0,Ky.jsx)("p",{children:"We offer competitive prices for all our packages with no hidden fees."})]}),(0,Ky.jsxs)("div",{className:"feature-card",children:[(0,Ky.jsx)("div",{className:"feature-icon",children:"\ud83d\udee1"}),(0,Ky.jsx)("h3",{children:"Secure Booking"}),(0,Ky.jsx)("p",{children:"Book with confidence knowing your payments and personal information are secure."})]})]})]}),(0,Ky.jsxs)("section",{className:"popular-destinations",children:[(0,Ky.jsx)("h2",{children:"Popular Destinations"}),(0,Ky.jsxs)("div",{className:"destinations-grid",children:[(0,Ky.jsxs)("div",{className:"destination-card",children:[(0,Ky.jsx)("div",{className:"destination-image",style:{backgroundImage:"url(/assets/images/europe.jpg)"}}),(0,Ky.jsxs)("div",{className:"destination-content",children:[(0,Ky.jsx)("h3",{children:"Europe"}),(0,Ky.jsx)("p",{children:"Explore historic cities and scenic landscapes"}),(0,Ky.jsx)(Ie,{to:"/packages?region=Europe",className:"btn-view",children:"View Packages"})]})]}),(0,Ky.jsxs)("div",{className:"destination-card",children:[(0,Ky.jsx)("div",{className:"destination-image",style:{backgroundImage:"url(/assets/images/asia.jpg)"}}),(0,Ky.jsxs)("div",{className:"destination-content",children:[(0,Ky.jsx)("h3",{children:"Asia"}),(0,Ky.jsx)("p",{children:"Experience rich cultures and ancient traditions"}),(0,Ky.jsx)(Ie,{to:"/packages?region=Asia",className:"btn-view",children:"View Packages"})]})]}),(0,Ky.jsxs)("div",{className:"destination-card",children:[(0,Ky.jsx)("div",{className:"destination-image",style:{backgroundImage:"url(/assets/images/north-america.jpg)"}}),(0,Ky.jsxs)("div",{className:"destination-content",children:[(0,Ky.jsx)("h3",{children:"North America"}),(0,Ky.jsx)("p",{children:"Discover diverse cities and natural wonders"}),(0,Ky.jsx)(Ie,{to:"/packages?region=North%20America",className:"btn-view",children:"View Packages"})]})]}),(0,Ky.jsxs)("div",{className:"destination-card",children:[(0,Ky.jsx)("div",{className:"destination-image",style:{backgroundImage:"url(/assets/images/australia.jpg)"}}),(0,Ky.jsxs)("div",{className:"destination-content",children:[(0,Ky.jsx)("h3",{children:"Australia"}),(0,Ky.jsx)("p",{children:"Adventure through stunning landscapes"}),(0,Ky.jsx)(Ie,{to:"/packages?region=Australia",className:"btn-view",children:"View Packages"})]})]})]})]}),(0,Ky.jsxs)("section",{className:"testimonials-section",children:[(0,Ky.jsx)("h2",{children:"What Our Travelers Say"}),(0,Ky.jsxs)("div",{className:"testimonials-container",children:[(0,Ky.jsxs)("div",{className:"testimonial-card",children:[(0,Ky.jsx)("div",{className:"testimonial-rating",children:"\u2605\u2605\u2605\u2605\u2605"}),(0,Ky.jsx)("p",{className:"testimonial-text",children:'"Travelnest made our family vacation so easy. Everything was organized and we didn\'t have to worry about any details during our trip. Highly recommended!"'}),(0,Ky.jsx)("div",{className:"testimonial-author",children:"- Sarah J."})]}),(0,Ky.jsxs)("div",{className:"testimonial-card",children:[(0,Ky.jsx)("div",{className:"testimonial-rating",children:"\u2605\u2605\u2605\u2605\u2605"}),(0,Ky.jsx)("p",{className:"testimonial-text",children:'"The tour guides were exceptional and accommodations were top-notch. I\'ll definitely be booking my next adventure with Travelnest."'}),(0,Ky.jsx)("div",{className:"testimonial-author",children:"- Michael R."})]}),(0,Ky.jsxs)("div",{className:"testimonial-card",children:[(0,Ky.jsx)("div",{className:"testimonial-rating",children:"\u2605\u2605\u2605\u2605\u2605"}),(0,Ky.jsx)("p",{className:"testimonial-text",children:'"Seamless booking process and excellent customer service. Our Europe trip was perfectly planned and executed without any hassle."'}),(0,Ky.jsx)("div",{className:"testimonial-author",children:"- Emily T."})]})]})]}),(0,Ky.jsx)("section",{className:"cta-section",children:(0,Ky.jsxs)("div",{className:"cta-content",children:[(0,Ky.jsx)("h2",{children:"Ready to Start Your Adventure?"}),(0,Ky.jsx)("p",{children:"Browse our packages and book your dream vacation today!"}),(0,Ky.jsx)(Ie,{to:"/packages",className:"btn-primary",children:"Explore Packages"})]})})]}),rb=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[s,a]=(0,i.useState)(""),[o,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),h=ne();return(0,Ky.jsx)("div",{className:"login-container",children:(0,Ky.jsxs)("div",{className:"login-form",children:[(0,Ky.jsx)("h2",{children:"Log In to Your Account"}),s&&(0,Ky.jsx)("div",{className:"error-message",children:s}),c&&(0,Ky.jsx)("div",{className:"success-message",children:"Password reset email sent. Check your inbox."}),(0,Ky.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{a(""),l(!0),await Xy(e,n),h("/dashboard")}catch(s){a("Failed to log in: "+s.message)}finally{l(!1)}},children:[(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"email",children:"Email"}),(0,Ky.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"password",children:"Password"}),(0,Ky.jsx)("input",{type:"password",id:"password",value:n,onChange:e=>r(e.target.value),required:!0})]}),(0,Ky.jsx)("button",{type:"submit",className:"btn-primary",disabled:o,children:o?"Logging in...":"Log In"})]}),(0,Ky.jsxs)("div",{className:"form-footer",children:[(0,Ky.jsx)("button",{onClick:async()=>{if(e)try{a(""),l(!0),await Zy(e),u(!0)}catch(s){a("Failed to send reset email: "+s.message)}finally{l(!1)}else a("Please enter your email address")},className:"btn-link",disabled:o,children:"Forgot Password?"}),(0,Ky.jsxs)("p",{children:["Don't have an account? ",(0,Ky.jsx)(Ie,{to:"/register",children:"Sign Up"})]})]})]})})},ib=()=>(0,Ky.jsx)("div",{className:"page-container",children:(0,Ky.jsx)(rb,{})}),sb=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[s,a]=(0,i.useState)(""),[o,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),[h,d]=(0,i.useState)(!1),f=ne();return(0,Ky.jsx)("div",{className:"register-container",children:(0,Ky.jsxs)("div",{className:"register-form",children:[(0,Ky.jsx)("h2",{children:"Create Your Account"}),c&&(0,Ky.jsx)("div",{className:"error-message",children:c}),(0,Ky.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),s!==o)return u("Passwords do not match");try{u(""),d(!0),await(async(e,t,n)=>{try{const r=(await xi(Hy,e,t)).user;return await ki(r,{displayName:n}),await dy(uv(Wy,"users",r.uid),{uid:r.uid,name:n,email:e,role:"user",createdAt:new Date}),r}catch(c){throw c}})(n,s,e),f("/dashboard")}catch(c){u("Failed to create an account: "+c.message)}finally{d(!1)}},children:[(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"name",children:"Full Name"}),(0,Ky.jsx)("input",{type:"text",id:"name",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"email",children:"Email"}),(0,Ky.jsx)("input",{type:"email",id:"email",value:n,onChange:e=>r(e.target.value),required:!0})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"password",children:"Password"}),(0,Ky.jsx)("input",{type:"password",id:"password",value:s,onChange:e=>a(e.target.value),required:!0})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,Ky.jsx)("input",{type:"password",id:"confirmPassword",value:o,onChange:e=>l(e.target.value),required:!0})]}),(0,Ky.jsx)("button",{type:"submit",className:"btn-primary",disabled:h,children:h?"Creating Account...":"Sign Up"})]}),(0,Ky.jsx)("div",{className:"form-footer",children:(0,Ky.jsxs)("p",{children:["Already have an account? ",(0,Ky.jsx)(Ie,{to:"/login",children:"Log In"})]})})]})})},ab=()=>(0,Ky.jsx)("div",{className:"page-container",children:(0,Ky.jsx)(sb,{})}),ob=e=>{let{travelPackage:t}=e;if(!t)return null;const{id:n="",title:r="Unnamed Package",description:i="",price:s=0,duration:a=0,region:o="",imageUrl:l="/assets/images/package-placeholder.jpg"}=t;return(0,Ky.jsxs)("div",{className:"package-card",children:[(0,Ky.jsx)("div",{className:"package-image",children:(0,Ky.jsx)("img",{src:l,alt:r})}),(0,Ky.jsxs)("div",{className:"package-content",children:[(0,Ky.jsx)("h3",{children:r}),(0,Ky.jsx)("p",{className:"package-location",children:o}),(0,Ky.jsxs)("p",{className:"package-duration",children:[a," days"]}),(0,Ky.jsx)("p",{className:"package-description",children:i.length>100?i.substring(0,100)+"...":i}),(0,Ky.jsxs)("div",{className:"package-footer",children:[(0,Ky.jsxs)("span",{className:"package-price",children:["$",s]}),(0,Ky.jsx)(Ie,{to:`/packages/${n}`,className:"btn-view",children:"View Details"})]})]})]})},lb=async()=>{try{const e=cv(Wy,"packages");return(await hy(e)).docs.map((e=>({id:e.id,...e.data()})))}catch(e){throw e}},cb=async e=>{try{const t=await cy(uv(Wy,"packages",e));if(t.exists())return{id:t.id,...t.data()};throw new Error("Package not found")}catch(t){throw t}},ub=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!0),[s,a]=(0,i.useState)(""),[o,l]=(0,i.useState)({region:"",budget:"",duration:""});(0,i.useEffect)((()=>{(async()=>{try{r(!0);const e=await lb();t(e),a("")}catch(s){a("Failed to fetch packages: "+s.message)}finally{r(!1)}})()}),[]);const c=e=>{const{name:t,value:n}=e.target;l({...o,[t]:n})};return(0,Ky.jsxs)("div",{className:"package-list-container",children:[(0,Ky.jsx)("h2",{children:"Explore Travel Packages"}),(0,Ky.jsxs)("div",{className:"filter-container",children:[(0,Ky.jsxs)("div",{className:"filter-group",children:[(0,Ky.jsx)("label",{htmlFor:"region",children:"Destination"}),(0,Ky.jsxs)("select",{id:"region",name:"region",value:o.region,onChange:c,children:[(0,Ky.jsx)("option",{value:"",children:"All Destinations"}),(0,Ky.jsx)("option",{value:"Europe",children:"Europe"}),(0,Ky.jsx)("option",{value:"Asia",children:"Asia"}),(0,Ky.jsx)("option",{value:"Africa",children:"Africa"}),(0,Ky.jsx)("option",{value:"North America",children:"North America"}),(0,Ky.jsx)("option",{value:"South America",children:"South America"}),(0,Ky.jsx)("option",{value:"Australia",children:"Australia"})]})]}),(0,Ky.jsxs)("div",{className:"filter-group",children:[(0,Ky.jsx)("label",{htmlFor:"budget",children:"Max Budget"}),(0,Ky.jsx)("input",{type:"number",id:"budget",name:"budget",value:o.budget,onChange:c,placeholder:"Budget in $"})]}),(0,Ky.jsxs)("div",{className:"filter-group",children:[(0,Ky.jsx)("label",{htmlFor:"duration",children:"Max Duration (days)"}),(0,Ky.jsx)("input",{type:"number",id:"duration",name:"duration",value:o.duration,onChange:c,placeholder:"Days"})]}),(0,Ky.jsxs)("div",{className:"filter-buttons",children:[(0,Ky.jsx)("button",{onClick:async()=>{try{r(!0);const e=await(async e=>{try{const{region:t,budget:n,duration:r}=e;let i=cv(Wy,"packages");return t&&(i=Kv(i,Qv("region","==",t))),n&&(i=Kv(i,Qv("price","<=",n))),r&&(i=Kv(i,Qv("duration","<=",r))),(await hy(i)).docs.map((e=>({id:e.id,...e.data()})))}catch(s){throw s}})({region:o.region||null,budget:o.budget?parseFloat(o.budget):null,duration:o.duration?parseInt(o.duration):null});t(e),a("")}catch(s){a("Failed to filter packages: "+s.message)}finally{r(!1)}},className:"btn-filter",children:"Filter"}),(0,Ky.jsx)("button",{onClick:async()=>{l({region:"",budget:"",duration:""});try{r(!0);const e=await lb();t(e),a("")}catch(s){a("Failed to fetch packages: "+s.message)}finally{r(!1)}},className:"btn-reset",children:"Reset"})]})]}),s&&(0,Ky.jsx)("div",{className:"error-message",children:s}),n?(0,Ky.jsx)("div",{className:"loading",children:"Loading packages..."}):(0,Ky.jsxs)("div",{className:"packages-grid",children:[e.length>0?e.map((e=>(0,Ky.jsx)(ob,{travelPackage:e},e.id))):(0,Ky.jsx)("div",{className:"no-packages",children:"No packages found. Try adjusting your filters."}),(0,Ky.jsxs)("div",{className:"custom-package-banner",children:[(0,Ky.jsx)("h3",{children:"Not seeing what you've been looking for?"}),(0,Ky.jsx)("p",{children:"Let us help create a package just for you!"}),(0,Ky.jsx)(Ie,{to:"/custom-package",className:"btn-primary",children:"Create Custom Package"})]})]})]})},hb=()=>(0,Ky.jsx)("div",{className:"page-container",children:(0,Ky.jsx)(ub,{})}),db=e=>{let{rating:t}=e;return(0,Ky.jsx)("div",{className:"star-rating",children:[1,2,3,4,5].map((e=>(0,Ky.jsx)("span",{className:e`${t>=e?"filled":""}`,children:"\u2605"},e)))})},fb=e=>{let{packageId:t}=e;const[n,r]=(0,i.useState)([]),[s,a]=(0,i.useState)(!0),[o,l]=(0,i.useState)("");if((0,i.useEffect)((()=>{(async()=>{try{a(!0);const e=Kv(cv(Wy,"reviews"),Qv("packageId","==",t),function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=qv("orderBy",e);return Xv._create(n,t)}("createdAt","desc")),n=(await hy(e)).docs.map((e=>{var t;return{id:e.id,...e.data(),createdAt:(null===(t=e.data().createdAt)||void 0===t?void 0:t.toDate())||new Date}}));r(n),l("")}catch(o){console.error("Error fetching reviews:",o),l("Failed to load reviews")}finally{a(!1)}})()}),[t]),s)return(0,Ky.jsx)("div",{className:"loading",children:"Loading reviews..."});if(o)return(0,Ky.jsx)("div",{className:"error-message",children:o});if(0===n.length)return(0,Ky.jsx)("div",{className:"no-reviews",children:(0,Ky.jsx)("p",{children:"No reviews yet. Be the first to share your experience!"})});const c=n.reduce(((e,t)=>e+t.rating),0)/n.length;return(0,Ky.jsxs)("div",{className:"reviews-list-container",children:[(0,Ky.jsx)("div",{className:"reviews-summary",children:(0,Ky.jsxs)("div",{className:"average-rating",children:[(0,Ky.jsx)("span",{className:"rating-number",children:c.toFixed(1)}),(0,Ky.jsx)(db,{rating:Math.round(c)}),(0,Ky.jsxs)("span",{className:"review-count",children:["(",n.length," reviews)"]})]})}),(0,Ky.jsx)("div",{className:"reviews-list",children:n.map((e=>(0,Ky.jsxs)("div",{className:"review-card",children:[(0,Ky.jsxs)("div",{className:"review-header",children:[(0,Ky.jsx)(db,{rating:e.rating}),(0,Ky.jsx)("div",{className:"review-title",children:e.title})]}),(0,Ky.jsx)("div",{className:"review-content",children:(0,Ky.jsx)("p",{children:e.comment})}),(0,Ky.jsxs)("div",{className:"review-footer",children:[(0,Ky.jsx)("div",{className:"reviewer-name",children:e.userName}),(0,Ky.jsx)("div",{className:"review-date",children:e.createdAt.toLocaleDateString()})]})]},e.id)))})]})},pb=e=>{let{packageId:t,packageTitle:n}=e;const{currentUser:r,userProfile:s}=Qy(),a=ne(),[o,l]=(0,i.useState)(0),[c,u]=(0,i.useState)(""),[h,d]=(0,i.useState)(""),[f,p]=(0,i.useState)(!1),[m,g]=(0,i.useState)(""),[v,y]=(0,i.useState)(!1);return(0,Ky.jsx)("div",{className:"review-form-container",children:v?(0,Ky.jsxs)("div",{className:"success-message",children:[(0,Ky.jsx)("div",{className:"success-icon",children:"\u2713"}),(0,Ky.jsx)("h3",{children:"Thank You for Your Review!"}),(0,Ky.jsx)("p",{children:"Your feedback helps other travelers make informed decisions."}),(0,Ky.jsx)("button",{onClick:()=>y(!1),className:"btn-secondary",children:"Write Another Review"})]}):(0,Ky.jsxs)(Ky.Fragment,{children:[(0,Ky.jsx)("h2",{children:"Share Your Experience"}),m&&(0,Ky.jsx)("div",{className:"error-message",children:m}),(0,Ky.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),r)if(0!==o)try{p(!0),g(""),await my(cv(Wy,"reviews"),{packageId:t,packageTitle:n,userId:r.uid,userName:(null===s||void 0===s?void 0:s.name)||"Anonymous",userEmail:r.email,rating:o,title:c,comment:h,createdAt:new Tv("serverTimestamp")}),y(!0),l(0),u(""),d("")}catch(m){console.error("Error submitting review:",m),g("Failed to submit review: "+m.message)}finally{p(!1)}else g("Please select a rating");else a("/login",{state:{from:`/packages/${t}`}})},className:"review-form",children:[(0,Ky.jsxs)("div",{className:"form-group rating-group",children:[(0,Ky.jsx)("label",{children:"Your Rating"}),(0,Ky.jsx)("div",{className:"star-rating",children:[1,2,3,4,5].map((e=>(0,Ky.jsx)("span",{className:e` + ${o>=e?"filled":""}`,onClick:()=>{l(e)},children:"\u2605"},e)))})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"title",children:"Review Title"}),(0,Ky.jsx)("input",{type:"text",id:"title",value:c,onChange:e=>u(e.target.value),placeholder:"Summarize your experience",required:!0})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"comment",children:"Your Review"}),(0,Ky.jsx)("textarea",{id:"comment",value:h,onChange:e=>d(e.target.value),rows:"5",placeholder:"Share details of your experience to help other travelers",required:!0})]}),(0,Ky.jsx)("button",{type:"submit",className:"btn-primary",disabled:f,children:f?"Submitting...":"Submit Review"})]})]})})},mb=()=>{const{packageId:e}=re(),[t,n]=(0,i.useState)(null),[r,s]=(0,i.useState)(!0),[a,o]=(0,i.useState)(""),{currentUser:l}=Qy(),c=ne();(0,i.useEffect)((()=>{(async()=>{try{s(!0);const t=await cb(e);n(t),o("")}catch(a){o("Failed to fetch package details: "+a.message)}finally{s(!1)}})()}),[e]);if(r)return(0,Ky.jsx)("div",{className:"loading",children:"Loading package details..."});if(a)return(0,Ky.jsx)("div",{className:"error-message",children:a});if(!t)return(0,Ky.jsx)("div",{className:"not-found",children:"Package not found"});const{title:u,description:h,price:d,duration:f,region:p,imageUrl:m,itinerary:g,included:v,excluded:y}=t;return(0,Ky.jsxs)("div",{className:"package-detail-container",children:[(0,Ky.jsxs)("div",{className:"package-header",children:[(0,Ky.jsx)("h1",{children:u}),(0,Ky.jsxs)("div",{className:"package-meta",children:[(0,Ky.jsx)("span",{className:"location",children:p}),(0,Ky.jsxs)("span",{className:"duration",children:[f," days"]}),(0,Ky.jsxs)("span",{className:"price",children:["$",d," per person"]})]})]}),(0,Ky.jsx)("div",{className:"package-gallery",children:(0,Ky.jsx)("img",{src:m||"/assets/images/package-placeholder.jpg",alt:u,className:"main-image"})}),(0,Ky.jsxs)("div",{className:"package-content",children:[(0,Ky.jsxs)("div",{className:"package-description",children:[(0,Ky.jsx)("h2",{children:"About This Package"}),(0,Ky.jsx)("p",{children:h})]}),(0,Ky.jsxs)("div",{className:"package-itinerary",children:[(0,Ky.jsx)("h2",{children:"Itinerary"}),(0,Ky.jsx)("div",{className:"itinerary-days",children:g&&g.map(((e,t)=>(0,Ky.jsxs)("div",{className:"itinerary-day",children:[(0,Ky.jsxs)("h3",{children:["Day ",t+1]}),(0,Ky.jsx)("p",{children:e})]},t)))})]}),(0,Ky.jsxs)("div",{className:"package-inclusions",children:[(0,Ky.jsxs)("div",{className:"included",children:[(0,Ky.jsx)("h2",{children:"What's Included"}),(0,Ky.jsx)("ul",{children:v&&v.map(((e,t)=>(0,Ky.jsx)("li",{children:e},t)))})]}),(0,Ky.jsxs)("div",{className:"excluded",children:[(0,Ky.jsx)("h2",{children:"What's Not Included"}),(0,Ky.jsx)("ul",{children:y&&y.map(((e,t)=>(0,Ky.jsx)("li",{children:e},t)))})]})]})]}),(0,Ky.jsxs)("div",{className:"booking-section",children:[(0,Ky.jsxs)("div",{className:"price-summary",children:[(0,Ky.jsx)("h3",{children:"Price Summary"}),(0,Ky.jsxs)("div",{className:"price-row",children:[(0,Ky.jsx)("span",{children:"Base Price"}),(0,Ky.jsxs)("span",{children:["$",d," per person"]})]}),(0,Ky.jsxs)("div",{className:"price-total",children:[(0,Ky.jsx)("span",{children:"Total"}),(0,Ky.jsxs)("span",{children:["$",d]})]})]}),(0,Ky.jsx)("button",{onClick:()=>{l?c(`/booking/${e}`):c("/login",{state:{from:`/packages/${e}`}})},className:"btn-book-now",children:"Book Now"})]}),(0,Ky.jsxs)("div",{className:"package-reviews-section",children:[(0,Ky.jsx)("h2",{children:"Traveler Reviews"}),(0,Ky.jsx)(fb,{packageId:e}),(0,Ky.jsx)(pb,{packageId:e,packageTitle:t.title})]})]})},gb=()=>(0,Ky.jsx)("div",{className:"page-container",children:(0,Ky.jsx)(mb,{})}),vb=async e=>{try{console.log("Service: Fetching booking document:",e);const t=await cy(uv(Wy,"bookings",e));if(console.log("Service: Document exists?",t.exists()),t.exists()){const e={id:t.id,...t.data()};return console.log("Service: Retrieved booking data:",e),e}throw console.error("Service: Booking document not found"),new Error("Booking not found")}catch(t){throw console.error("Service: Error getting booking:",t),t}},yb=()=>{const{packageId:e}=re(),{currentUser:t,userProfile:n}=Qy(),r=ne(),[s,a]=(0,i.useState)(null),[o,l]=(0,i.useState)(1),[c,u]=(0,i.useState)(""),[h,d]=(0,i.useState)(""),[f,p]=(0,i.useState)(!0),[m,g]=(0,i.useState)(!1),[v,y]=(0,i.useState)("");(0,i.useEffect)((()=>{if(!t)return void r("/login");(async()=>{try{console.log("Fetching package with ID:",e);const t=await cb(e);console.log("Package data received:",t),a(t);const n=new Date;n.setDate(n.getDate()+30),u(n.toISOString().split("T")[0])}catch(v){console.error("Error fetching package:",v),y("Failed to fetch package: "+v.message)}finally{p(!1)}})()}),[e,t,r]);const b=()=>s?s.price*o:0;return f?(0,Ky.jsx)("div",{className:"loading",children:"Loading booking form..."}):s?(0,Ky.jsxs)("div",{className:"booking-form-container",children:[(0,Ky.jsx)("h2",{children:"Book Your Trip"}),(0,Ky.jsxs)("div",{className:"booking-package-summary",children:[(0,Ky.jsx)("h3",{children:s.title}),(0,Ky.jsxs)("p",{children:["Destination: ",s.region]}),(0,Ky.jsxs)("p",{children:["Duration: ",s.duration," days"]}),(0,Ky.jsxs)("p",{children:["Price: $",s.price," per person"]})]}),v&&(0,Ky.jsx)("div",{className:"error-message",children:v}),(0,Ky.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),s&&c)try{g(!0),y("");const r={packageId:e,packageTitle:s.title,packagePrice:s.price,travelers:o,totalPrice:b(),startDate:c,specialRequests:h,userId:t.uid,userName:n.name,userEmail:t.email,status:"pending",paymentStatus:"pending"};console.log("Creating booking with email:",t.email),console.log("Creating booking with data:",r);const i=await(async e=>{try{console.log("Creating booking...");const t={...e,status:"pending",createdAt:new Date,testField:"This is a test booking"},n=cv(Wy,"bookings"),r=await my(n,t);return console.log("Booking created with ID:",r.id),r.id}catch(v){throw console.error("Error creating booking:",v),alert("Error creating booking: "+v.message),v}})(r);console.log("Booking created with ID:",i),localStorage.setItem("lastBookingId",i),alert(`Booking created! ID: ${i}`),window.location.href=`/payment/${i}`}catch(v){console.error("Error in handleSubmit:",v),y("Failed to create booking: "+v.message)}finally{g(!1)}else y("Please fill all required fields")},className:"booking-form",children:[(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"travelers",children:"Number of Travelers"}),(0,Ky.jsx)("input",{type:"number",id:"travelers",min:"1",max:"10",value:o,onChange:e=>l(parseInt(e.target.value)),required:!0})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"startDate",children:"Start Date"}),(0,Ky.jsx)("input",{type:"date",id:"startDate",value:c,onChange:e=>u(e.target.value),min:(new Date).toISOString().split("T")[0],required:!0})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"specialRequests",children:"Special Requests (Optional)"}),(0,Ky.jsx)("textarea",{id:"specialRequests",value:h,onChange:e=>d(e.target.value),rows:"4"})]}),(0,Ky.jsxs)("div",{className:"booking-summary",children:[(0,Ky.jsx)("h3",{children:"Booking Summary"}),(0,Ky.jsxs)("div",{className:"summary-row",children:[(0,Ky.jsx)("span",{children:"Package Price"}),(0,Ky.jsxs)("span",{children:["$",s.price," \xd7 ",o," traveler(s)"]})]}),(0,Ky.jsxs)("div",{className:"summary-total",children:[(0,Ky.jsx)("span",{children:"Total"}),(0,Ky.jsxs)("span",{children:["$",b()]})]})]}),(0,Ky.jsx)("div",{className:"custom-package-note",children:(0,Ky.jsxs)("p",{children:["Looking for more customization options? ",(0,Ky.jsx)("a",{href:"/custom-package",children:"Create a custom travel package"})," instead."]})}),(0,Ky.jsx)("button",{type:"submit",className:"btn-continue",disabled:m,children:m?"Processing...":"Continue to Payment"})]})]}):(0,Ky.jsx)("div",{className:"error-message",children:"Package not found"})},bb=()=>(0,Ky.jsx)("div",{className:"page-container",children:(0,Ky.jsx)(yb,{})});class wb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Network Error";this.status=e,this.text=t}}const xb={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:(()=>{if("undefined"!==typeof localStorage)return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}})()},kb=e=>e?"string"===typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{},Eb=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=await fetch(xb.origin+e,{method:"POST",headers:n,body:t}),i=await r.text(),s=new wb(r.status,i);if(r.ok)return s;throw s},Sb=(e,t,n)=>{if(!e||"string"!==typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!==typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||"string"!==typeof n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},Nb=e=>e.webdriver||!e.languages||0===e.languages.length,_b=()=>new wb(451,"Unavailable For Headless Browser"),Cb=(e,t)=>{if((e=>!e.list?.length||!e.watchVariable)(e))return!1;((e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!==typeof t)throw"The BlockList watchVariable has to be a string"})(e.list,e.watchVariable);const n=((e,t)=>e instanceof FormData?e.get(t):e[t])(t,e.watchVariable);return"string"===typeof n&&e.list.includes(n)},Tb=()=>new wb(403,"Forbidden"),jb=async(e,t,n)=>{if(!t.throttle||!n)return!1;((e,t)=>{if("number"!==typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!==typeof t)throw"The LimitRate ID has to be a non-empty string"})(t.throttle,t.id);const r=t.id||e,i=await(async(e,t,n)=>{const r=Number(await n.get(e)||0);return t-Date.now()+r})(r,t.throttle,n);return i>0||(await n.set(r,Date.now().toString()),!1)},Ib=()=>new wb(429,"Too Many Requests"),Ab=async(e,t,n,r)=>{const i=kb(r),s=i.publicKey||xb.publicKey,a=i.blockHeadless||xb.blockHeadless,o=i.storageProvider||xb.storageProvider,l={...xb.blockList,...i.blockList},c={...xb.limitRate,...i.limitRate};if(a&&Nb(navigator))return Promise.reject(_b());if(Sb(s,e,t),(e=>{if(e&&"[object Object]"!==e.toString())throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"})(n),n&&Cb(l,n))return Promise.reject(Tb());if(await jb(location.pathname,c,o))return Promise.reject(Ib());const u={lib_version:"4.4.1",user_id:s,service_id:e,template_id:t,template_params:n};return Eb("/api/v1.0/email/send",JSON.stringify(u),{"Content-type":"application/json"})};(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://api.emailjs.com";if(!e)return;const n=kb(e);xb.publicKey=n.publicKey,xb.blockHeadless=n.blockHeadless,xb.storageProvider=n.storageProvider,xb.blockList=n.blockList,xb.limitRate=n.limitRate,xb.origin=n.origin||t})("66XU7wP3JCGlL3Pqw");const Pb=async e=>{try{const t={to_name:e.userName||"",to_email:e.userEmail||"fakunlevic@gmail.com",booking_id:e.id||"",package_title:e.packageTitle||"",start_date:e.startDate?new Date(e.startDate).toLocaleDateString():"",travelers:e.travelers||"",total_price:e.totalPrice||""};console.log("Attempting to send email with params:",t);const n=await Ab("service_w0fs8q5","template_babx52t",t);return console.log("EmailJs response:",n),{success:!0}}catch(t){return console.error("EmailJs error:",t),{success:!1,error:t}}},Rb=()=>{const{bookingId:e}=re(),{currentUser:t}=Qy(),n=ne(),[r,s]=(0,i.useState)(null),[a,o]=(0,i.useState)(""),[l,c]=(0,i.useState)(""),[u,h]=(0,i.useState)(""),[d,f]=(0,i.useState)(""),[p,m]=(0,i.useState)(!0),[g,v]=(0,i.useState)(!1),[y,b]=(0,i.useState)("");(0,i.useEffect)((()=>{if(!t)return void n("/login");(async()=>{try{const n=e||localStorage.getItem("lastBookingId");if(console.log("Attempting to fetch booking with ID:",n),!n)return b("No booking ID found. Please try creating a booking again."),void m(!1);const r=await vb(e);if(console.log("Retrieved booking data:",r),console.log("User email from booking:",r.userEmail),r.userId!==t.uid)return console.error("Unauthorized: Booking belongs to user",r.userId),void b("Unauthorized access to this booking");s(r)}catch(y){console.error("Detailed error:",y),b("Failed to fetch booking: "+y.message)}finally{m(!1)}})()}),[e,t,n]);return p?(0,Ky.jsx)("div",{className:"loading",children:"Loading payment information..."}):y&&!r?(0,Ky.jsxs)("div",{className:"payment-form-container",children:[(0,Ky.jsx)("div",{className:"error-message",children:y}),(0,Ky.jsxs)("div",{className:"manual-booking-entry",children:[(0,Ky.jsx)("h3",{children:"Enter Booking ID Manually"}),(0,Ky.jsx)("p",{children:"If you know your booking ID, you can enter it below:"}),(0,Ky.jsx)("input",{type:"text",placeholder:"Enter booking ID",onChange:e=>{localStorage.setItem("lastBookingId",e.target.value)}}),(0,Ky.jsx)("button",{onClick:()=>{const e=localStorage.getItem("lastBookingId");e&&(window.location.href=`/payment/${e}`)},children:"Load Booking"})]})]}):r?(0,Ky.jsxs)("div",{className:"payment-form-container",children:[(0,Ky.jsx)("h2",{children:"Payment Information"}),(0,Ky.jsxs)("div",{className:"booking-summary",children:[(0,Ky.jsx)("h3",{children:"Booking Summary"}),(0,Ky.jsxs)("p",{children:[(0,Ky.jsx)("strong",{children:"Booking ID:"})," ",r.id]}),(0,Ky.jsxs)("p",{children:[(0,Ky.jsx)("strong",{children:"Package:"})," ",r.packageTitle]}),(0,Ky.jsxs)("p",{children:[(0,Ky.jsx)("strong",{children:"Start Date:"})," ",new Date(r.startDate).toLocaleDateString()]}),(0,Ky.jsxs)("p",{children:[(0,Ky.jsx)("strong",{children:"Travelers:"})," ",r.travelers]}),(0,Ky.jsxs)("p",{children:[(0,Ky.jsx)("strong",{children:"Total Amount:"})," $",r.totalPrice]})]}),y&&(0,Ky.jsx)("div",{className:"error-message",children:y}),(0,Ky.jsxs)("form",{onSubmit:async t=>{t.preventDefault();const i=(null===r||void 0===r?void 0:r.id)||e||localStorage.getItem("lastBookingId");if(i)if(a&&l&&u&&d)if(16===l.replace(/\s/g,"").length)try{v(!0),b(""),console.log("Processing payment for booking:",i);const e={cardName:a,cardLast4:l.slice(-4),paymentDate:(new Date).toISOString()};await(async(e,t)=>{try{console.log("Service: Processing payment for booking:",e);const n=uv(Wy,"bookings",e);return await fy(n,{paymentStatus:"paid",paymentDetails:t,status:"confirmed",updatedAt:new Date}),console.log("Service: Payment processed and booking updated"),!0}catch(y){throw console.error("Service: Error processing payment:",y),y}})(i,e),console.log("Payment processed successfully");localStorage.setItem("lastBookingId",i),n(`/confirmation/${i}`)}catch(y){console.error("Payment processing error:",y),b("Payment processing failed: "+y.message)}finally{v(!1)}else b("Invalid card number. Please enter a 16-digit card number.");else b("Please fill all payment fields");else b("Booking information not available")},className:"payment-form",children:[(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"cardName",children:"Cardholder Name"}),(0,Ky.jsx)("input",{type:"text",id:"cardName",value:a,onChange:e=>o(e.target.value),placeholder:"Name on card",required:!0})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"cardNumber",children:"Card Number"}),(0,Ky.jsx)("input",{type:"text",id:"cardNumber",value:l,onChange:e=>c(e.target.value.replace(/\D/g,"").slice(0,16)),placeholder:"1234 5678 9012 3456",required:!0})]}),(0,Ky.jsxs)("div",{className:"form-row",children:[(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"expiryDate",children:"Expiry Date"}),(0,Ky.jsx)("input",{type:"text",id:"expiryDate",value:u,onChange:e=>h(e.target.value),placeholder:"MM/YY",required:!0})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"cvv",children:"CVV"}),(0,Ky.jsx)("input",{type:"text",id:"cvv",value:d,onChange:e=>f(e.target.value.replace(/\D/g,"").slice(0,3)),placeholder:"123",required:!0})]})]}),(0,Ky.jsxs)("div",{className:"total-payment",children:[(0,Ky.jsx)("span",{children:"Total Payment"}),(0,Ky.jsxs)("span",{children:["$",r.totalPrice]})]}),(0,Ky.jsx)("div",{className:"payment-note",children:(0,Ky.jsx)("p",{children:(0,Ky.jsx)("small",{children:"Note: This is a demo application. No actual payment will be processed and no real card information should be entered."})})}),(0,Ky.jsx)("button",{type:"submit",className:"btn-pay-now",disabled:g,children:g?"Processing Payment...":"Complete Payment"})]})]}):(0,Ky.jsx)("div",{className:"error-message",children:"Booking not found"})},Db=()=>(0,Ky.jsx)("div",{className:"page-container",children:(0,Ky.jsx)(Rb,{})}),Ob=()=>{const{bookingId:e}=re(),{currentUser:t}=Qy(),[n,r]=(0,i.useState)(null),[s,a]=(0,i.useState)(!0),[o,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{(async()=>{try{const n=await vb(e);if(console.log("Complete booking data:",JSON.stringify(n,null,2)),n.userId!==t.uid)return void l("Unauthorized access to this booking");if(r(n),n&&!n.confirmationEmailSent){(await Pb(n)).success&&u(!0)}else u(!0)}catch(o){console.error("Error details:",o),l("Failed to fetch booking confirmation: "+o.message)}finally{a(!1)}})()}),[e,t]),(0,i.useEffect)((()=>{(async()=>{try{const n=e||localStorage.getItem("lastBookingId");if(console.log("Fetching confirmation for booking ID:",n),!n)return l("No booking ID found. Please try creating a booking again."),void a(!1);const i=await vb(n);if(console.log("Confirmation data received:",i),i.userId!==t.uid)return console.error("Unauthorized: Booking belongs to user",i.userId),void l("Unauthorized access to this booking");r(i)}catch(o){console.error("Confirmation error details:",o),l("Failed to fetch booking confirmation: "+o.message)}finally{a(!1)}})()}),[e,t]),s?(0,Ky.jsx)("div",{className:"loading",children:"Loading confirmation details..."}):o?(0,Ky.jsx)("div",{className:"error-message",children:o}):n?(0,Ky.jsxs)("div",{className:"confirmation-container",children:[(0,Ky.jsxs)("div",{className:"confirmation-header",children:[(0,Ky.jsx)("div",{className:"confirmation-icon",children:(0,Ky.jsx)("span",{role:"img","aria-label":"success",children:"\u2705"})}),(0,Ky.jsx)("h2",{children:"Booking Confirmed!"}),(0,Ky.jsx)("p",{children:"Thank you for booking with Travenest. Your reservation is confirmed."})]}),(0,Ky.jsxs)("div",{className:"confirmation-details",children:[(0,Ky.jsxs)("div",{className:"confirmation-number",children:[(0,Ky.jsx)("h3",{children:"Booking Reference"}),(0,Ky.jsx)("p",{children:n.id})]}),(0,Ky.jsxs)("div",{className:"confirmation-info",children:[(0,Ky.jsx)("h3",{children:"Booking Details"}),(0,Ky.jsxs)("div",{className:"detail-item",children:[(0,Ky.jsx)("span",{children:"Package:"}),(0,Ky.jsx)("span",{children:n.packageTitle})]}),(0,Ky.jsxs)("div",{className:"detail-item",children:[(0,Ky.jsx)("span",{children:"Start Date:"}),(0,Ky.jsx)("span",{children:new Date(n.startDate).toLocaleDateString()})]}),(0,Ky.jsxs)("div",{className:"detail-item",children:[(0,Ky.jsx)("span",{children:"Number of Travelers:"}),(0,Ky.jsx)("span",{children:n.travelers})]}),(0,Ky.jsxs)("div",{className:"detail-item",children:[(0,Ky.jsx)("span",{children:"Total Amount:"}),(0,Ky.jsxs)("span",{children:["$",n.totalPrice]})]}),(0,Ky.jsxs)("div",{className:"detail-item",children:[(0,Ky.jsx)("span",{children:"Payment Status:"}),(0,Ky.jsx)("span",{className:"status paid",children:"Paid"})]})]}),(0,Ky.jsxs)("div",{className:"confirmation-customer",children:[(0,Ky.jsx)("h3",{children:"Customer Information"}),(0,Ky.jsxs)("div",{className:"detail-item",children:[(0,Ky.jsx)("span",{children:"Name:"}),(0,Ky.jsx)("span",{children:n.userName})]}),(0,Ky.jsxs)("div",{className:"detail-item",children:[(0,Ky.jsx)("span",{children:"Email:"}),(0,Ky.jsx)("span",{children:n.userEmail})]})]}),n.specialRequests&&(0,Ky.jsxs)("div",{className:"confirmation-requests",children:[(0,Ky.jsx)("h3",{children:"Special Requests"}),(0,Ky.jsx)("p",{children:n.specialRequests})]})]}),(0,Ky.jsx)("div",{className:"confirmation-message",children:(0,Ky.jsxs)("p",{children:["We have sent a confirmation email to ",n.userEmail," with all the details of your booking. If you have any questions, please contact our customer support."]})}),(0,Ky.jsxs)("div",{className:"confirmation-actions",children:[(0,Ky.jsx)(Ie,{to:"/dashboard",className:"btn-primary",children:"Go to My Bookings"}),(0,Ky.jsx)(Ie,{to:"/packages",className:"btn-secondary",children:"Browse More Packages"}),(0,Ky.jsx)("button",{onClick:()=>{Pb({}).then((e=>{console.log("Email test result:",e)}))},className:"btn-secondary",style:{marginTop:"10px"},children:"Send Test Email"})]})]}):(0,Ky.jsx)("div",{className:"error-message",children:"Booking not found"})},Lb=()=>(0,Ky.jsx)("div",{className:"page-container",children:(0,Ky.jsx)(Ob,{})}),Fb=e=>{let{bookings:t}=e;const n=[...t].sort(((e,t)=>new Date(t.createdAt)-new Date(e.createdAt))),r=e=>{switch(e){case"confirmed":return"status-confirmed";case"pending":return"status-pending";case"cancelled":return"status-cancelled";case"completed":return"status-completed";default:return""}};return(0,Ky.jsxs)("div",{className:"booking-history",children:[(0,Ky.jsx)("h2",{children:"My Bookings"}),(0,Ky.jsx)("div",{className:"booking-list",children:n.map((e=>(0,Ky.jsxs)("div",{className:"booking-card",children:[(0,Ky.jsxs)("div",{className:"booking-header",children:[(0,Ky.jsx)("h3",{children:e.packageTitle}),(0,Ky.jsx)("span",{className:`booking-status ${r(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),(0,Ky.jsxs)("div",{className:"booking-details",children:[(0,Ky.jsxs)("div",{className:"detail-row",children:[(0,Ky.jsx)("span",{children:"Booking Reference:"}),(0,Ky.jsx)("span",{children:e.id})]}),(0,Ky.jsxs)("div",{className:"detail-row",children:[(0,Ky.jsx)("span",{children:"Start Date:"}),(0,Ky.jsx)("span",{children:new Date(e.startDate).toLocaleDateString()})]}),(0,Ky.jsxs)("div",{className:"detail-row",children:[(0,Ky.jsx)("span",{children:"Travelers:"}),(0,Ky.jsx)("span",{children:e.travelers})]}),(0,Ky.jsxs)("div",{className:"detail-row",children:[(0,Ky.jsx)("span",{children:"Total:"}),(0,Ky.jsxs)("span",{children:["$",e.totalPrice]})]}),(0,Ky.jsxs)("div",{className:"detail-row",children:[(0,Ky.jsx)("span",{children:"Payment:"}),(0,Ky.jsx)("span",{className:"paid"===e.paymentStatus?"status-paid":"status-pending",children:e.paymentStatus.charAt(0).toUpperCase()+e.paymentStatus.slice(1)})]})]}),(0,Ky.jsxs)("div",{className:"booking-actions",children:[(0,Ky.jsx)(Ie,{to:`/confirmation/${e.id}`,className:"btn-view-details",children:"View Details"}),(0,Ky.jsx)(Ie,{to:`/payment/${e.id}`,className:"btn-view-details",children:"Process Payment \xa0           \xa0"}),"pending"===e.status&&(0,Ky.jsx)("button",{className:"btn-cancel",children:"Cancel Booking"})]})]},e.id)))})]})},Mb=()=>{const{currentUser:e,userProfile:t}=Qy(),[n,r]=(0,i.useState)(""),[s,a]=(0,i.useState)(""),[o,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),[h,d]=(0,i.useState)(""),[f,p]=(0,i.useState)(!1);(0,i.useEffect)((()=>{t&&(r(t.name||""),a(t.phone||""),l(t.address||""))}),[t]);return(0,Ky.jsx)("div",{className:"profile-container",children:(0,Ky.jsxs)("div",{className:"profile-form",children:[(0,Ky.jsx)("h2",{children:"Your Profile"}),c&&(0,Ky.jsx)("div",{className:"error-message",children:c}),h&&(0,Ky.jsx)("div",{className:"success-message",children:h}),(0,Ky.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{u(""),d(""),p(!0),await(async(e,t)=>{try{const n=uv(Wy,"users",e);return await fy(n,{...t,updatedAt:new Date}),!0}catch(c){throw c}})(e.uid,{name:n,phone:s,address:o}),d("Profile updated successfully")}catch(c){u("Failed to update profile: "+c.message)}finally{p(!1)}},children:[(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"email",children:"Email"}),(0,Ky.jsx)("input",{type:"email",id:"email",value:e.email,disabled:!0}),(0,Ky.jsx)("small",{children:"Email cannot be changed"})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"name",children:"Full Name"}),(0,Ky.jsx)("input",{type:"text",id:"name",value:n,onChange:e=>r(e.target.value),required:!0})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"phone",children:"Phone Number"}),(0,Ky.jsx)("input",{type:"tel",id:"phone",value:s,onChange:e=>a(e.target.value)})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"address",children:"Address"}),(0,Ky.jsx)("textarea",{id:"address",value:o,onChange:e=>l(e.target.value),rows:"3"})]}),(0,Ky.jsx)("button",{type:"submit",className:"btn-primary",disabled:f,children:f?"Updating...":"Update Profile"})]})]})})},Ub=()=>{const{currentUser:e,userProfile:t}=Qy(),[n,r]=(0,i.useState)("bookings"),[s,a]=(0,i.useState)([]),[o,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)("");return(0,i.useEffect)((()=>{(async()=>{try{const t=await(async e=>{try{console.log("Service: Getting bookings for user:",e);const t=Kv(cv(Wy,"bookings"),Qv("userId","==",e)),n=(await hy(t)).docs.map((e=>({id:e.id,...e.data()})));return console.log("Service: Retrieved",n.length,"bookings"),n}catch(c){throw console.error("Service: Error getting user bookings:",c),c}})(e.uid);a(t)}catch(c){u("Failed to fetch bookings: "+c.message)}finally{l(!1)}})()}),[e]),(0,Ky.jsxs)("div",{className:"dashboard-container",children:[(0,Ky.jsxs)("div",{className:"dashboard-header",children:[(0,Ky.jsx)("h1",{children:"My Dashboard"}),(0,Ky.jsxs)("p",{children:["Welcome back, ",(null===t||void 0===t?void 0:t.name)||e.email,"!"]})]}),(0,Ky.jsxs)("div",{className:"dashboard-tabs",children:[(0,Ky.jsx)("button",{className:"tab "+("bookings"===n?"active":""),onClick:()=>r("bookings"),children:"My Bookings"}),(0,Ky.jsx)("button",{className:"tab "+("profile"===n?"active":""),onClick:()=>r("profile"),children:"My Profile"})]}),(0,Ky.jsx)("div",{className:"dashboard-highlight-action",children:(0,Ky.jsxs)("div",{className:"highlight-card",children:[(0,Ky.jsx)("div",{className:"highlight-icon",children:"\u2728"}),(0,Ky.jsx)("h3",{children:"Create Your Dream Vacation"}),(0,Ky.jsx)("p",{children:"Tell us what you're looking for and we'll craft a custom travel package just for you."}),(0,Ky.jsx)(Ie,{to:"/custom-package",className:"btn-primary",children:"Custom Package Request"}),"\xa0\xa0"]})}),(0,Ky.jsxs)("div",{className:"dashboard-content",children:["bookings"===n&&(0,Ky.jsxs)(Ky.Fragment,{children:[c&&(0,Ky.jsx)("div",{className:"error-message",children:c}),o?(0,Ky.jsx)("div",{className:"loading",children:"Loading your bookings..."}):(0,Ky.jsx)(Ky.Fragment,{children:s.length>0?(0,Ky.jsx)(Fb,{bookings:s}):(0,Ky.jsxs)("div",{className:"no-bookings",children:[(0,Ky.jsx)("p",{children:"You haven't made any bookings yet."}),(0,Ky.jsx)(Ie,{to:"/packages",className:"btn-browse",children:"Browse Travel Packages"})]})})]}),"profile"===n&&(0,Ky.jsx)(Mb,{})]})]})},Vb=()=>{const{currentUser:e,loading:t}=Qy();return t?(0,Ky.jsx)("div",{className:"loading",children:"Loading..."}):e?(0,Ky.jsx)("div",{className:"page-container",children:(0,Ky.jsx)(Ub,{})}):(0,Ky.jsx)(ye,{to:"/login"})},zb=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!0),[s,a]=(0,i.useState)("");(0,i.useEffect)((()=>{(async()=>{try{r(!0);const e=await(async()=>{try{const e=cv(Wy,"users");return(await hy(e)).docs.map((e=>({id:e.id,...e.data()})))}catch(s){throw s}})();t(e)}catch(s){a("Failed to fetch users: "+s.message)}finally{r(!1)}})()}),[]);const o=async(n,r)=>{try{await(async(e,t)=>{try{const n=uv(Wy,"users",e);return await fy(n,{role:t,updatedAt:new Date}),!0}catch(s){throw s}})(n,r),t(e.map((e=>e.id===n?{...e,role:r}:e))),a("")}catch(s){a("Failed to update user role: "+s.message)}},l=async n=>{if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{await(async e=>{try{return await py(uv(Wy,"users",e)),!0}catch(s){throw s}})(n),t(e.filter((e=>e.id!==n))),a("")}catch(s){a("Failed to delete user: "+s.message)}};return n?(0,Ky.jsx)("div",{className:"loading",children:"Loading users..."}):(0,Ky.jsxs)("div",{className:"user-management",children:[(0,Ky.jsx)("h2",{children:"User Management"}),s&&(0,Ky.jsx)("div",{className:"error-message",children:s}),(0,Ky.jsxs)("div",{className:"user-table-container",children:[(0,Ky.jsxs)("table",{className:"user-table",children:[(0,Ky.jsx)("thead",{children:(0,Ky.jsxs)("tr",{children:[(0,Ky.jsx)("th",{children:"Name"}),(0,Ky.jsx)("th",{children:"Email"}),(0,Ky.jsx)("th",{children:"Role"}),(0,Ky.jsx)("th",{children:"Created"}),(0,Ky.jsx)("th",{children:"Actions"})]})}),(0,Ky.jsx)("tbody",{children:e.map((e=>(0,Ky.jsxs)("tr",{children:[(0,Ky.jsx)("td",{children:e.name}),(0,Ky.jsx)("td",{children:e.email}),(0,Ky.jsx)("td",{children:(0,Ky.jsxs)("select",{value:e.role,onChange:t=>o(e.id,t.target.value),children:[(0,Ky.jsx)("option",{value:"user",children:"User"}),(0,Ky.jsx)("option",{value:"admin",children:"Admin"})]})}),(0,Ky.jsx)("td",{children:new Date(1e3*e.createdAt.seconds).toLocaleDateString()}),(0,Ky.jsx)("td",{children:(0,Ky.jsx)("button",{onClick:()=>l(e.id),className:"btn-delete",children:"Delete"})})]},e.id)))})]}),0===e.length&&(0,Ky.jsx)("div",{className:"no-users",children:"No users found"})]})]})},Bb=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!0),[s,a]=(0,i.useState)(""),[o,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(null),[h,d]=(0,i.useState)({title:"",description:"",price:"",duration:"",region:"",imageUrl:"",itinerary:[""],included:[""],excluded:[""]});(0,i.useEffect)((()=>{(async()=>{try{r(!0);const e=await lb();t(e)}catch(s){a("Failed to fetch packages: "+s.message)}finally{r(!1)}})()}),[]);const f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(u(e),d({title:e.title||"",description:e.description||"",price:e.price||"",duration:e.duration||"",region:e.region||"",imageUrl:e.imageUrl||"",itinerary:e.itinerary||[""],included:e.included||[""],excluded:e.excluded||[""]})):(u(null),d({title:"",description:"",price:"",duration:"",region:"",imageUrl:"",itinerary:[""],included:[""],excluded:[""]})),l(!0)},p=()=>{l(!1),u(null)},m=e=>{const{name:t,value:n}=e.target;d({...h,[t]:"price"===t||"duration"===t?parseFloat(n):n})},g=(e,t,n)=>{const r=e.target.value,i=[...h[n]];i[t]=r,d({...h,[n]:i})},v=e=>{d({...h,[e]:[...h[e],""]})},y=(e,t)=>{const n=[...h[t]];n.splice(e,1),d({...h,[t]:n})},b=async n=>{if(window.confirm("Are you sure you want to delete this package? This action cannot be undone."))try{await(async e=>{try{return await py(uv(Wy,"packages",e)),!0}catch(s){throw s}})(n),t(e.filter((e=>e.id!==n))),a("")}catch(s){a("Failed to delete package: "+s.message)}};return n?(0,Ky.jsx)("div",{className:"loading",children:"Loading packages..."}):(0,Ky.jsxs)("div",{className:"package-management",children:[(0,Ky.jsxs)("div",{className:"management-header",children:[(0,Ky.jsx)("h2",{children:"Package Management"}),(0,Ky.jsx)("button",{onClick:()=>f(),className:"btn-add",children:"Add New Package"})]}),s&&(0,Ky.jsx)("div",{className:"error-message",children:s}),(0,Ky.jsxs)("div",{className:"package-table-container",children:[(0,Ky.jsxs)("table",{className:"package-table",children:[(0,Ky.jsx)("thead",{children:(0,Ky.jsxs)("tr",{children:[(0,Ky.jsx)("th",{children:"Title"}),(0,Ky.jsx)("th",{children:"Region"}),(0,Ky.jsx)("th",{children:"Duration"}),(0,Ky.jsx)("th",{children:"Price"}),(0,Ky.jsx)("th",{children:"Actions"})]})}),(0,Ky.jsx)("tbody",{children:e.map((e=>(0,Ky.jsxs)("tr",{children:[(0,Ky.jsx)("td",{children:e.title}),(0,Ky.jsx)("td",{children:e.region}),(0,Ky.jsxs)("td",{children:[e.duration," days"]}),(0,Ky.jsxs)("td",{children:["$",e.price]}),(0,Ky.jsxs)("td",{children:[(0,Ky.jsx)("button",{onClick:()=>f(e),className:"btn-edit",children:"Edit"}),(0,Ky.jsx)("button",{onClick:()=>b(e.id),className:"btn-delete",children:"Delete"})]})]},e.id)))})]}),0===e.length&&(0,Ky.jsx)("div",{className:"no-packages",children:"No packages found"})]}),o&&(0,Ky.jsx)("div",{className:"modal-overlay",children:(0,Ky.jsxs)("div",{className:"modal-content",children:[(0,Ky.jsxs)("div",{className:"modal-header",children:[(0,Ky.jsx)("h3",{children:c?"Edit Package":"Add New Package"}),(0,Ky.jsx)("button",{onClick:p,className:"btn-close",children:"\xd7"})]}),(0,Ky.jsxs)("form",{onSubmit:async n=>{n.preventDefault();try{if(c)await(async(e,t)=>{try{const n=uv(Wy,"packages",e);return await fy(n,{...t,updatedAt:new Date}),!0}catch(s){throw s}})(c.id,h),t(e.map((e=>e.id===c.id?{...e,...h}:e)));else{const n=await(async e=>{try{const t=cv(Wy,"packages");return(await my(t,{...e,createdAt:new Date})).id}catch(s){throw s}})(h);t([...e,{id:n,...h}])}p(),a("")}catch(s){a("Failed to save package: "+s.message)}},className:"package-form",children:[(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"title",children:"Package Title"}),(0,Ky.jsx)("input",{type:"text",id:"title",name:"title",value:h.title,onChange:m,required:!0})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"description",children:"Description"}),(0,Ky.jsx)("textarea",{id:"description",name:"description",value:h.description,onChange:m,rows:"4",required:!0})]}),(0,Ky.jsxs)("div",{className:"form-row",children:[(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"price",children:"Price ($)"}),(0,Ky.jsx)("input",{type:"number",id:"price",name:"price",value:h.price,onChange:m,min:"0",step:"0.01",required:!0})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"duration",children:"Duration (days)"}),(0,Ky.jsx)("input",{type:"number",id:"duration",name:"duration",value:h.duration,onChange:m,min:"1",required:!0})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"region",children:"Region"}),(0,Ky.jsxs)("select",{id:"region",name:"region",value:h.region,onChange:m,required:!0,children:[(0,Ky.jsx)("option",{value:"",children:"Select Region"}),(0,Ky.jsx)("option",{value:"Europe",children:"Europe"}),(0,Ky.jsx)("option",{value:"Asia",children:"Asia"}),(0,Ky.jsx)("option",{value:"Africa",children:"Africa"}),(0,Ky.jsx)("option",{value:"North America",children:"North America"}),(0,Ky.jsx)("option",{value:"South America",children:"South America"}),(0,Ky.jsx)("option",{value:"Australia",children:"Australia"})]})]})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"imageUrl",children:"Image URL"}),(0,Ky.jsx)("input",{type:"url",id:"imageUrl",name:"imageUrl",value:h.imageUrl,onChange:m,placeholder:"https://example.com/image.jpg"})]}),(0,Ky.jsxs)("div",{className:"form-section",children:[(0,Ky.jsx)("label",{children:"Itinerary (Day by Day)"}),h.itinerary.map(((e,t)=>(0,Ky.jsxs)("div",{className:"array-input-row",children:[(0,Ky.jsx)("textarea",{value:e,onChange:e=>g(e,t,"itinerary"),placeholder:`Day ${t+1}`,rows:"2"}),(0,Ky.jsx)("button",{type:"button",onClick:()=>y(t,"itinerary"),className:"btn-remove",disabled:h.itinerary.length<=1,children:"Remove"})]},t))),(0,Ky.jsx)("button",{type:"button",onClick:()=>v("itinerary"),className:"btn-add-item",children:"Add Day"})]}),(0,Ky.jsxs)("div",{className:"form-row",children:[(0,Ky.jsxs)("div",{className:"form-section",children:[(0,Ky.jsx)("label",{children:"What's Included"}),h.included.map(((e,t)=>(0,Ky.jsxs)("div",{className:"array-input-row",children:[(0,Ky.jsx)("input",{type:"text",value:e,onChange:e=>g(e,t,"included"),placeholder:"E.g., Accommodation"}),(0,Ky.jsx)("button",{type:"button",onClick:()=>y(t,"included"),className:"btn-remove",disabled:h.included.length<=1,children:"Remove"})]},t))),(0,Ky.jsx)("button",{type:"button",onClick:()=>v("included"),className:"btn-add-item",children:"Add Item"})]}),(0,Ky.jsxs)("div",{className:"form-section",children:[(0,Ky.jsx)("label",{children:"What's Not Included"}),h.excluded.map(((e,t)=>(0,Ky.jsxs)("div",{className:"array-input-row",children:[(0,Ky.jsx)("input",{type:"text",value:e,onChange:e=>g(e,t,"excluded"),placeholder:"E.g., Flights"}),(0,Ky.jsx)("button",{type:"button",onClick:()=>y(t,"excluded"),className:"btn-remove",disabled:h.excluded.length<=1,children:"Remove"})]},t))),(0,Ky.jsx)("button",{type:"button",onClick:()=>v("excluded"),className:"btn-add-item",children:"Add Item"})]})]}),(0,Ky.jsxs)("div",{className:"form-actions",children:[(0,Ky.jsx)("button",{type:"button",onClick:p,className:"btn-cancel",children:"Cancel"}),(0,Ky.jsx)("button",{type:"submit",className:"btn-save",children:c?"Update Package":"Create Package"})]})]})]})})]})},qb=()=>{const{userProfile:e,isAdmin:t}=Qy(),[n,r]=(0,i.useState)("packages"),s=ne();return(0,i.useEffect)((()=>{t||s("/dashboard")}),[t,s]),t?(0,Ky.jsxs)("div",{className:"admin-dashboard-container",children:[(0,Ky.jsxs)("div",{className:"admin-dashboard-header",children:[(0,Ky.jsx)("h1",{children:"Admin Dashboard"}),(0,Ky.jsxs)("p",{children:["Welcome, ",null===e||void 0===e?void 0:e.name,"!"]})]}),(0,Ky.jsxs)("div",{className:"admin-dashboard-tabs",children:[(0,Ky.jsx)("button",{className:"tab "+("packages"===n?"active":""),onClick:()=>r("packages"),children:"Manage Packages"}),(0,Ky.jsx)("button",{className:"tab "+("users"===n?"active":""),onClick:()=>r("users"),children:"Manage Users"}),(0,Ky.jsx)("button",{className:"tab "+("bookings"===n?"active":""),onClick:()=>r("bookings"),children:"Manage Bookings"})]}),(0,Ky.jsxs)("div",{className:"admin-dashboard-content",children:["packages"===n&&(0,Ky.jsx)(Bb,{}),"users"===n&&(0,Ky.jsx)(zb,{}),"bookings"===n&&(0,Ky.jsxs)("div",{children:[(0,Ky.jsx)("h2",{children:"Booking Management"}),(0,Ky.jsx)("p",{children:"Feature coming soon..."})]})]})]}):(0,Ky.jsx)("div",{className:"loading",children:"Checking credentials..."})},$b=()=>{const{currentUser:e,isAdmin:t,loading:n}=Qy();return n?(0,Ky.jsx)("div",{className:"loading",children:"Loading..."}):e?t?(0,Ky.jsx)("div",{className:"page-container",children:(0,Ky.jsx)(qb,{})}):(0,Ky.jsx)(ye,{to:"/dashboard"}):(0,Ky.jsx)(ye,{to:"/login"})},Hb=()=>(0,Ky.jsx)("div",{className:"not-found-page",children:(0,Ky.jsxs)("div",{className:"not-found-content",children:[(0,Ky.jsx)("h1",{children:"404"}),(0,Ky.jsx)("h2",{children:"Page Not Found"}),(0,Ky.jsx)("p",{children:"The page you are looking for doesn't exist or has been moved."}),(0,Ky.jsx)(Ie,{to:"/",className:"btn-primary",children:"Go to Homepage"})]})}),Wb=()=>{const[e,t]=(0,i.useState)(""),n=ne();return(0,Ky.jsxs)("div",{className:"page-container",children:[(0,Ky.jsx)("h2",{children:"Payment Test Page"}),(0,Ky.jsxs)("form",{onSubmit:t=>{t.preventDefault(),e&&n(`/payment/${e}`)},children:[(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"bookingId",children:"Enter Booking ID:"}),(0,Ky.jsx)("input",{type:"text",id:"bookingId",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,Ky.jsx)("button",{type:"submit",className:"btn-primary",children:"Go to Payment Page"})]})]})},Kb=()=>{const{currentUser:e,userProfile:t,loading:n}=Qy(),r=ne();(0,i.useEffect)((()=>{console.log("CustomPackageQuestionnaire - Current User",e),console.log("CustomPackageQuestionnaire - User Profile",t),console.log("CustomPackageQuestionnaire - Loading",n),n||e||(console.log("Redirecting to login from questionnaire"),r("/login",{state:{from:"/custom-package"}}))}),[e,t,n,r]);const[s,a]=(0,i.useState)({fullName:(null===t||void 0===t?void 0:t.name)||"",email:(null===e||void 0===e?void 0:e.email)||"",phone:"",numTravelers:1,travelDates:"",primaryDestination:"",secondaryDestinations:"",tripDuration:"",accommodationLevel:"",accommodationRequests:[],otherAccommodationRequests:"",diningExperiences:[],dietaryRequirements:[],otherDietaryNeeds:"",activities:[],activityLevel:"",transportationModes:[],flightClass:"",budgetPerPerson:"",budgetPriorities:{accommodation:0,dining:0,activities:0,transportation:0,shopping:0},specialOccasions:[],otherSpecialOccasion:"",specialRequests:"",addOns:[]}),[o,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(""),[h,d]=(0,i.useState)(!1),f=e=>{const{name:t,value:n}=e.target;a({...s,[t]:n})},p=(e,t)=>{const{name:n,checked:r}=e.target;a(r?{...s,[t]:[...s[t],n]}:{...s,[t]:s[t].filter((e=>e!==n))})},m=e=>{const{name:t,value:n}=e.target;a({...s,budgetPriorities:{...s.budgetPriorities,[t]:parseInt(n)}})};return h?(0,Ky.jsxs)("div",{className:"success-container",children:[(0,Ky.jsx)("div",{className:"success-icon",children:"\u2713"}),(0,Ky.jsx)("h2",{children:"Thank You for Your Custom Package Request!"}),(0,Ky.jsx)("p",{children:"Your questionnaire has been submitted successfully. A Travenest travel specialist will contact you within 48 hours to discuss your custom travel package and provide pricing options based on your preferences."}),(0,Ky.jsxs)("div",{className:"success-actions",children:[(0,Ky.jsx)("button",{onClick:()=>r("/dashboard"),className:"btn-primary",children:"Go to Dashboard"}),(0,Ky.jsx)("button",{onClick:()=>r("/packages"),className:"btn-secondary",children:"Browse Packages"})]})]}):(0,Ky.jsxs)("div",{className:"questionnaire-container",children:[(0,Ky.jsx)("h1",{children:"Custom Travel Package Questionnaire"}),(0,Ky.jsx)("p",{className:"questionnaire-intro",children:"Thank you for choosing Travenest for your next adventure! To create your perfect custom travel package, please complete the following questionnaire."}),c&&(0,Ky.jsx)("div",{className:"error-message",children:c}),(0,Ky.jsxs)("form",{onSubmit:async n=>{if(n.preventDefault(),e)try{l(!0),u("");const n={...s,userId:e.uid,userName:(null===t||void 0===t?void 0:t.name)||"User",userEmail:e.email,status:"pending",createdAt:new Date},r=await my(cv(Wy,"customPackageRequests"),n);console.log("Custom package request submitted with ID:",r.id),d(!0);const i=await sendCustomPackageRequestEmail({...s,id:r.id,email:e.email,fullName:(null===t||void 0===t?void 0:t.name)||s.fullName});i.success?console.log("Confirmation email sent successfully"):console.warn("Failed to send confirmation email",i.error),d(!0),window.scrollTo(0,0)}catch(c){console.error("Error submitting questionnaire:",c),u("Failed to submit questionnaire: "+c.message)}finally{l(!1)}else r("/login",{state:{from:"/custom-package"}})},className:"questionnaire-form",children:[(0,Ky.jsxs)("section",{className:"form-section",children:[(0,Ky.jsx)("h2",{children:"Personal Information"}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"fullName",children:"Full Name"}),(0,Ky.jsx)("input",{type:"text",id:"fullName",name:"fullName",value:s.fullName,onChange:f,required:!0})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,Ky.jsx)("input",{type:"email",id:"email",name:"email",value:s.email,onChange:f,required:!0})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"phone",children:"Phone Number"}),(0,Ky.jsx)("input",{type:"tel",id:"phone",name:"phone",value:s.phone,onChange:f,required:!0})]}),(0,Ky.jsxs)("div",{className:"form-row",children:[(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"numTravelers",children:"Number of Travelers"}),(0,Ky.jsx)("input",{type:"number",id:"numTravelers",name:"numTravelers",value:s.numTravelers,onChange:f,min:"1",required:!0})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"travelDates",children:"Preferred Travel Dates"}),(0,Ky.jsx)("input",{type:"text",id:"travelDates",name:"travelDates",value:s.travelDates,onChange:f,placeholder:"MM/YYYY or specific dates",required:!0})]})]})]}),(0,Ky.jsxs)("section",{className:"form-section",children:[(0,Ky.jsx)("h2",{children:"Destination Preferences"}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"primaryDestination",children:"Primary Destination"}),(0,Ky.jsx)("input",{type:"text",id:"primaryDestination",name:"primaryDestination",value:s.primaryDestination,onChange:f,required:!0})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"secondaryDestinations",children:"Secondary Destinations (if any)"}),(0,Ky.jsx)("input",{type:"text",id:"secondaryDestinations",name:"secondaryDestinations",value:s.secondaryDestinations,onChange:f})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"tripDuration",children:"Trip Duration (number of days)"}),(0,Ky.jsx)("input",{type:"number",id:"tripDuration",name:"tripDuration",value:s.tripDuration,onChange:f,min:"1",required:!0})]})]}),(0,Ky.jsxs)("section",{className:"form-section",children:[(0,Ky.jsx)("h2",{children:"Accommodation Preferences"}),(0,Ky.jsxs)("div",{className:"form-group radio-group",children:[(0,Ky.jsx)("p",{className:"label-heading",children:"Please select your preferred accommodation level:"}),(0,Ky.jsxs)("div",{className:"radio-option",children:[(0,Ky.jsx)("input",{type:"radio",id:"standard",name:"accommodationLevel",value:"Standard",checked:"Standard"===s.accommodationLevel,onChange:f}),(0,Ky.jsxs)("label",{htmlFor:"standard",children:[(0,Ky.jsx)("strong",{children:"Standard:"})," Comfortable, clean accommodations with basic amenities ($)"]})]}),(0,Ky.jsxs)("div",{className:"radio-option",children:[(0,Ky.jsx)("input",{type:"radio",id:"premium",name:"accommodationLevel",value:"Premium",checked:"Premium"===s.accommodationLevel,onChange:f}),(0,Ky.jsxs)("label",{htmlFor:"premium",children:[(0,Ky.jsx)("strong",{children:"Premium:"})," Higher quality accommodations with additional amenities and better locations ($$)"]})]}),(0,Ky.jsxs)("div",{className:"radio-option",children:[(0,Ky.jsx)("input",{type:"radio",id:"luxury",name:"accommodationLevel",value:"Luxury",checked:"Luxury"===s.accommodationLevel,onChange:f}),(0,Ky.jsxs)("label",{htmlFor:"luxury",children:[(0,Ky.jsx)("strong",{children:"Luxury:"})," High-end accommodations with premium amenities, exceptional service, and prime locations ($$$)"]})]}),(0,Ky.jsxs)("div",{className:"radio-option",children:[(0,Ky.jsx)("input",{type:"radio",id:"ultraLuxury",name:"accommodationLevel",value:"Ultra-Luxury",checked:"Ultra-Luxury"===s.accommodationLevel,onChange:f}),(0,Ky.jsxs)("label",{htmlFor:"ultraLuxury",children:[(0,Ky.jsx)("strong",{children:"Ultra-Luxury:"})," Exclusive 5-star properties, private villas, or resorts with personalized service and exceptional experiences ($$$$)"]})]})]}),(0,Ky.jsxs)("div",{className:"form-group checkbox-group",children:[(0,Ky.jsx)("p",{className:"label-heading",children:"Specific accommodation requests:"}),(0,Ky.jsxs)("div",{className:"checkbox-grid",children:[(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"oceanView",name:"Ocean/water view",checked:s.accommodationRequests.includes("Ocean/water view"),onChange:e=>p(e,"accommodationRequests")}),(0,Ky.jsx)("label",{htmlFor:"oceanView",children:"Ocean/water view"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"mountainView",name:"Mountain view",checked:s.accommodationRequests.includes("Mountain view"),onChange:e=>p(e,"accommodationRequests")}),(0,Ky.jsx)("label",{htmlFor:"mountainView",children:"Mountain view"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"cityCenter",name:"City center location",checked:s.accommodationRequests.includes("City center location"),onChange:e=>p(e,"accommodationRequests")}),(0,Ky.jsx)("label",{htmlFor:"cityCenter",children:"City center location"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"privatePool",name:"Private pool/hot tub",checked:s.accommodationRequests.includes("Private pool/hot tub"),onChange:e=>p(e,"accommodationRequests")}),(0,Ky.jsx)("label",{htmlFor:"privatePool",children:"Private pool/hot tub"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"familyFriendly",name:"Family-friendly",checked:s.accommodationRequests.includes("Family-friendly"),onChange:e=>p(e,"accommodationRequests")}),(0,Ky.jsx)("label",{htmlFor:"familyFriendly",children:"Family-friendly"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"adultOnly",name:"Adult-only",checked:s.accommodationRequests.includes("Adult-only"),onChange:e=>p(e,"accommodationRequests")}),(0,Ky.jsx)("label",{htmlFor:"adultOnly",children:"Adult-only"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"ecoFriendly",name:"Eco-friendly/Sustainable",checked:s.accommodationRequests.includes("Eco-friendly/Sustainable"),onChange:e=>p(e,"accommodationRequests")}),(0,Ky.jsx)("label",{htmlFor:"ecoFriendly",children:"Eco-friendly/Sustainable"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"historicProperty",name:"Historic property",checked:s.accommodationRequests.includes("Historic property"),onChange:e=>p(e,"accommodationRequests")}),(0,Ky.jsx)("label",{htmlFor:"historicProperty",children:"Historic property"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"boutiqueHotel",name:"Boutique hotel",checked:s.accommodationRequests.includes("Boutique hotel"),onChange:e=>p(e,"accommodationRequests")}),(0,Ky.jsx)("label",{htmlFor:"boutiqueHotel",children:"Boutique hotel"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"allInclusive",name:"All-inclusive resort",checked:s.accommodationRequests.includes("All-inclusive resort"),onChange:e=>p(e,"accommodationRequests")}),(0,Ky.jsx)("label",{htmlFor:"allInclusive",children:"All-inclusive resort"})]})]})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"otherAccommodationRequests",children:"Other accommodation requests"}),(0,Ky.jsx)("textarea",{id:"otherAccommodationRequests",name:"otherAccommodationRequests",value:s.otherAccommodationRequests,onChange:f,rows:"3"})]})]}),(0,Ky.jsxs)("section",{className:"form-section",children:[(0,Ky.jsx)("h2",{children:"Dining & Culinary Preferences"}),(0,Ky.jsxs)("div",{className:"form-group checkbox-group",children:[(0,Ky.jsx)("p",{className:"label-heading",children:"What types of dining experiences are you interested in?"}),(0,Ky.jsxs)("div",{className:"checkbox-grid",children:[(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"localCuisine",name:"Local authentic cuisine",checked:s.diningExperiences.includes("Local authentic cuisine"),onChange:e=>p(e,"diningExperiences")}),(0,Ky.jsx)("label",{htmlFor:"localCuisine",children:"Local authentic cuisine"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"fineDining",name:"Fine dining experiences",checked:s.diningExperiences.includes("Fine dining experiences"),onChange:e=>p(e,"diningExperiences")}),(0,Ky.jsx)("label",{htmlFor:"fineDining",children:"Fine dining experiences"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"streetFood",name:"Street food exploration",checked:s.diningExperiences.includes("Street food exploration"),onChange:e=>p(e,"diningExperiences")}),(0,Ky.jsx)("label",{htmlFor:"streetFood",children:"Street food exploration"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"cookingClasses",name:"Cooking classes/culinary workshops",checked:s.diningExperiences.includes("Cooking classes/culinary workshops"),onChange:e=>p(e,"diningExperiences")}),(0,Ky.jsx)("label",{htmlFor:"cookingClasses",children:"Cooking classes/culinary workshops"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"foodTours",name:"Food tours",checked:s.diningExperiences.includes("Food tours"),onChange:e=>p(e,"diningExperiences")}),(0,Ky.jsx)("label",{htmlFor:"foodTours",children:"Food tours"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"michelinStarred",name:"Michelin-starred restaurants",checked:s.diningExperiences.includes("Michelin-starred restaurants"),onChange:e=>p(e,"diningExperiences")}),(0,Ky.jsx)("label",{htmlFor:"michelinStarred",children:"Michelin-starred restaurants"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"farmToTable",name:"Farm-to-table experiences",checked:s.diningExperiences.includes("Farm-to-table experiences"),onChange:e=>p(e,"diningExperiences")}),(0,Ky.jsx)("label",{htmlFor:"farmToTable",children:"Farm-to-table experiences"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"tastings",name:"Wine/beer/spirits tastings",checked:s.diningExperiences.includes("Wine/beer/spirits tastings"),onChange:e=>p(e,"diningExperiences")}),(0,Ky.jsx)("label",{htmlFor:"tastings",children:"Wine/beer/spirits tastings"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"foodMarkets",name:"Food markets and festivals",checked:s.diningExperiences.includes("Food markets and festivals"),onChange:e=>p(e,"diningExperiences")}),(0,Ky.jsx)("label",{htmlFor:"foodMarkets",children:"Food markets and festivals"})]})]})]}),(0,Ky.jsxs)("div",{className:"form-group checkbox-group",children:[(0,Ky.jsx)("p",{className:"label-heading",children:"Do you have any dietary requirements or preferences?"}),(0,Ky.jsxs)("div",{className:"checkbox-grid",children:[(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"vegetarian",name:"Vegetarian",checked:s.dietaryRequirements.includes("Vegetarian"),onChange:e=>p(e,"dietaryRequirements")}),(0,Ky.jsx)("label",{htmlFor:"vegetarian",children:"Vegetarian"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"vegan",name:"Vegan",checked:s.dietaryRequirements.includes("Vegan"),onChange:e=>p(e,"dietaryRequirements")}),(0,Ky.jsx)("label",{htmlFor:"vegan",children:"Vegan"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"glutenFree",name:"Gluten-free",checked:s.dietaryRequirements.includes("Gluten-free"),onChange:e=>p(e,"dietaryRequirements")}),(0,Ky.jsx)("label",{htmlFor:"glutenFree",children:"Gluten-free"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"halal",name:"Halal",checked:s.dietaryRequirements.includes("Halal"),onChange:e=>p(e,"dietaryRequirements")}),(0,Ky.jsx)("label",{htmlFor:"halal",children:"Halal"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"kosher",name:"Kosher",checked:s.dietaryRequirements.includes("Kosher"),onChange:e=>p(e,"dietaryRequirements")}),(0,Ky.jsx)("label",{htmlFor:"kosher",children:"Kosher"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"foodAllergies",name:"Food allergies",checked:s.dietaryRequirements.includes("Food allergies"),onChange:e=>p(e,"dietaryRequirements")}),(0,Ky.jsx)("label",{htmlFor:"foodAllergies",children:"Food allergies"})]})]})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"otherDietaryNeeds",children:"Other dietary needs (please specify food allergies here)"}),(0,Ky.jsx)("textarea",{id:"otherDietaryNeeds",name:"otherDietaryNeeds",value:s.otherDietaryNeeds,onChange:f,rows:"3"})]}),"\xa0\xa0\xa0\xa0\xa0\xa0"]}),(0,Ky.jsxs)("section",{className:"form-section",children:[(0,Ky.jsx)("h2",{children:"Activities & Experiences"}),(0,Ky.jsxs)("div",{className:"form-group checkbox-group",children:[(0,Ky.jsx)("p",{className:"label-heading",children:"What types of experiences interest you?"}),(0,Ky.jsxs)("div",{className:"checkbox-grid",children:[(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"cultural",name:"Cultural (museums, historical sites, local customs)",checked:s.activities.includes("Cultural (museums, historical sites, local customs)"),onChange:e=>p(e,"activities")}),(0,Ky.jsx)("label",{htmlFor:"cultural",children:"Cultural (museums, historical sites, local customs)"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"adventure",name:"Adventure (hiking, water sports, zip-lining, etc.)",checked:s.activities.includes("Adventure (hiking, water sports, zip-lining, etc.)"),onChange:e=>p(e,"activities")}),(0,Ky.jsx)("label",{htmlFor:"adventure",children:"Adventure (hiking, water sports, zip-lining, etc.)"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"relaxation",name:"Relaxation (spa, beaches, wellness)",checked:s.activities.includes("Relaxation (spa, beaches, wellness)"),onChange:e=>p(e,"activities")}),(0,Ky.jsx)("label",{htmlFor:"relaxation",children:"Relaxation (spa, beaches, wellness)"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"natureWildlife",name:"Nature & Wildlife",checked:s.activities.includes("Nature & Wildlife"),onChange:e=>p(e,"activities")}),(0,Ky.jsx)("label",{htmlFor:"natureWildlife",children:"Nature & Wildlife"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"shopping",name:"Shopping",checked:s.activities.includes("Shopping"),onChange:e=>p(e,"activities")}),(0,Ky.jsx)("label",{htmlFor:"shopping",children:"Shopping"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"nightlife",name:"Nightlife & Entertainment",checked:s.activities.includes("Nightlife & Entertainment"),onChange:e=>p(e,"activities")}),(0,Ky.jsx)("label",{htmlFor:"nightlife",children:"Nightlife & Entertainment"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"artsMusic",name:"Arts & Music",checked:s.activities.includes("Arts & Music"),onChange:e=>p(e,"activities")}),(0,Ky.jsx)("label",{htmlFor:"artsMusic",children:"Arts & Music"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"photography",name:"Photography",checked:s.activities.includes("Photography"),onChange:e=>p(e,"activities")}),(0,Ky.jsx)("label",{htmlFor:"photography",children:"Photography"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"localCommunity",name:"Local community engagement/volunteering",checked:s.activities.includes("Local community engagement/volunteering"),onChange:e=>p(e,"activities")}),(0,Ky.jsx)("label",{htmlFor:"localCommunity",children:"Local community engagement/volunteering"})]})]})]}),(0,Ky.jsxs)("div",{className:"form-group radio-group",children:[(0,Ky.jsx)("p",{className:"label-heading",children:"What is your preferred activity level?"}),(0,Ky.jsxs)("div",{className:"radio-option",children:[(0,Ky.jsx)("input",{type:"radio",id:"lowActivity",name:"activityLevel",value:"Low",checked:"Low"===s.activityLevel,onChange:f}),(0,Ky.jsx)("label",{htmlFor:"lowActivity",children:"Low (primarily relaxation with minimal physical activity)"})]}),(0,Ky.jsxs)("div",{className:"radio-option",children:[(0,Ky.jsx)("input",{type:"radio",id:"moderateActivity",name:"activityLevel",value:"Moderate",checked:"Moderate"===s.activityLevel,onChange:f}),(0,Ky.jsx)("label",{htmlFor:"moderateActivity",children:"Moderate (balanced mix of activities and downtime)"})]}),(0,Ky.jsxs)("div",{className:"radio-option",children:[(0,Ky.jsx)("input",{type:"radio",id:"highActivity",name:"activityLevel",value:"High",checked:"High"===s.activityLevel,onChange:f}),(0,Ky.jsx)("label",{htmlFor:"highActivity",children:"High (active itinerary with full days of exploration)"})]})]}),"\xa0\xa0\xa0\xa0\xa0\xa0"]}),(0,Ky.jsxs)("section",{className:"form-section",children:[(0,Ky.jsx)("h2",{children:"Transportation Preferences"}),(0,Ky.jsxs)("div",{className:"form-group checkbox-group",children:[(0,Ky.jsx)("p",{className:"label-heading",children:"How would you like to get around at your destination?"}),(0,Ky.jsxs)("div",{className:"checkbox-grid",children:[(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"privateTransfers",name:"Private transfers",checked:s.transportationModes.includes("Private transfers"),onChange:e=>p(e,"transportationModes")}),(0,Ky.jsx)("label",{htmlFor:"privateTransfers",children:"Private transfers"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"rentalCar",name:"Rental car",checked:s.transportationModes.includes("Rental car"),onChange:e=>p(e,"transportationModes")}),(0,Ky.jsx)("label",{htmlFor:"rentalCar",children:"Rental car"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"publicTransport",name:"Public transportation",checked:s.transportationModes.includes("Public transportation"),onChange:e=>p(e,"transportationModes")}),(0,Ky.jsx)("label",{htmlFor:"publicTransport",children:"Public transportation"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"walkingBiking",name:"Walking/biking where possible",checked:s.transportationModes.includes("Walking/biking where possible"),onChange:e=>p(e,"transportationModes")}),(0,Ky.jsx)("label",{htmlFor:"walkingBiking",children:"Walking/biking where possible"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"combinationOptions",name:"Combination of options",checked:s.transportationModes.includes("Combination of options"),onChange:e=>p(e,"transportationModes")}),(0,Ky.jsx)("label",{htmlFor:"combinationOptions",children:"Combination of options"})]})]})]}),(0,Ky.jsxs)("div",{className:"form-group radio-group",children:[(0,Ky.jsx)("p",{className:"label-heading",children:"For flights:"}),(0,Ky.jsxs)("div",{className:"radio-option",children:[(0,Ky.jsx)("input",{type:"radio",id:"economy",name:"flightClass",value:"Economy",checked:"Economy"===s.flightClass,onChange:f}),(0,Ky.jsx)("label",{htmlFor:"economy",children:"Economy"})]}),(0,Ky.jsxs)("div",{className:"radio-option",children:[(0,Ky.jsx)("input",{type:"radio",id:"premiumEconomy",name:"flightClass",value:"Premium Economy",checked:"Premium Economy"===s.flightClass,onChange:f}),(0,Ky.jsx)("label",{htmlFor:"premiumEconomy",children:"Premium Economy"})]}),(0,Ky.jsxs)("div",{className:"radio-option",children:[(0,Ky.jsx)("input",{type:"radio",id:"businessClass",name:"flightClass",value:"Business Class",checked:"Business Class"===s.flightClass,onChange:f}),(0,Ky.jsx)("label",{htmlFor:"businessClass",children:"Business Class"})]}),(0,Ky.jsxs)("div",{className:"radio-option",children:[(0,Ky.jsx)("input",{type:"radio",id:"firstClass",name:"flightClass",value:"First Class",checked:"First Class"===s.flightClass,onChange:f}),(0,Ky.jsx)("label",{htmlFor:"firstClass",children:"First Class"})]})]}),"\xa0\xa0\xa0\xa0\xa0\xa0"]}),(0,Ky.jsxs)("section",{className:"form-section",children:[(0,Ky.jsx)("h2",{children:"Budget Considerations"}),(0,Ky.jsxs)("div",{className:"form-group radio-group",children:[(0,Ky.jsx)("p",{className:"label-heading",children:"What is your approximate budget per person (excluding flights)?"}),(0,Ky.jsxs)("div",{className:"radio-option",children:[(0,Ky.jsx)("input",{type:"radio",id:"budget1",name:"budgetPerPerson",value:"$100-200 per day",checked:"$100-200 per day"===s.budgetPerPerson,onChange:f}),(0,Ky.jsx)("label",{htmlFor:"budget1",children:"$100-200 per day"})]}),(0,Ky.jsxs)("div",{className:"radio-option",children:[(0,Ky.jsx)("input",{type:"radio",id:"budget2",name:"budgetPerPerson",value:"$200-350 per day",checked:"$200-350 per day"===s.budgetPerPerson,onChange:f}),(0,Ky.jsx)("label",{htmlFor:"budget2",children:"$200-350 per day"})]}),(0,Ky.jsxs)("div",{className:"radio-option",children:[(0,Ky.jsx)("input",{type:"radio",id:"budget3",name:"budgetPerPerson",value:"$350-500 per day",checked:"$350-500 per day"===s.budgetPerPerson,onChange:f}),(0,Ky.jsx)("label",{htmlFor:"budget3",children:"$350-500 per day"})]}),(0,Ky.jsxs)("div",{className:"radio-option",children:[(0,Ky.jsx)("input",{type:"radio",id:"budget4",name:"budgetPerPerson",value:"$500-750 per day",checked:"$500-750 per day"===s.budgetPerPerson,onChange:f}),(0,Ky.jsx)("label",{htmlFor:"budget4",children:"$500-750 per day"})]}),(0,Ky.jsxs)("div",{className:"radio-option",children:[(0,Ky.jsx)("input",{type:"radio",id:"budget5",name:"budgetPerPerson",value:"$750-1000 per day",checked:"$750-1000 per day"===s.budgetPerPerson,onChange:f}),(0,Ky.jsx)("label",{htmlFor:"budget5",children:"$750-1000 per day"})]}),(0,Ky.jsxs)("div",{className:"radio-option",children:[(0,Ky.jsx)("input",{type:"radio",id:"budget6",name:"budgetPerPerson",value:"$1000+ per day",checked:"$1000+ per day"===s.budgetPerPerson,onChange:f}),(0,Ky.jsx)("label",{htmlFor:"budget6",children:"$1000+ per day"})]})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("p",{className:"label-heading",children:"What aspects of your trip would you prioritize for spending? (Rank from 1-5, with 1 being highest priority)"}),(0,Ky.jsxs)("div",{className:"priority-ranking",children:[(0,Ky.jsxs)("div",{className:"priority-item",children:[(0,Ky.jsx)("label",{htmlFor:"priorityAccommodation",children:"Accommodation"}),(0,Ky.jsxs)("select",{id:"priorityAccommodation",name:"accommodation",value:s.budgetPriorities.accommodation,onChange:m,children:[(0,Ky.jsx)("option",{value:"0",children:"Select"}),(0,Ky.jsx)("option",{value:"1",children:"1 (Highest)"}),(0,Ky.jsx)("option",{value:"2",children:"2"}),(0,Ky.jsx)("option",{value:"3",children:"3"}),(0,Ky.jsx)("option",{value:"4",children:"4"}),(0,Ky.jsx)("option",{value:"5",children:"5 (Lowest)"})]})]}),(0,Ky.jsxs)("div",{className:"priority-item",children:[(0,Ky.jsx)("label",{htmlFor:"priorityDining",children:"Dining/Food"}),(0,Ky.jsxs)("select",{id:"priorityDining",name:"dining",value:s.budgetPriorities.dining,onChange:m,children:[(0,Ky.jsx)("option",{value:"0",children:"Select"}),(0,Ky.jsx)("option",{value:"1",children:"1 (Highest)"}),(0,Ky.jsx)("option",{value:"2",children:"2"}),(0,Ky.jsx)("option",{value:"3",children:"3"}),(0,Ky.jsx)("option",{value:"4",children:"4"}),(0,Ky.jsx)("option",{value:"5",children:"5 (Lowest)"})]})]}),(0,Ky.jsxs)("div",{className:"priority-item",children:[(0,Ky.jsx)("label",{htmlFor:"priorityActivities",children:"Activities/Experiences"}),(0,Ky.jsxs)("select",{id:"priorityActivities",name:"activities",value:s.budgetPriorities.activities,onChange:m,children:[(0,Ky.jsx)("option",{value:"0",children:"Select"}),(0,Ky.jsx)("option",{value:"1",children:"1 (Highest)"}),(0,Ky.jsx)("option",{value:"2",children:"2"}),(0,Ky.jsx)("option",{value:"3",children:"3"}),(0,Ky.jsx)("option",{value:"4",children:"4"}),(0,Ky.jsx)("option",{value:"5",children:"5 (Lowest)"})]})]}),(0,Ky.jsxs)("div",{className:"priority-item",children:[(0,Ky.jsx)("label",{htmlFor:"priorityTransportation",children:"Transportation"}),(0,Ky.jsxs)("select",{id:"priorityTransportation",name:"transportation",value:s.budgetPriorities.transportation,onChange:m,children:[(0,Ky.jsx)("option",{value:"0",children:"Select"}),(0,Ky.jsx)("option",{value:"1",children:"1 (Highest)"}),(0,Ky.jsx)("option",{value:"2",children:"2"}),(0,Ky.jsx)("option",{value:"3",children:"3"}),(0,Ky.jsx)("option",{value:"4",children:"4"}),(0,Ky.jsx)("option",{value:"5",children:"5 (Lowest)"})]})]}),(0,Ky.jsxs)("div",{className:"priority-item",children:[(0,Ky.jsx)("label",{htmlFor:"priorityShopping",children:"Shopping/Souvenirs"}),(0,Ky.jsxs)("select",{id:"priorityShopping",name:"shopping",value:s.budgetPriorities.shopping,onChange:m,children:[(0,Ky.jsx)("option",{value:"0",children:"Select"}),(0,Ky.jsx)("option",{value:"1",children:"1 (Highest)"}),(0,Ky.jsx)("option",{value:"2",children:"2"}),(0,Ky.jsx)("option",{value:"3",children:"3"}),(0,Ky.jsx)("option",{value:"4",children:"4"}),(0,Ky.jsx)("option",{value:"5",children:"5 (Lowest)"})]})]})]})]}),"\xa0\xa0\xa0\xa0\xa0\xa0"]}),(0,Ky.jsxs)("section",{className:"form-section",children:[(0,Ky.jsx)("h2",{children:"Special Occasions & Requests"}),(0,Ky.jsxs)("div",{className:"form-group checkbox-group",children:[(0,Ky.jsx)("p",{className:"label-heading",children:"Are you celebrating any special occasions during this trip?"}),(0,Ky.jsxs)("div",{className:"checkbox-grid",children:[(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"birthday",name:"Birthday",checked:s.specialOccasions.includes("Birthday"),onChange:e=>p(e,"specialOccasions")}),(0,Ky.jsx)("label",{htmlFor:"birthday",children:"Birthday"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"anniversary",name:"Anniversary",checked:s.specialOccasions.includes("Anniversary"),onChange:e=>p(e,"specialOccasions")}),(0,Ky.jsx)("label",{htmlFor:"anniversary",children:"Anniversary"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"honeymoon",name:"Honeymoon",checked:s.specialOccasions.includes("Honeymoon"),onChange:e=>p(e,"specialOccasions")}),(0,Ky.jsx)("label",{htmlFor:"honeymoon",children:"Honeymoon"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"proposal",name:"Proposal",checked:s.specialOccasions.includes("Proposal"),onChange:e=>p(e,"specialOccasions")}),(0,Ky.jsx)("label",{htmlFor:"proposal",children:"Proposal"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"graduation",name:"Graduation",checked:s.specialOccasions.includes("Graduation"),onChange:e=>p(e,"specialOccasions")}),(0,Ky.jsx)("label",{htmlFor:"graduation",children:"Graduation"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"retirement",name:"Retirement",checked:s.specialOccasions.includes("Retirement"),onChange:e=>p(e,"specialOccasions")}),(0,Ky.jsx)("label",{htmlFor:"retirement",children:"Retirement"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"otherOccasion",name:"Other",checked:s.specialOccasions.includes("Other"),onChange:e=>p(e,"specialOccasions")}),(0,Ky.jsx)("label",{htmlFor:"otherOccasion",children:"Other"})]})]})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"otherSpecialOccasion",children:"If you selected 'Other' above, please specify:"}),(0,Ky.jsx)("input",{type:"text",id:"otherSpecialOccasion",name:"otherSpecialOccasion",value:s.otherSpecialOccasion,onChange:f})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"specialRequests",children:"Any other special requests or information you'd like us to know?"}),(0,Ky.jsx)("textarea",{id:"specialRequests",name:"specialRequests",value:s.specialRequests,onChange:f,rows:"4"})]})]}),(0,Ky.jsxs)("section",{className:"form-section",children:[(0,Ky.jsx)("h2",{children:"Package Add-Ons"}),(0,Ky.jsxs)("div",{className:"form-group checkbox-group",children:[(0,Ky.jsx)("p",{className:"label-heading",children:"Would you be interested in any of these additional services? (Additional fees apply)"}),(0,Ky.jsxs)("div",{className:"checkbox-grid",children:[(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"airportLounge",name:"Airport lounge access",checked:s.addOns.includes("Airport lounge access"),onChange:e=>p(e,"addOns")}),(0,Ky.jsx)("label",{htmlFor:"childcare",children:"Child care/babysitting services"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"specialEvents",name:"Special event tickets (concerts, sporting events, etc.)",checked:s.addOns.includes("Special event tickets (concerts, sporting events, etc.)"),onChange:e=>p(e,"addOns")}),(0,Ky.jsx)("label",{htmlFor:"specialEvents",children:"Special event tickets (concerts, sporting events, etc.)"})]}),(0,Ky.jsxs)("div",{className:"checkbox-option",children:[(0,Ky.jsx)("input",{type:"checkbox",id:"privateTours",name:"Private tours with expert guides",checked:s.addOns.includes("Private tours with expert guides"),onChange:e=>p(e,"addOns")}),(0,Ky.jsx)("label",{htmlFor:"privateTours",children:"Private tours with expert guides"})]})]})]})]}),(0,Ky.jsx)("div",{className:"form-actions",children:(0,Ky.jsx)("button",{type:"submit",className:"btn-primary",disabled:o,children:o?"Submitting...":"Submit Questionnaire"})}),(0,Ky.jsx)("div",{className:"form-disclaimer",children:(0,Ky.jsx)("p",{children:"Thank you for completing our questionnaire! A Travenest travel specialist will contact you within 48 hours to discuss your custom travel package and provide pricing options based on your preferences."})})]})]})},Gb=()=>(0,Ky.jsx)("div",{className:"page-container",children:(0,Ky.jsx)(Kb,{})}),Qb=async e=>{try{const t=Kv(cv(Wy,"serviceProviders"),Qv("userId","==",e)),n=await hy(t);if(n.empty)return console.error("Service provider not found for user:",e),null;const r=n.docs[0];return{id:r.id,...r.data()}}catch(t){throw console.error("Error fetching provider details:",t),t}},Yb=n.p+"static/media/BookingDetailsModal.5c819905332bf1ff3b10",Xb=e=>{let{bookings:t,isProvider:n=!1}=e;const[r,s]=(0,i.useState)("all"),[a,o]=(0,i.useState)(null),[l,c]=(0,i.useState)(!1),[u,h]=(0,i.useState)(!1),[d,f]=(0,i.useState)(""),p=t.filter((e=>"all"===r||("upcoming"===r?"confirmed"===e.status&&new Date(e.startDate)>new Date:"past"===r?"completed"===e.status||new Date(e.startDate)<new Date:e.status===r))),m=async(e,n)=>{h(!0),f("");try{await(async(e,t)=>{try{console.log("Service: Updating booking status:",e,t);const n=uv(Wy,"bookings",e);return await fy(n,{status:t,updatedAt:new Date}),console.log("Service: Booking status updated"),!0}catch(d){throw console.error("Service: Error updating booking status:",d),d}})(e,n);t.map((t=>t.id===e?{...t,status:n}:t))}catch(d){console.error("Error updating booking status:",d),f("Failed to update booking status. Please try again.")}finally{h(!1)}};return(0,Ky.jsxs)("div",{className:"bookings-container",children:[(0,Ky.jsxs)("div",{className:"booking-filters",children:[(0,Ky.jsx)("button",{className:"all"===r?"active":"",onClick:()=>s("all"),children:"All Bookings"}),(0,Ky.jsx)("button",{className:"upcoming"===r?"active":"",onClick:()=>s("upcoming"),children:"Upcoming"}),(0,Ky.jsx)("button",{className:"completed"===r?"active":"",onClick:()=>s("completed"),children:"Completed"}),(0,Ky.jsx)("button",{className:"cancelled"===r?"active":"",onClick:()=>s("cancelled"),children:"Cancelled"})]}),d&&(0,Ky.jsx)("p",{className:"error-message",children:d}),0===p.length?(0,Ky.jsx)("div",{className:"no-bookings",children:(0,Ky.jsxs)("p",{children:["No ","all"!==r?r:""," bookings found."]})}):(0,Ky.jsx)("div",{className:"bookings-list",children:(0,Ky.jsxs)("table",{children:[(0,Ky.jsx)("thead",{children:(0,Ky.jsxs)("tr",{children:[(0,Ky.jsx)("th",{children:"Booking ID"}),(0,Ky.jsx)("th",{children:"Package"}),(0,Ky.jsx)("th",{children:"Travel Date"}),(0,Ky.jsx)("th",{children:"Travelers"}),(0,Ky.jsx)("th",{children:"Status"}),(0,Ky.jsx)("th",{children:"Actions"})]})}),(0,Ky.jsx)("tbody",{children:p.map((e=>{return(0,Ky.jsxs)("tr",{className:`status-${e.status}`,children:[(0,Ky.jsxs)("td",{children:[e.id.substring(0,8),"..."]}),(0,Ky.jsx)("td",{children:e.packageTitle}),(0,Ky.jsx)("td",{children:(t=e.startDate,new Date(t).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}))}),(0,Ky.jsx)("td",{children:e.travelers}),(0,Ky.jsx)("td",{children:(0,Ky.jsx)("span",{className:`status-badge ${e.status}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),(0,Ky.jsxs)("td",{children:[(0,Ky.jsx)("button",{className:"view-details-button",onClick:()=>(e=>{o(e),c(!0)})(e),children:"View Details"}),n&&"pending"===e.status&&(0,Ky.jsx)("button",{className:"confirm-button",onClick:()=>m(e.id,"confirmed"),disabled:u,children:"Confirm"}),n&&"confirmed"===e.status&&new Date(e.startDate)<new Date&&(0,Ky.jsx)("button",{className:"complete-button",onClick:()=>m(e.id,"completed"),disabled:u,children:"Mark Completed"})]})]},e.id);var t}))})]})}),l&&a&&(0,Ky.jsx)(Yb,{booking:a,onClose:()=>{c(!1)},isProvider:n,onStatusChange:m})]})},Jb=e=>{let{bookings:t}=e;const n=(0,i.useMemo)((()=>{const e=t.length,n=t.filter((e=>"confirmed"===e.status&&new Date(e.startDate)>new Date)).length,r=t.filter((e=>"completed"===e.status)).length,i=t.filter((e=>"paid"===e.paymentStatus)).reduce(((e,t)=>e+t.totalPrice),0),s=new Date;s.setDate(s.getDate()-30);return{total:e,upcoming:n,completed:r,revenue:i,recentBookings:t.filter((e=>new Date(e.createdAt)>s)).length}}),[t]);return(0,Ky.jsxs)("div",{className:"provider-stats",children:[(0,Ky.jsx)("h2",{children:"Performance Overview"}),(0,Ky.jsxs)("div",{className:"stats-grid",children:[(0,Ky.jsxs)("div",{className:"stat-card",children:[(0,Ky.jsx)("h3",{children:"Total Bookings"}),(0,Ky.jsx)("p",{className:"stat-value",children:n.total})]}),(0,Ky.jsxs)("div",{className:"stat-card",children:[(0,Ky.jsx)("h3",{children:"Upcoming"}),(0,Ky.jsx)("p",{className:"stat-value",children:n.upcoming})]}),(0,Ky.jsxs)("div",{className:"stat-card",children:[(0,Ky.jsx)("h3",{children:"Completed"}),(0,Ky.jsx)("p",{className:"stat-value",children:n.completed})]}),(0,Ky.jsxs)("div",{className:"stat-card",children:[(0,Ky.jsx)("h3",{children:"Last 30 Days"}),(0,Ky.jsx)("p",{className:"stat-value",children:n.recentBookings})]}),(0,Ky.jsxs)("div",{className:"stat-card revenue",children:[(0,Ky.jsx)("h3",{children:"Total Revenue"}),(0,Ky.jsxs)("p",{className:"stat-value",children:["$",n.revenue.toFixed(2)]})]})]}),0===t.length&&(0,Ky.jsx)("div",{className:"no-data-message",children:(0,Ky.jsx)("p",{children:"You haven't received any bookings yet. Once you receive bookings, your performance metrics will appear here."})})]})},Zb=e=>{let{bookings:t}=e;const n=(0,i.useMemo)((()=>{const e=t.length,n=t.filter((e=>"confirmed"===e.status&&new Date(e.startDate)>new Date)).length,r=t.filter((e=>"completed"===e.status)).length,i=t.filter((e=>"paid"===e.paymentStatus)).reduce(((e,t)=>e+t.totalPrice),0),s=new Date;s.setDate(s.getDate()-30);return{total:e,upcoming:n,completed:r,revenue:i,recentBookings:t.filter((e=>new Date(e.createdAt)>s)).length}}),[t]);return(0,Ky.jsxs)("div",{className:"provider-stats",children:[(0,Ky.jsx)("h2",{children:"Performance Overview"}),(0,Ky.jsxs)("div",{className:"stats-grid",children:[(0,Ky.jsxs)("div",{className:"stat-card",children:[(0,Ky.jsx)("h3",{children:"Total Bookings"}),(0,Ky.jsx)("p",{className:"stat-value",children:n.total})]}),(0,Ky.jsxs)("div",{className:"stat-card",children:[(0,Ky.jsx)("h3",{children:"Upcoming"}),(0,Ky.jsx)("p",{className:"stat-value",children:n.upcoming})]}),(0,Ky.jsxs)("div",{className:"stat-card",children:[(0,Ky.jsx)("h3",{children:"Completed"}),(0,Ky.jsx)("p",{className:"stat-value",children:n.completed})]}),(0,Ky.jsxs)("div",{className:"stat-card",children:[(0,Ky.jsx)("h3",{children:"Last 30 Days"}),(0,Ky.jsx)("p",{className:"stat-value",children:n.recentBookings})]}),(0,Ky.jsxs)("div",{className:"stat-card revenue",children:[(0,Ky.jsx)("h3",{children:"Total Revenue"}),(0,Ky.jsxs)("p",{className:"stat-value",children:["$",n.revenue.toFixed(2)]})]})]}),0===t.length&&(0,Ky.jsx)("div",{className:"no-data-message",children:(0,Ky.jsx)("p",{children:"You haven't received any bookings yet. Once you receive bookings, your performance metrics will appear here."})})]})},ew=()=>{const{currentUser:e}=Qy(),[t,n]=(0,i.useState)(null),[r,s]=(0,i.useState)([]),[a,o]=(0,i.useState)(!0),[l,c]=(0,i.useState)("overview");return(0,i.useEffect)((()=>{(async()=>{try{const t=await Qb(e.uid);n(t);const r=await(async e=>{try{const t=Kv(cv(Wy,"packages"),Qv("serviceProviders","array-contains",e)),n=await hy(t);if(n.empty)return[];const r=n.docs.map((e=>e.id)),i=Kv(cv(Wy,"bookings"),Qv("packageId","in",r));return(await hy(i)).docs.map((e=>({id:e.id,...e.data(),startDate:e.data().startDate.toDate(),createdAt:e.data().createdAt.toDate()})))}catch(t){throw console.error("Error fetching provider bookings:",t),t}})(e.uid);s(r)}catch(t){console.error("Error fetching provider data:",t)}finally{o(!1)}})()}),[e]),a?(0,Ky.jsx)("div",{className:"loading",children:"Loading dashboard..."}):t?(0,Ky.jsxs)("div",{className:"dashboard-container",children:[(0,Ky.jsx)("h1",{children:"Service Provider Dashboard"}),(0,Ky.jsxs)("div",{className:"provider-info",children:[(0,Ky.jsx)("h2",{children:t.businessName}),(0,Ky.jsxs)("p",{className:"verification-status",children:["Status: ",(0,Ky.jsx)("span",{className:t.isVerified?"verified":"pending",children:t.isVerified?"Verified":"Pending Verification"})]})]}),(0,Ky.jsxs)("div",{className:"dashboard-tabs",children:[(0,Ky.jsx)("button",{className:"overview"===l?"active":"",onClick:()=>c("overview"),children:"Overview"}),(0,Ky.jsx)("button",{className:"services"===l?"active":"",onClick:()=>c("services"),children:"My Services"}),(0,Ky.jsx)("button",{className:"bookings"===l?"active":"",onClick:()=>c("bookings"),children:"Bookings"})]}),(0,Ky.jsxs)("div",{className:"dashboard-content",children:["overview"===l&&(0,Ky.jsx)("div",{className:"dashboard-overview",children:(0,Ky.jsx)(Jb,{bookings:r})}),"services"===l&&(0,Ky.jsx)("div",{className:"dashboard-services",children:(0,Ky.jsx)(Zb,{providerId:e.uid})}),"bookings"===l&&(0,Ky.jsx)("div",{className:"dashboard-bookings",children:(0,Ky.jsx)(Xb,{bookings:r,isProvider:!0})})]})]}):(0,Ky.jsx)("div",{className:"error",children:"Provider profile not found or not approved yet."})},tw=()=>{const{currentUser:e}=Qy();return e?(0,Ky.jsx)("div",{className:"page-container",children:(0,Ky.jsx)(ew,{})}):(0,Ky.jsx)("div",{className:"loading",children:"Please log in to access your dashboard"})},nw=()=>{const{currentUser:e}=Qy(),[t,n]=(0,i.useState)(!0),[r,s]=(0,i.useState)(!1),[a,o]=(0,i.useState)(!1),[l,c]=(0,i.useState)(""),[u,h]=(0,i.useState)({businessName:"",businessType:"",address:{street:"",city:"",state:"",zipCode:"",country:""},contactPhone:"",website:"",description:""});(0,i.useEffect)((()=>{(async()=>{try{const t=await Qb(e.uid);t&&h({businessName:t.businessName||"",businessType:t.businessType||"",address:t.address||{street:"",city:"",state:"",zipCode:"",country:""},contactPhone:t.contactPhone||"",website:t.website||"",description:t.description||""})}catch(l){console.error("Error fetching provider data:",l),c("Failed to load provider profile. Please refresh the page.")}finally{n(!1)}})()}),[e]);const d=e=>{const{name:t,value:n}=e.target;if(t.includes("address.")){const e=t.split(".")[1];h({...u,address:{...u.address,[e]:n}})}else h({...u,[t]:n})};return t?(0,Ky.jsx)("div",{className:"loading",children:"Loading profile..."}):(0,Ky.jsxs)("div",{className:"provider-profile-container",children:[(0,Ky.jsx)("h1",{children:"Service Provider Profile"}),(0,Ky.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),s(!0),c(""),o(!1);try{await(async(e,t)=>{try{const n=await Qb(e);if(!n)throw new Error("Provider profile not found");const r=uv(Wy,"serviceProviders",n.id);return await fy(r,{businessName:t.businessName,businessType:t.businessType,description:t.description,contactPhone:t.contactPhone,website:t.website,address:t.address,updatedAt:new Date}),!0}catch(l){throw console.error("Error updating provider profile:",l),l}})(e.uid,u),o(!0),setTimeout((()=>o(!1)),3e3)}catch(l){console.error("Error updating profile:",l),c("Failed to update profile. Please try again.")}finally{s(!1)}},className:"profile-form",children:[(0,Ky.jsxs)("div",{className:"form-section",children:[(0,Ky.jsx)("h2",{children:"Business Information"}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"businessName",children:"Business Name"}),(0,Ky.jsx)("input",{type:"text",id:"businessName",name:"businessName",value:u.businessName,onChange:d,required:!0})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"businessType",children:"Business Type"}),(0,Ky.jsxs)("select",{id:"businessType",name:"businessType",value:u.businessType,onChange:d,required:!0,children:[(0,Ky.jsx)("option",{value:"",children:"Select a business type"}),(0,Ky.jsx)("option",{value:"accommodation",children:"Accommodation"}),(0,Ky.jsx)("option",{value:"transportation",children:"Transportation"}),(0,Ky.jsx)("option",{value:"tour",children:"Tour/Activity Provider"}),(0,Ky.jsx)("option",{value:"food",children:"Food & Beverage"}),(0,Ky.jsx)("option",{value:"guide",children:"Tour Guide"}),(0,Ky.jsx)("option",{value:"other",children:"Other"})]})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"description",children:"Business Description"}),(0,Ky.jsx)("textarea",{id:"description",name:"description",value:u.description,onChange:d,required:!0})]})]}),(0,Ky.jsxs)("div",{className:"form-section",children:[(0,Ky.jsx)("h2",{children:"Contact Information"}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"contactPhone",children:"Phone Number"}),(0,Ky.jsx)("input",{type:"tel",id:"contactPhone",name:"contactPhone",value:u.contactPhone,onChange:d,required:!0})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"website",children:"Website (Optional)"}),(0,Ky.jsx)("input",{type:"url",id:"website",name:"website",value:u.website,onChange:d,placeholder:"https://www.example.com"})]})]}),(0,Ky.jsxs)("div",{className:"form-section",children:[(0,Ky.jsx)("h2",{children:"Business Address"}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"address.street",children:"Street Address"}),(0,Ky.jsx)("input",{type:"text",id:"address.street",name:"address.street",value:u.address.street,onChange:d,required:!0})]}),(0,Ky.jsxs)("div",{className:"form-row",children:[(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"address.city",children:"City"}),(0,Ky.jsx)("input",{type:"text",id:"address.city",name:"address.city",value:u.address.city,onChange:d,required:!0})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"address.state",children:"State/Province"}),(0,Ky.jsx)("input",{type:"text",id:"address.state",name:"address.state",value:u.address.state,onChange:d,required:!0})]})]}),(0,Ky.jsxs)("div",{className:"form-row",children:[(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"address.zipCode",children:"ZIP/Postal Code"}),(0,Ky.jsx)("input",{type:"text",id:"address.zipCode",name:"address.zipCode",value:u.address.zipCode,onChange:d,required:!0})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"address.country",children:"Country"}),(0,Ky.jsx)("input",{type:"text",id:"address.country",name:"address.country",value:u.address.country,onChange:d,required:!0})]})]})]}),l&&(0,Ky.jsx)("p",{className:"error-message",children:l}),a&&(0,Ky.jsx)("p",{className:"success-message",children:"Profile updated successfully!"}),(0,Ky.jsx)("div",{className:"form-actions",children:(0,Ky.jsx)("button",{type:"submit",className:"save-button",disabled:r,children:r?"Saving...":"Save Changes"})})]})]})},rw=()=>{const{currentUser:e}=Qy();return e?(0,Ky.jsx)("div",{className:"page-container",children:(0,Ky.jsx)(nw,{})}):(0,Ky.jsx)("div",{className:"loading",children:"Please log in to access your profile"})},iw=()=>{const e=ne(),[t,n]=(0,i.useState)({businessName:"",contactPerson:"",email:"",password:"",confirmPassword:"",phone:"",businessType:"",description:"",address:"",city:"",country:"",website:""}),[r,s]=(0,i.useState)(""),[a,o]=(0,i.useState)(!1),l=e=>{const{name:r,value:i}=e.target;n({...t,[r]:i})};return(0,Ky.jsxs)("div",{className:"provider-registration-container",children:[(0,Ky.jsx)("h1",{children:"Register as a Service Provider"}),(0,Ky.jsx)("p",{className:"provider-intro",children:"Join our network of service providers and offer your services to travelers from around the world."}),r&&(0,Ky.jsx)("div",{className:"error-message",children:r}),(0,Ky.jsxs)("form",{onSubmit:async n=>{if(n.preventDefault(),t.password===t.confirmPassword)if(t.password.length<6)s("Password must be at least 6 characters");else try{o(!0),s("");const n=(await xi(Hy,t.email,t.password)).user;await dy(uv(Wy,"serviceProviders",n.uid),{businessName:t.businessName,contactPerson:t.contactPerson,email:t.email,phone:t.phone,businessType:t.businessType,description:t.description,address:t.address,city:t.city,country:t.country,website:t.website,approved:!1,createdAt:new Date,role:"provider"}),e("/provider/dashboard")}catch(r){console.error("Error registering provider:",r),s(r.message)}finally{o(!1)}else s("Passwords do not match")},className:"provider-form",children:[(0,Ky.jsxs)("div",{className:"form-section",children:[(0,Ky.jsx)("h2",{children:"Business Information"}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"businessName",children:"Business Name"}),(0,Ky.jsx)("input",{type:"text",id:"businessName",name:"businessName",value:t.businessName,onChange:l,required:!0})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"businessType",children:"Business Type"}),(0,Ky.jsxs)("select",{id:"businessType",name:"businessType",value:t.businessType,onChange:l,required:!0,children:[(0,Ky.jsx)("option",{value:"",children:"Select Business Type"}),(0,Ky.jsx)("option",{value:"hotel",children:"Hotel/Accommodation"}),(0,Ky.jsx)("option",{value:"transport",children:"Transportation Service"}),(0,Ky.jsx)("option",{value:"tour",children:"Tour Guide/Agency"}),(0,Ky.jsx)("option",{value:"restaurant",children:"Restaurant/Food Service"}),(0,Ky.jsx)("option",{value:"activity",children:"Activity/Experience Provider"}),(0,Ky.jsx)("option",{value:"other",children:"Other"})]})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"description",children:"Business Description"}),(0,Ky.jsx)("textarea",{id:"description",name:"description",value:t.description,onChange:l,rows:"4",required:!0})]}),(0,Ky.jsx)("div",{className:"form-row",children:(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"address",children:"Address"}),(0,Ky.jsx)("input",{type:"text",id:"address",name:"address",value:t.address,onChange:l,required:!0})]})}),(0,Ky.jsxs)("div",{className:"form-row",children:[(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"city",children:"City"}),(0,Ky.jsx)("input",{type:"text",id:"city",name:"city",value:t.city,onChange:l,required:!0})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"country",children:"Country"}),(0,Ky.jsx)("input",{type:"text",id:"country",name:"country",value:t.country,onChange:l,required:!0})]})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"website",children:"Website (Optional)"}),(0,Ky.jsx)("input",{type:"url",id:"website",name:"website",value:t.website,onChange:l,placeholder:"https://yourwebsite.com"})]})]}),(0,Ky.jsxs)("div",{className:"form-section",children:[(0,Ky.jsx)("h2",{children:"Contact Information"}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"contactPerson",children:"Contact Person Name"}),(0,Ky.jsx)("input",{type:"text",id:"contactPerson",name:"contactPerson",value:t.contactPerson,onChange:l,required:!0})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,Ky.jsx)("input",{type:"email",id:"email",name:"email",value:t.email,onChange:l,required:!0})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"phone",children:"Phone Number"}),(0,Ky.jsx)("input",{type:"tel",id:"phone",name:"phone",value:t.phone,onChange:l,required:!0})]})]}),(0,Ky.jsxs)("div",{className:"form-section",children:[(0,Ky.jsx)("h2",{children:"Account Information"}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"password",children:"Password"}),(0,Ky.jsx)("input",{type:"password",id:"password",name:"password",value:t.password,onChange:l,required:!0,minLength:"6"}),(0,Ky.jsx)("small",{children:"Password must be at least 6 characters long"})]}),(0,Ky.jsxs)("div",{className:"form-group",children:[(0,Ky.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,Ky.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:t.confirmPassword,onChange:l,required:!0})]})]}),(0,Ky.jsx)("div",{className:"form-disclaimer",children:(0,Ky.jsx)("p",{children:"By registering, you agree to our terms of service and privacy policy. Your application will be reviewed by our team, and you will be notified once approved."})}),(0,Ky.jsx)("div",{className:"form-actions",children:(0,Ky.jsx)("button",{type:"submit",className:"btn-primary",disabled:a,children:a?"Submitting...":"Register as Provider"})})]})]})},sw=()=>(0,Ky.jsx)("div",{className:"provider-registration-page",children:(0,Ky.jsxs)("div",{className:"container",children:[(0,Ky.jsx)("h1",{className:"page-title",children:"Provider Registration"}),(0,Ky.jsx)("div",{className:"provider-registration-container",children:(0,Ky.jsx)(iw,{})})]})}),aw=()=>(0,Ky.jsxs)(xe,{children:[(0,Ky.jsx)(be,{path:"/",element:(0,Ky.jsx)(nb,{})}),(0,Ky.jsx)(be,{path:"/login",element:(0,Ky.jsx)(ib,{})}),(0,Ky.jsx)(be,{path:"/register",element:(0,Ky.jsx)(ab,{})}),(0,Ky.jsx)(be,{path:"/packages",element:(0,Ky.jsx)(hb,{})}),(0,Ky.jsx)(be,{path:"/packages/:packageId",element:(0,Ky.jsx)(gb,{})}),(0,Ky.jsx)(be,{path:"/booking/:packageId",element:(0,Ky.jsx)(bb,{})}),(0,Ky.jsx)(be,{path:"/payment/:bookingId",element:(0,Ky.jsx)(Db,{})}),(0,Ky.jsx)(be,{path:"/payment-test",element:(0,Ky.jsx)(Wb,{})}),(0,Ky.jsx)(be,{path:"/confirmation/:bookingId",element:(0,Ky.jsx)(Lb,{})}),(0,Ky.jsx)(be,{path:"/dashboard",element:(0,Ky.jsx)(Vb,{})}),(0,Ky.jsx)(be,{path:"/provider/dashboard",element:(0,Ky.jsx)(tw,{})}),(0,Ky.jsx)(be,{path:"/provider/profile",element:(0,Ky.jsx)(rw,{})}),(0,Ky.jsx)(be,{path:"/provider/register",element:(0,Ky.jsx)(sw,{})}),(0,Ky.jsx)(be,{path:"/admin",element:(0,Ky.jsx)($b,{})}),(0,Ky.jsx)(be,{path:"/custom-package",element:(0,Ky.jsx)(Gb,{})}),(0,Ky.jsx)(be,{path:"*",element:(0,Ky.jsx)(Hb,{})})]});const ow=function(){const{pathname:e}=ee();return(0,i.useEffect)((()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})}),[e]),null},lw=()=>(0,Ky.jsx)(Ce,{children:(0,Ky.jsxs)(Yy,{children:[(0,Ky.jsx)(ow,{}),(0,Ky.jsxs)("div",{className:"app",children:[(0,Ky.jsx)(eb,{}),(0,Ky.jsx)("main",{className:"main-content",children:(0,Ky.jsx)(aw,{})}),(0,Ky.jsx)(tb,{})]})]})});a.createRoot(document.getElementById("root")).render((0,Ky.jsx)(i.StrictMode,{children:(0,Ky.jsx)(lw,{})}))})();
//# sourceMappingURL=main.a14c8e3b.js.map